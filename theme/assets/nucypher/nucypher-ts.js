var _g=Object.create;var fi=Object.defineProperty;var wg=Object.getOwnPropertyDescriptor;var Eg=Object.getOwnPropertyNames;var kg=Object.getPrototypeOf,qg=Object.prototype.hasOwnProperty;var $g=(r,A,e)=>A in r?fi(r,A,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[A]=e;var rA=(r,A)=>()=>(A||r((A={exports:{}}).exports,A),A.exports),rn=(r,A)=>{for(var e in A)fi(r,e,{get:A[e],enumerable:!0})},Ig=(r,A,e,t)=>{if(A&&typeof A=="object"||typeof A=="function")for(let j of Eg(A))!qg.call(r,j)&&j!==e&&fi(r,j,{get:()=>A[j],enumerable:!(t=wg(A,j))||t.enumerable});return r};var bt=(r,A,e)=>(e=r!=null?_g(kg(r)):{},Ig(A||!r||!r.__esModule?fi(e,"default",{value:r,enumerable:!0}):e,r));var $e=(r,A,e)=>($g(r,typeof A!="symbol"?A+"":A,e),e);var Bu=rA(()=>{});var Ia=rA((xu,$a)=>{(function(r,A){"use strict";function e(F,p){if(!F)throw new Error(p||"Assertion failed")}function t(F,p){F.super_=p;var x=function(){};x.prototype=p.prototype,F.prototype=new x,F.prototype.constructor=F}function j(F,p,x){if(j.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((p==="le"||p==="be")&&(x=p,p=10),this._init(F||0,p||10,x||"be"))}typeof r=="object"?r.exports=j:A.BN=j,j.BN=j,j.wordSize=26;var n;try{typeof window<"u"&&typeof window.Buffer<"u"?n=window.Buffer:n=Bu().Buffer}catch{}j.isBN=function(p){return p instanceof j?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===j.wordSize&&Array.isArray(p.words)},j.max=function(p,x){return p.cmp(x)>0?p:x},j.min=function(p,x){return p.cmp(x)<0?p:x},j.prototype._init=function(p,x,I){if(typeof p=="number")return this._initNumber(p,x,I);if(typeof p=="object")return this._initArray(p,x,I);x==="hex"&&(x=16),e(x===(x|0)&&x>=2&&x<=36),p=p.toString().replace(/\s+/g,"");var P=0;p[0]==="-"&&(P++,this.negative=1),P<p.length&&(x===16?this._parseHex(p,P,I):(this._parseBase(p,x,P),I==="le"&&this._initArray(this.toArray(),x,I)))},j.prototype._initNumber=function(p,x,I){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(e(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),I==="le"&&this._initArray(this.toArray(),x,I)},j.prototype._initArray=function(p,x,I){if(e(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var M,E,G=0;if(I==="be")for(P=p.length-1,M=0;P>=0;P-=3)E=p[P]|p[P-1]<<8|p[P-2]<<16,this.words[M]|=E<<G&67108863,this.words[M+1]=E>>>26-G&67108863,G+=24,G>=26&&(G-=26,M++);else if(I==="le")for(P=0,M=0;P<p.length;P+=3)E=p[P]|p[P+1]<<8|p[P+2]<<16,this.words[M]|=E<<G&67108863,this.words[M+1]=E>>>26-G&67108863,G+=24,G>=26&&(G-=26,M++);return this._strip()};function s(F,p){var x=F.charCodeAt(p);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;e(!1,"Invalid character in "+F)}function o(F,p,x){var I=s(F,x);return x-1>=p&&(I|=s(F,x-1)<<4),I}j.prototype._parseHex=function(p,x,I){this.length=Math.ceil((p.length-x)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var M=0,E=0,G;if(I==="be")for(P=p.length-1;P>=x;P-=2)G=o(p,x,P)<<M,this.words[E]|=G&67108863,M>=18?(M-=18,E+=1,this.words[E]|=G>>>26):M+=8;else{var O=p.length-x;for(P=O%2===0?x+1:x;P<p.length;P+=2)G=o(p,x,P)<<M,this.words[E]|=G&67108863,M>=18?(M-=18,E+=1,this.words[E]|=G>>>26):M+=8}this._strip()};function a(F,p,x,I){for(var P=0,M=0,E=Math.min(F.length,x),G=p;G<E;G++){var O=F.charCodeAt(G)-48;P*=I,O>=49?M=O-49+10:O>=17?M=O-17+10:M=O,e(O>=0&&M<I,"Invalid character"),P+=M}return P}j.prototype._parseBase=function(p,x,I){this.words=[0],this.length=1;for(var P=0,M=1;M<=67108863;M*=x)P++;P--,M=M/x|0;for(var E=p.length-I,G=E%P,O=Math.min(E,E-G)+I,g=0,$=I;$<O;$+=P)g=a(p,$,$+P,x),this.imuln(M),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g);if(G!==0){var W=1;for(g=a(p,$,p.length,x),$=0;$<G;$++)W*=x;this.imuln(W),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g)}this._strip()},j.prototype.copy=function(p){p.words=new Array(this.length);for(var x=0;x<this.length;x++)p.words[x]=this.words[x];p.length=this.length,p.negative=this.negative,p.red=this.red};function i(F,p){F.words=p.words,F.length=p.length,F.negative=p.negative,F.red=p.red}if(j.prototype._move=function(p){i(p,this)},j.prototype.clone=function(){var p=new j(null);return this.copy(p),p},j.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},j.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},j.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{j.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch{j.prototype.inspect=c}else j.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];j.prototype.toString=function(p,x){p=p||10,x=x|0||1;var I;if(p===16||p==="hex"){I="";for(var P=0,M=0,E=0;E<this.length;E++){var G=this.words[E],O=((G<<P|M)&16777215).toString(16);M=G>>>24-P&16777215,P+=2,P>=26&&(P-=26,E--),M!==0||E!==this.length-1?I=l[6-O.length]+O+I:I=O+I}for(M!==0&&(I=M.toString(16)+I);I.length%x!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}if(p===(p|0)&&p>=2&&p<=36){var g=u[p],$=f[p];I="";var W=this.clone();for(W.negative=0;!W.isZero();){var v=W.modrn($).toString(p);W=W.idivn($),W.isZero()?I=v+I:I=l[g-v.length]+v+I}for(this.isZero()&&(I="0"+I);I.length%x!==0;)I="0"+I;return this.negative!==0&&(I="-"+I),I}e(!1,"Base should be between 2 and 36")},j.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&e(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},j.prototype.toJSON=function(){return this.toString(16,2)},n&&(j.prototype.toBuffer=function(p,x){return this.toArrayLike(n,p,x)}),j.prototype.toArray=function(p,x){return this.toArrayLike(Array,p,x)};var h=function(p,x){return p.allocUnsafe?p.allocUnsafe(x):new p(x)};j.prototype.toArrayLike=function(p,x,I){this._strip();var P=this.byteLength(),M=I||Math.max(1,P);e(P<=M,"byte array longer than desired length"),e(M>0,"Requested array length <= 0");var E=h(p,M),G=x==="le"?"LE":"BE";return this["_toArrayLike"+G](E,P),E},j.prototype._toArrayLikeLE=function(p,x){for(var I=0,P=0,M=0,E=0;M<this.length;M++){var G=this.words[M]<<E|P;p[I++]=G&255,I<p.length&&(p[I++]=G>>8&255),I<p.length&&(p[I++]=G>>16&255),E===6?(I<p.length&&(p[I++]=G>>24&255),P=0,E=0):(P=G>>>24,E+=2)}if(I<p.length)for(p[I++]=P;I<p.length;)p[I++]=0},j.prototype._toArrayLikeBE=function(p,x){for(var I=p.length-1,P=0,M=0,E=0;M<this.length;M++){var G=this.words[M]<<E|P;p[I--]=G&255,I>=0&&(p[I--]=G>>8&255),I>=0&&(p[I--]=G>>16&255),E===6?(I>=0&&(p[I--]=G>>24&255),P=0,E=0):(P=G>>>24,E+=2)}if(I>=0)for(p[I--]=P;I>=0;)p[I--]=0},Math.clz32?j.prototype._countBits=function(p){return 32-Math.clz32(p)}:j.prototype._countBits=function(p){var x=p,I=0;return x>=4096&&(I+=13,x>>>=13),x>=64&&(I+=7,x>>>=7),x>=8&&(I+=4,x>>>=4),x>=2&&(I+=2,x>>>=2),I+x},j.prototype._zeroBits=function(p){if(p===0)return 26;var x=p,I=0;return x&8191||(I+=13,x>>>=13),x&127||(I+=7,x>>>=7),x&15||(I+=4,x>>>=4),x&3||(I+=2,x>>>=2),x&1||I++,I},j.prototype.bitLength=function(){var p=this.words[this.length-1],x=this._countBits(p);return(this.length-1)*26+x};function d(F){for(var p=new Array(F.bitLength()),x=0;x<p.length;x++){var I=x/26|0,P=x%26;p[x]=F.words[I]>>>P&1}return p}j.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,x=0;x<this.length;x++){var I=this._zeroBits(this.words[x]);if(p+=I,I!==26)break}return p},j.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},j.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},j.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},j.prototype.isNeg=function(){return this.negative!==0},j.prototype.neg=function(){return this.clone().ineg()},j.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},j.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var x=0;x<p.length;x++)this.words[x]=this.words[x]|p.words[x];return this._strip()},j.prototype.ior=function(p){return e((this.negative|p.negative)===0),this.iuor(p)},j.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},j.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},j.prototype.iuand=function(p){var x;this.length>p.length?x=p:x=this;for(var I=0;I<x.length;I++)this.words[I]=this.words[I]&p.words[I];return this.length=x.length,this._strip()},j.prototype.iand=function(p){return e((this.negative|p.negative)===0),this.iuand(p)},j.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},j.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},j.prototype.iuxor=function(p){var x,I;this.length>p.length?(x=this,I=p):(x=p,I=this);for(var P=0;P<I.length;P++)this.words[P]=x.words[P]^I.words[P];if(this!==x)for(;P<x.length;P++)this.words[P]=x.words[P];return this.length=x.length,this._strip()},j.prototype.ixor=function(p){return e((this.negative|p.negative)===0),this.iuxor(p)},j.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},j.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},j.prototype.inotn=function(p){e(typeof p=="number"&&p>=0);var x=Math.ceil(p/26)|0,I=p%26;this._expand(x),I>0&&x--;for(var P=0;P<x;P++)this.words[P]=~this.words[P]&67108863;return I>0&&(this.words[P]=~this.words[P]&67108863>>26-I),this._strip()},j.prototype.notn=function(p){return this.clone().inotn(p)},j.prototype.setn=function(p,x){e(typeof p=="number"&&p>=0);var I=p/26|0,P=p%26;return this._expand(I+1),x?this.words[I]=this.words[I]|1<<P:this.words[I]=this.words[I]&~(1<<P),this._strip()},j.prototype.iadd=function(p){var x;if(this.negative!==0&&p.negative===0)return this.negative=0,x=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,x=this.isub(p),p.negative=1,x._normSign();var I,P;this.length>p.length?(I=this,P=p):(I=p,P=this);for(var M=0,E=0;E<P.length;E++)x=(I.words[E]|0)+(P.words[E]|0)+M,this.words[E]=x&67108863,M=x>>>26;for(;M!==0&&E<I.length;E++)x=(I.words[E]|0)+M,this.words[E]=x&67108863,M=x>>>26;if(this.length=I.length,M!==0)this.words[this.length]=M,this.length++;else if(I!==this)for(;E<I.length;E++)this.words[E]=I.words[E];return this},j.prototype.add=function(p){var x;return p.negative!==0&&this.negative===0?(p.negative=0,x=this.sub(p),p.negative^=1,x):p.negative===0&&this.negative!==0?(this.negative=0,x=p.sub(this),this.negative=1,x):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},j.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var x=this.iadd(p);return p.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var I=this.cmp(p);if(I===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,M;I>0?(P=this,M=p):(P=p,M=this);for(var E=0,G=0;G<M.length;G++)x=(P.words[G]|0)-(M.words[G]|0)+E,E=x>>26,this.words[G]=x&67108863;for(;E!==0&&G<P.length;G++)x=(P.words[G]|0)+E,E=x>>26,this.words[G]=x&67108863;if(E===0&&G<P.length&&P!==this)for(;G<P.length;G++)this.words[G]=P.words[G];return this.length=Math.max(this.length,G),P!==this&&(this.negative=1),this._strip()},j.prototype.sub=function(p){return this.clone().isub(p)};function m(F,p,x){x.negative=p.negative^F.negative;var I=F.length+p.length|0;x.length=I,I=I-1|0;var P=F.words[0]|0,M=p.words[0]|0,E=P*M,G=E&67108863,O=E/67108864|0;x.words[0]=G;for(var g=1;g<I;g++){for(var $=O>>>26,W=O&67108863,v=Math.min(g,p.length-1),N=Math.max(0,g-F.length+1);N<=v;N++){var U=g-N|0;P=F.words[U]|0,M=p.words[N]|0,E=P*M+W,$+=E/67108864|0,W=E&67108863}x.words[g]=W|0,O=$|0}return O!==0?x.words[g]=O|0:x.length--,x._strip()}var b=function(p,x,I){var P=p.words,M=x.words,E=I.words,G=0,O,g,$,W=P[0]|0,v=W&8191,N=W>>>13,U=P[1]|0,V=U&8191,Y=U>>>13,nA=P[2]|0,eA=nA&8191,AA=nA>>>13,pe=P[3]|0,jA=pe&8191,aA=pe>>>13,lj=P[4]|0,GA=lj&8191,MA=lj>>>13,uj=P[5]|0,RA=uj&8191,CA=uj>>>13,dj=P[6]|0,TA=dj&8191,NA=dj>>>13,hj=P[7]|0,DA=hj&8191,UA=hj>>>13,pj=P[8]|0,LA=pj&8191,KA=pj>>>13,mj=P[9]|0,HA=mj&8191,zA=mj>>>13,gj=M[0]|0,VA=gj&8191,JA=gj>>>13,bj=M[1]|0,WA=bj&8191,XA=bj>>>13,yj=M[2]|0,QA=yj&8191,ZA=yj>>>13,Bj=M[3]|0,YA=Bj&8191,Ae=Bj>>>13,xj=M[4]|0,ee=xj&8191,te=xj>>>13,vj=M[5]|0,re=vj&8191,je=vj>>>13,_j=M[6]|0,ne=_j&8191,se=_j>>>13,wj=M[7]|0,ie=wj&8191,oe=wj>>>13,Ej=M[8]|0,ae=Ej&8191,ce=Ej>>>13,kj=M[9]|0,fe=kj&8191,le=kj>>>13;I.negative=p.negative^x.negative,I.length=19,O=Math.imul(v,VA),g=Math.imul(v,JA),g=g+Math.imul(N,VA)|0,$=Math.imul(N,JA);var Nr=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,O=Math.imul(V,VA),g=Math.imul(V,JA),g=g+Math.imul(Y,VA)|0,$=Math.imul(Y,JA),O=O+Math.imul(v,WA)|0,g=g+Math.imul(v,XA)|0,g=g+Math.imul(N,WA)|0,$=$+Math.imul(N,XA)|0;var Dr=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,O=Math.imul(eA,VA),g=Math.imul(eA,JA),g=g+Math.imul(AA,VA)|0,$=Math.imul(AA,JA),O=O+Math.imul(V,WA)|0,g=g+Math.imul(V,XA)|0,g=g+Math.imul(Y,WA)|0,$=$+Math.imul(Y,XA)|0,O=O+Math.imul(v,QA)|0,g=g+Math.imul(v,ZA)|0,g=g+Math.imul(N,QA)|0,$=$+Math.imul(N,ZA)|0;var Ur=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,O=Math.imul(jA,VA),g=Math.imul(jA,JA),g=g+Math.imul(aA,VA)|0,$=Math.imul(aA,JA),O=O+Math.imul(eA,WA)|0,g=g+Math.imul(eA,XA)|0,g=g+Math.imul(AA,WA)|0,$=$+Math.imul(AA,XA)|0,O=O+Math.imul(V,QA)|0,g=g+Math.imul(V,ZA)|0,g=g+Math.imul(Y,QA)|0,$=$+Math.imul(Y,ZA)|0,O=O+Math.imul(v,YA)|0,g=g+Math.imul(v,Ae)|0,g=g+Math.imul(N,YA)|0,$=$+Math.imul(N,Ae)|0;var Lr=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,O=Math.imul(GA,VA),g=Math.imul(GA,JA),g=g+Math.imul(MA,VA)|0,$=Math.imul(MA,JA),O=O+Math.imul(jA,WA)|0,g=g+Math.imul(jA,XA)|0,g=g+Math.imul(aA,WA)|0,$=$+Math.imul(aA,XA)|0,O=O+Math.imul(eA,QA)|0,g=g+Math.imul(eA,ZA)|0,g=g+Math.imul(AA,QA)|0,$=$+Math.imul(AA,ZA)|0,O=O+Math.imul(V,YA)|0,g=g+Math.imul(V,Ae)|0,g=g+Math.imul(Y,YA)|0,$=$+Math.imul(Y,Ae)|0,O=O+Math.imul(v,ee)|0,g=g+Math.imul(v,te)|0,g=g+Math.imul(N,ee)|0,$=$+Math.imul(N,te)|0;var Kr=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,O=Math.imul(RA,VA),g=Math.imul(RA,JA),g=g+Math.imul(CA,VA)|0,$=Math.imul(CA,JA),O=O+Math.imul(GA,WA)|0,g=g+Math.imul(GA,XA)|0,g=g+Math.imul(MA,WA)|0,$=$+Math.imul(MA,XA)|0,O=O+Math.imul(jA,QA)|0,g=g+Math.imul(jA,ZA)|0,g=g+Math.imul(aA,QA)|0,$=$+Math.imul(aA,ZA)|0,O=O+Math.imul(eA,YA)|0,g=g+Math.imul(eA,Ae)|0,g=g+Math.imul(AA,YA)|0,$=$+Math.imul(AA,Ae)|0,O=O+Math.imul(V,ee)|0,g=g+Math.imul(V,te)|0,g=g+Math.imul(Y,ee)|0,$=$+Math.imul(Y,te)|0,O=O+Math.imul(v,re)|0,g=g+Math.imul(v,je)|0,g=g+Math.imul(N,re)|0,$=$+Math.imul(N,je)|0;var sa=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(sa>>>26)|0,sa&=67108863,O=Math.imul(TA,VA),g=Math.imul(TA,JA),g=g+Math.imul(NA,VA)|0,$=Math.imul(NA,JA),O=O+Math.imul(RA,WA)|0,g=g+Math.imul(RA,XA)|0,g=g+Math.imul(CA,WA)|0,$=$+Math.imul(CA,XA)|0,O=O+Math.imul(GA,QA)|0,g=g+Math.imul(GA,ZA)|0,g=g+Math.imul(MA,QA)|0,$=$+Math.imul(MA,ZA)|0,O=O+Math.imul(jA,YA)|0,g=g+Math.imul(jA,Ae)|0,g=g+Math.imul(aA,YA)|0,$=$+Math.imul(aA,Ae)|0,O=O+Math.imul(eA,ee)|0,g=g+Math.imul(eA,te)|0,g=g+Math.imul(AA,ee)|0,$=$+Math.imul(AA,te)|0,O=O+Math.imul(V,re)|0,g=g+Math.imul(V,je)|0,g=g+Math.imul(Y,re)|0,$=$+Math.imul(Y,je)|0,O=O+Math.imul(v,ne)|0,g=g+Math.imul(v,se)|0,g=g+Math.imul(N,ne)|0,$=$+Math.imul(N,se)|0;var ia=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(ia>>>26)|0,ia&=67108863,O=Math.imul(DA,VA),g=Math.imul(DA,JA),g=g+Math.imul(UA,VA)|0,$=Math.imul(UA,JA),O=O+Math.imul(TA,WA)|0,g=g+Math.imul(TA,XA)|0,g=g+Math.imul(NA,WA)|0,$=$+Math.imul(NA,XA)|0,O=O+Math.imul(RA,QA)|0,g=g+Math.imul(RA,ZA)|0,g=g+Math.imul(CA,QA)|0,$=$+Math.imul(CA,ZA)|0,O=O+Math.imul(GA,YA)|0,g=g+Math.imul(GA,Ae)|0,g=g+Math.imul(MA,YA)|0,$=$+Math.imul(MA,Ae)|0,O=O+Math.imul(jA,ee)|0,g=g+Math.imul(jA,te)|0,g=g+Math.imul(aA,ee)|0,$=$+Math.imul(aA,te)|0,O=O+Math.imul(eA,re)|0,g=g+Math.imul(eA,je)|0,g=g+Math.imul(AA,re)|0,$=$+Math.imul(AA,je)|0,O=O+Math.imul(V,ne)|0,g=g+Math.imul(V,se)|0,g=g+Math.imul(Y,ne)|0,$=$+Math.imul(Y,se)|0,O=O+Math.imul(v,ie)|0,g=g+Math.imul(v,oe)|0,g=g+Math.imul(N,ie)|0,$=$+Math.imul(N,oe)|0;var oa=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(oa>>>26)|0,oa&=67108863,O=Math.imul(LA,VA),g=Math.imul(LA,JA),g=g+Math.imul(KA,VA)|0,$=Math.imul(KA,JA),O=O+Math.imul(DA,WA)|0,g=g+Math.imul(DA,XA)|0,g=g+Math.imul(UA,WA)|0,$=$+Math.imul(UA,XA)|0,O=O+Math.imul(TA,QA)|0,g=g+Math.imul(TA,ZA)|0,g=g+Math.imul(NA,QA)|0,$=$+Math.imul(NA,ZA)|0,O=O+Math.imul(RA,YA)|0,g=g+Math.imul(RA,Ae)|0,g=g+Math.imul(CA,YA)|0,$=$+Math.imul(CA,Ae)|0,O=O+Math.imul(GA,ee)|0,g=g+Math.imul(GA,te)|0,g=g+Math.imul(MA,ee)|0,$=$+Math.imul(MA,te)|0,O=O+Math.imul(jA,re)|0,g=g+Math.imul(jA,je)|0,g=g+Math.imul(aA,re)|0,$=$+Math.imul(aA,je)|0,O=O+Math.imul(eA,ne)|0,g=g+Math.imul(eA,se)|0,g=g+Math.imul(AA,ne)|0,$=$+Math.imul(AA,se)|0,O=O+Math.imul(V,ie)|0,g=g+Math.imul(V,oe)|0,g=g+Math.imul(Y,ie)|0,$=$+Math.imul(Y,oe)|0,O=O+Math.imul(v,ae)|0,g=g+Math.imul(v,ce)|0,g=g+Math.imul(N,ae)|0,$=$+Math.imul(N,ce)|0;var aa=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(aa>>>26)|0,aa&=67108863,O=Math.imul(HA,VA),g=Math.imul(HA,JA),g=g+Math.imul(zA,VA)|0,$=Math.imul(zA,JA),O=O+Math.imul(LA,WA)|0,g=g+Math.imul(LA,XA)|0,g=g+Math.imul(KA,WA)|0,$=$+Math.imul(KA,XA)|0,O=O+Math.imul(DA,QA)|0,g=g+Math.imul(DA,ZA)|0,g=g+Math.imul(UA,QA)|0,$=$+Math.imul(UA,ZA)|0,O=O+Math.imul(TA,YA)|0,g=g+Math.imul(TA,Ae)|0,g=g+Math.imul(NA,YA)|0,$=$+Math.imul(NA,Ae)|0,O=O+Math.imul(RA,ee)|0,g=g+Math.imul(RA,te)|0,g=g+Math.imul(CA,ee)|0,$=$+Math.imul(CA,te)|0,O=O+Math.imul(GA,re)|0,g=g+Math.imul(GA,je)|0,g=g+Math.imul(MA,re)|0,$=$+Math.imul(MA,je)|0,O=O+Math.imul(jA,ne)|0,g=g+Math.imul(jA,se)|0,g=g+Math.imul(aA,ne)|0,$=$+Math.imul(aA,se)|0,O=O+Math.imul(eA,ie)|0,g=g+Math.imul(eA,oe)|0,g=g+Math.imul(AA,ie)|0,$=$+Math.imul(AA,oe)|0,O=O+Math.imul(V,ae)|0,g=g+Math.imul(V,ce)|0,g=g+Math.imul(Y,ae)|0,$=$+Math.imul(Y,ce)|0,O=O+Math.imul(v,fe)|0,g=g+Math.imul(v,le)|0,g=g+Math.imul(N,fe)|0,$=$+Math.imul(N,le)|0;var ca=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(ca>>>26)|0,ca&=67108863,O=Math.imul(HA,WA),g=Math.imul(HA,XA),g=g+Math.imul(zA,WA)|0,$=Math.imul(zA,XA),O=O+Math.imul(LA,QA)|0,g=g+Math.imul(LA,ZA)|0,g=g+Math.imul(KA,QA)|0,$=$+Math.imul(KA,ZA)|0,O=O+Math.imul(DA,YA)|0,g=g+Math.imul(DA,Ae)|0,g=g+Math.imul(UA,YA)|0,$=$+Math.imul(UA,Ae)|0,O=O+Math.imul(TA,ee)|0,g=g+Math.imul(TA,te)|0,g=g+Math.imul(NA,ee)|0,$=$+Math.imul(NA,te)|0,O=O+Math.imul(RA,re)|0,g=g+Math.imul(RA,je)|0,g=g+Math.imul(CA,re)|0,$=$+Math.imul(CA,je)|0,O=O+Math.imul(GA,ne)|0,g=g+Math.imul(GA,se)|0,g=g+Math.imul(MA,ne)|0,$=$+Math.imul(MA,se)|0,O=O+Math.imul(jA,ie)|0,g=g+Math.imul(jA,oe)|0,g=g+Math.imul(aA,ie)|0,$=$+Math.imul(aA,oe)|0,O=O+Math.imul(eA,ae)|0,g=g+Math.imul(eA,ce)|0,g=g+Math.imul(AA,ae)|0,$=$+Math.imul(AA,ce)|0,O=O+Math.imul(V,fe)|0,g=g+Math.imul(V,le)|0,g=g+Math.imul(Y,fe)|0,$=$+Math.imul(Y,le)|0;var fa=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(fa>>>26)|0,fa&=67108863,O=Math.imul(HA,QA),g=Math.imul(HA,ZA),g=g+Math.imul(zA,QA)|0,$=Math.imul(zA,ZA),O=O+Math.imul(LA,YA)|0,g=g+Math.imul(LA,Ae)|0,g=g+Math.imul(KA,YA)|0,$=$+Math.imul(KA,Ae)|0,O=O+Math.imul(DA,ee)|0,g=g+Math.imul(DA,te)|0,g=g+Math.imul(UA,ee)|0,$=$+Math.imul(UA,te)|0,O=O+Math.imul(TA,re)|0,g=g+Math.imul(TA,je)|0,g=g+Math.imul(NA,re)|0,$=$+Math.imul(NA,je)|0,O=O+Math.imul(RA,ne)|0,g=g+Math.imul(RA,se)|0,g=g+Math.imul(CA,ne)|0,$=$+Math.imul(CA,se)|0,O=O+Math.imul(GA,ie)|0,g=g+Math.imul(GA,oe)|0,g=g+Math.imul(MA,ie)|0,$=$+Math.imul(MA,oe)|0,O=O+Math.imul(jA,ae)|0,g=g+Math.imul(jA,ce)|0,g=g+Math.imul(aA,ae)|0,$=$+Math.imul(aA,ce)|0,O=O+Math.imul(eA,fe)|0,g=g+Math.imul(eA,le)|0,g=g+Math.imul(AA,fe)|0,$=$+Math.imul(AA,le)|0;var la=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(la>>>26)|0,la&=67108863,O=Math.imul(HA,YA),g=Math.imul(HA,Ae),g=g+Math.imul(zA,YA)|0,$=Math.imul(zA,Ae),O=O+Math.imul(LA,ee)|0,g=g+Math.imul(LA,te)|0,g=g+Math.imul(KA,ee)|0,$=$+Math.imul(KA,te)|0,O=O+Math.imul(DA,re)|0,g=g+Math.imul(DA,je)|0,g=g+Math.imul(UA,re)|0,$=$+Math.imul(UA,je)|0,O=O+Math.imul(TA,ne)|0,g=g+Math.imul(TA,se)|0,g=g+Math.imul(NA,ne)|0,$=$+Math.imul(NA,se)|0,O=O+Math.imul(RA,ie)|0,g=g+Math.imul(RA,oe)|0,g=g+Math.imul(CA,ie)|0,$=$+Math.imul(CA,oe)|0,O=O+Math.imul(GA,ae)|0,g=g+Math.imul(GA,ce)|0,g=g+Math.imul(MA,ae)|0,$=$+Math.imul(MA,ce)|0,O=O+Math.imul(jA,fe)|0,g=g+Math.imul(jA,le)|0,g=g+Math.imul(aA,fe)|0,$=$+Math.imul(aA,le)|0;var ua=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(ua>>>26)|0,ua&=67108863,O=Math.imul(HA,ee),g=Math.imul(HA,te),g=g+Math.imul(zA,ee)|0,$=Math.imul(zA,te),O=O+Math.imul(LA,re)|0,g=g+Math.imul(LA,je)|0,g=g+Math.imul(KA,re)|0,$=$+Math.imul(KA,je)|0,O=O+Math.imul(DA,ne)|0,g=g+Math.imul(DA,se)|0,g=g+Math.imul(UA,ne)|0,$=$+Math.imul(UA,se)|0,O=O+Math.imul(TA,ie)|0,g=g+Math.imul(TA,oe)|0,g=g+Math.imul(NA,ie)|0,$=$+Math.imul(NA,oe)|0,O=O+Math.imul(RA,ae)|0,g=g+Math.imul(RA,ce)|0,g=g+Math.imul(CA,ae)|0,$=$+Math.imul(CA,ce)|0,O=O+Math.imul(GA,fe)|0,g=g+Math.imul(GA,le)|0,g=g+Math.imul(MA,fe)|0,$=$+Math.imul(MA,le)|0;var da=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(da>>>26)|0,da&=67108863,O=Math.imul(HA,re),g=Math.imul(HA,je),g=g+Math.imul(zA,re)|0,$=Math.imul(zA,je),O=O+Math.imul(LA,ne)|0,g=g+Math.imul(LA,se)|0,g=g+Math.imul(KA,ne)|0,$=$+Math.imul(KA,se)|0,O=O+Math.imul(DA,ie)|0,g=g+Math.imul(DA,oe)|0,g=g+Math.imul(UA,ie)|0,$=$+Math.imul(UA,oe)|0,O=O+Math.imul(TA,ae)|0,g=g+Math.imul(TA,ce)|0,g=g+Math.imul(NA,ae)|0,$=$+Math.imul(NA,ce)|0,O=O+Math.imul(RA,fe)|0,g=g+Math.imul(RA,le)|0,g=g+Math.imul(CA,fe)|0,$=$+Math.imul(CA,le)|0;var ha=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(ha>>>26)|0,ha&=67108863,O=Math.imul(HA,ne),g=Math.imul(HA,se),g=g+Math.imul(zA,ne)|0,$=Math.imul(zA,se),O=O+Math.imul(LA,ie)|0,g=g+Math.imul(LA,oe)|0,g=g+Math.imul(KA,ie)|0,$=$+Math.imul(KA,oe)|0,O=O+Math.imul(DA,ae)|0,g=g+Math.imul(DA,ce)|0,g=g+Math.imul(UA,ae)|0,$=$+Math.imul(UA,ce)|0,O=O+Math.imul(TA,fe)|0,g=g+Math.imul(TA,le)|0,g=g+Math.imul(NA,fe)|0,$=$+Math.imul(NA,le)|0;var pa=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(pa>>>26)|0,pa&=67108863,O=Math.imul(HA,ie),g=Math.imul(HA,oe),g=g+Math.imul(zA,ie)|0,$=Math.imul(zA,oe),O=O+Math.imul(LA,ae)|0,g=g+Math.imul(LA,ce)|0,g=g+Math.imul(KA,ae)|0,$=$+Math.imul(KA,ce)|0,O=O+Math.imul(DA,fe)|0,g=g+Math.imul(DA,le)|0,g=g+Math.imul(UA,fe)|0,$=$+Math.imul(UA,le)|0;var ma=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(ma>>>26)|0,ma&=67108863,O=Math.imul(HA,ae),g=Math.imul(HA,ce),g=g+Math.imul(zA,ae)|0,$=Math.imul(zA,ce),O=O+Math.imul(LA,fe)|0,g=g+Math.imul(LA,le)|0,g=g+Math.imul(KA,fe)|0,$=$+Math.imul(KA,le)|0;var ga=(G+O|0)+((g&8191)<<13)|0;G=($+(g>>>13)|0)+(ga>>>26)|0,ga&=67108863,O=Math.imul(HA,fe),g=Math.imul(HA,le),g=g+Math.imul(zA,fe)|0,$=Math.imul(zA,le);var ba=(G+O|0)+((g&8191)<<13)|0;return G=($+(g>>>13)|0)+(ba>>>26)|0,ba&=67108863,E[0]=Nr,E[1]=Dr,E[2]=Ur,E[3]=Lr,E[4]=Kr,E[5]=sa,E[6]=ia,E[7]=oa,E[8]=aa,E[9]=ca,E[10]=fa,E[11]=la,E[12]=ua,E[13]=da,E[14]=ha,E[15]=pa,E[16]=ma,E[17]=ga,E[18]=ba,G!==0&&(E[19]=G,I.length++),I};Math.imul||(b=m);function B(F,p,x){x.negative=p.negative^F.negative,x.length=F.length+p.length;for(var I=0,P=0,M=0;M<x.length-1;M++){var E=P;P=0;for(var G=I&67108863,O=Math.min(M,p.length-1),g=Math.max(0,M-F.length+1);g<=O;g++){var $=M-g,W=F.words[$]|0,v=p.words[g]|0,N=W*v,U=N&67108863;E=E+(N/67108864|0)|0,U=U+G|0,G=U&67108863,E=E+(U>>>26)|0,P+=E>>>26,E&=67108863}x.words[M]=G,I=E,E=P}return I!==0?x.words[M]=I:x.length--,x._strip()}function _(F,p,x){return B(F,p,x)}j.prototype.mulTo=function(p,x){var I,P=this.length+p.length;return this.length===10&&p.length===10?I=b(this,p,x):P<63?I=m(this,p,x):P<1024?I=B(this,p,x):I=_(this,p,x),I};function S(F,p){this.x=F,this.y=p}S.prototype.makeRBT=function(p){for(var x=new Array(p),I=j.prototype._countBits(p)-1,P=0;P<p;P++)x[P]=this.revBin(P,I,p);return x},S.prototype.revBin=function(p,x,I){if(p===0||p===I-1)return p;for(var P=0,M=0;M<x;M++)P|=(p&1)<<x-M-1,p>>=1;return P},S.prototype.permute=function(p,x,I,P,M,E){for(var G=0;G<E;G++)P[G]=x[p[G]],M[G]=I[p[G]]},S.prototype.transform=function(p,x,I,P,M,E){this.permute(E,p,x,I,P,M);for(var G=1;G<M;G<<=1)for(var O=G<<1,g=Math.cos(2*Math.PI/O),$=Math.sin(2*Math.PI/O),W=0;W<M;W+=O)for(var v=g,N=$,U=0;U<G;U++){var V=I[W+U],Y=P[W+U],nA=I[W+U+G],eA=P[W+U+G],AA=v*nA-N*eA;eA=v*eA+N*nA,nA=AA,I[W+U]=V+nA,P[W+U]=Y+eA,I[W+U+G]=V-nA,P[W+U+G]=Y-eA,U!==O&&(AA=g*v-$*N,N=g*N+$*v,v=AA)}},S.prototype.guessLen13b=function(p,x){var I=Math.max(x,p)|1,P=I&1,M=0;for(I=I/2|0;I;I=I>>>1)M++;return 1<<M+1+P},S.prototype.conjugate=function(p,x,I){if(!(I<=1))for(var P=0;P<I/2;P++){var M=p[P];p[P]=p[I-P-1],p[I-P-1]=M,M=x[P],x[P]=-x[I-P-1],x[I-P-1]=-M}},S.prototype.normalize13b=function(p,x){for(var I=0,P=0;P<x/2;P++){var M=Math.round(p[2*P+1]/x)*8192+Math.round(p[2*P]/x)+I;p[P]=M&67108863,M<67108864?I=0:I=M/67108864|0}return p},S.prototype.convert13b=function(p,x,I,P){for(var M=0,E=0;E<x;E++)M=M+(p[E]|0),I[2*E]=M&8191,M=M>>>13,I[2*E+1]=M&8191,M=M>>>13;for(E=2*x;E<P;++E)I[E]=0;e(M===0),e((M&-8192)===0)},S.prototype.stub=function(p){for(var x=new Array(p),I=0;I<p;I++)x[I]=0;return x},S.prototype.mulp=function(p,x,I){var P=2*this.guessLen13b(p.length,x.length),M=this.makeRBT(P),E=this.stub(P),G=new Array(P),O=new Array(P),g=new Array(P),$=new Array(P),W=new Array(P),v=new Array(P),N=I.words;N.length=P,this.convert13b(p.words,p.length,G,P),this.convert13b(x.words,x.length,$,P),this.transform(G,E,O,g,P,M),this.transform($,E,W,v,P,M);for(var U=0;U<P;U++){var V=O[U]*W[U]-g[U]*v[U];g[U]=O[U]*v[U]+g[U]*W[U],O[U]=V}return this.conjugate(O,g,P),this.transform(O,g,N,E,P,M),this.conjugate(N,E,P),this.normalize13b(N,P),I.negative=p.negative^x.negative,I.length=p.length+x.length,I._strip()},j.prototype.mul=function(p){var x=new j(null);return x.words=new Array(this.length+p.length),this.mulTo(p,x)},j.prototype.mulf=function(p){var x=new j(null);return x.words=new Array(this.length+p.length),_(this,p,x)},j.prototype.imul=function(p){return this.clone().mulTo(p,this)},j.prototype.imuln=function(p){var x=p<0;x&&(p=-p),e(typeof p=="number"),e(p<67108864);for(var I=0,P=0;P<this.length;P++){var M=(this.words[P]|0)*p,E=(M&67108863)+(I&67108863);I>>=26,I+=M/67108864|0,I+=E>>>26,this.words[P]=E&67108863}return I!==0&&(this.words[P]=I,this.length++),x?this.ineg():this},j.prototype.muln=function(p){return this.clone().imuln(p)},j.prototype.sqr=function(){return this.mul(this)},j.prototype.isqr=function(){return this.imul(this.clone())},j.prototype.pow=function(p){var x=d(p);if(x.length===0)return new j(1);for(var I=this,P=0;P<x.length&&x[P]===0;P++,I=I.sqr());if(++P<x.length)for(var M=I.sqr();P<x.length;P++,M=M.sqr())x[P]!==0&&(I=I.mul(M));return I},j.prototype.iushln=function(p){e(typeof p=="number"&&p>=0);var x=p%26,I=(p-x)/26,P=67108863>>>26-x<<26-x,M;if(x!==0){var E=0;for(M=0;M<this.length;M++){var G=this.words[M]&P,O=(this.words[M]|0)-G<<x;this.words[M]=O|E,E=G>>>26-x}E&&(this.words[M]=E,this.length++)}if(I!==0){for(M=this.length-1;M>=0;M--)this.words[M+I]=this.words[M];for(M=0;M<I;M++)this.words[M]=0;this.length+=I}return this._strip()},j.prototype.ishln=function(p){return e(this.negative===0),this.iushln(p)},j.prototype.iushrn=function(p,x,I){e(typeof p=="number"&&p>=0);var P;x?P=(x-x%26)/26:P=0;var M=p%26,E=Math.min((p-M)/26,this.length),G=67108863^67108863>>>M<<M,O=I;if(P-=E,P=Math.max(0,P),O){for(var g=0;g<E;g++)O.words[g]=this.words[g];O.length=E}if(E!==0)if(this.length>E)for(this.length-=E,g=0;g<this.length;g++)this.words[g]=this.words[g+E];else this.words[0]=0,this.length=1;var $=0;for(g=this.length-1;g>=0&&($!==0||g>=P);g--){var W=this.words[g]|0;this.words[g]=$<<26-M|W>>>M,$=W&G}return O&&$!==0&&(O.words[O.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},j.prototype.ishrn=function(p,x,I){return e(this.negative===0),this.iushrn(p,x,I)},j.prototype.shln=function(p){return this.clone().ishln(p)},j.prototype.ushln=function(p){return this.clone().iushln(p)},j.prototype.shrn=function(p){return this.clone().ishrn(p)},j.prototype.ushrn=function(p){return this.clone().iushrn(p)},j.prototype.testn=function(p){e(typeof p=="number"&&p>=0);var x=p%26,I=(p-x)/26,P=1<<x;if(this.length<=I)return!1;var M=this.words[I];return!!(M&P)},j.prototype.imaskn=function(p){e(typeof p=="number"&&p>=0);var x=p%26,I=(p-x)/26;if(e(this.negative===0,"imaskn works only with positive numbers"),this.length<=I)return this;if(x!==0&&I++,this.length=Math.min(I,this.length),x!==0){var P=67108863^67108863>>>x<<x;this.words[this.length-1]&=P}return this._strip()},j.prototype.maskn=function(p){return this.clone().imaskn(p)},j.prototype.iaddn=function(p){return e(typeof p=="number"),e(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},j.prototype._iaddn=function(p){this.words[0]+=p;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},j.prototype.isubn=function(p){if(e(typeof p=="number"),e(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},j.prototype.addn=function(p){return this.clone().iaddn(p)},j.prototype.subn=function(p){return this.clone().isubn(p)},j.prototype.iabs=function(){return this.negative=0,this},j.prototype.abs=function(){return this.clone().iabs()},j.prototype._ishlnsubmul=function(p,x,I){var P=p.length+I,M;this._expand(P);var E,G=0;for(M=0;M<p.length;M++){E=(this.words[M+I]|0)+G;var O=(p.words[M]|0)*x;E-=O&67108863,G=(E>>26)-(O/67108864|0),this.words[M+I]=E&67108863}for(;M<this.length-I;M++)E=(this.words[M+I]|0)+G,G=E>>26,this.words[M+I]=E&67108863;if(G===0)return this._strip();for(e(G===-1),G=0,M=0;M<this.length;M++)E=-(this.words[M]|0)+G,G=E>>26,this.words[M]=E&67108863;return this.negative=1,this._strip()},j.prototype._wordDiv=function(p,x){var I=this.length-p.length,P=this.clone(),M=p,E=M.words[M.length-1]|0,G=this._countBits(E);I=26-G,I!==0&&(M=M.ushln(I),P.iushln(I),E=M.words[M.length-1]|0);var O=P.length-M.length,g;if(x!=="mod"){g=new j(null),g.length=O+1,g.words=new Array(g.length);for(var $=0;$<g.length;$++)g.words[$]=0}var W=P.clone()._ishlnsubmul(M,1,O);W.negative===0&&(P=W,g&&(g.words[O]=1));for(var v=O-1;v>=0;v--){var N=(P.words[M.length+v]|0)*67108864+(P.words[M.length+v-1]|0);for(N=Math.min(N/E|0,67108863),P._ishlnsubmul(M,N,v);P.negative!==0;)N--,P.negative=0,P._ishlnsubmul(M,1,v),P.isZero()||(P.negative^=1);g&&(g.words[v]=N)}return g&&g._strip(),P._strip(),x!=="div"&&I!==0&&P.iushrn(I),{div:g||null,mod:P}},j.prototype.divmod=function(p,x,I){if(e(!p.isZero()),this.isZero())return{div:new j(0),mod:new j(0)};var P,M,E;return this.negative!==0&&p.negative===0?(E=this.neg().divmod(p,x),x!=="mod"&&(P=E.div.neg()),x!=="div"&&(M=E.mod.neg(),I&&M.negative!==0&&M.iadd(p)),{div:P,mod:M}):this.negative===0&&p.negative!==0?(E=this.divmod(p.neg(),x),x!=="mod"&&(P=E.div.neg()),{div:P,mod:E.mod}):this.negative&p.negative?(E=this.neg().divmod(p.neg(),x),x!=="div"&&(M=E.mod.neg(),I&&M.negative!==0&&M.isub(p)),{div:E.div,mod:M}):p.length>this.length||this.cmp(p)<0?{div:new j(0),mod:this}:p.length===1?x==="div"?{div:this.divn(p.words[0]),mod:null}:x==="mod"?{div:null,mod:new j(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new j(this.modrn(p.words[0]))}:this._wordDiv(p,x)},j.prototype.div=function(p){return this.divmod(p,"div",!1).div},j.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},j.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},j.prototype.divRound=function(p){var x=this.divmod(p);if(x.mod.isZero())return x.div;var I=x.div.negative!==0?x.mod.isub(p):x.mod,P=p.ushrn(1),M=p.andln(1),E=I.cmp(P);return E<0||M===1&&E===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},j.prototype.modrn=function(p){var x=p<0;x&&(p=-p),e(p<=67108863);for(var I=(1<<26)%p,P=0,M=this.length-1;M>=0;M--)P=(I*P+(this.words[M]|0))%p;return x?-P:P},j.prototype.modn=function(p){return this.modrn(p)},j.prototype.idivn=function(p){var x=p<0;x&&(p=-p),e(p<=67108863);for(var I=0,P=this.length-1;P>=0;P--){var M=(this.words[P]|0)+I*67108864;this.words[P]=M/p|0,I=M%p}return this._strip(),x?this.ineg():this},j.prototype.divn=function(p){return this.clone().idivn(p)},j.prototype.egcd=function(p){e(p.negative===0),e(!p.isZero());var x=this,I=p.clone();x.negative!==0?x=x.umod(p):x=x.clone();for(var P=new j(1),M=new j(0),E=new j(0),G=new j(1),O=0;x.isEven()&&I.isEven();)x.iushrn(1),I.iushrn(1),++O;for(var g=I.clone(),$=x.clone();!x.isZero();){for(var W=0,v=1;!(x.words[0]&v)&&W<26;++W,v<<=1);if(W>0)for(x.iushrn(W);W-- >0;)(P.isOdd()||M.isOdd())&&(P.iadd(g),M.isub($)),P.iushrn(1),M.iushrn(1);for(var N=0,U=1;!(I.words[0]&U)&&N<26;++N,U<<=1);if(N>0)for(I.iushrn(N);N-- >0;)(E.isOdd()||G.isOdd())&&(E.iadd(g),G.isub($)),E.iushrn(1),G.iushrn(1);x.cmp(I)>=0?(x.isub(I),P.isub(E),M.isub(G)):(I.isub(x),E.isub(P),G.isub(M))}return{a:E,b:G,gcd:I.iushln(O)}},j.prototype._invmp=function(p){e(p.negative===0),e(!p.isZero());var x=this,I=p.clone();x.negative!==0?x=x.umod(p):x=x.clone();for(var P=new j(1),M=new j(0),E=I.clone();x.cmpn(1)>0&&I.cmpn(1)>0;){for(var G=0,O=1;!(x.words[0]&O)&&G<26;++G,O<<=1);if(G>0)for(x.iushrn(G);G-- >0;)P.isOdd()&&P.iadd(E),P.iushrn(1);for(var g=0,$=1;!(I.words[0]&$)&&g<26;++g,$<<=1);if(g>0)for(I.iushrn(g);g-- >0;)M.isOdd()&&M.iadd(E),M.iushrn(1);x.cmp(I)>=0?(x.isub(I),P.isub(M)):(I.isub(x),M.isub(P))}var W;return x.cmpn(1)===0?W=P:W=M,W.cmpn(0)<0&&W.iadd(p),W},j.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var x=this.clone(),I=p.clone();x.negative=0,I.negative=0;for(var P=0;x.isEven()&&I.isEven();P++)x.iushrn(1),I.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;I.isEven();)I.iushrn(1);var M=x.cmp(I);if(M<0){var E=x;x=I,I=E}else if(M===0||I.cmpn(1)===0)break;x.isub(I)}while(!0);return I.iushln(P)},j.prototype.invm=function(p){return this.egcd(p).a.umod(p)},j.prototype.isEven=function(){return(this.words[0]&1)===0},j.prototype.isOdd=function(){return(this.words[0]&1)===1},j.prototype.andln=function(p){return this.words[0]&p},j.prototype.bincn=function(p){e(typeof p=="number");var x=p%26,I=(p-x)/26,P=1<<x;if(this.length<=I)return this._expand(I+1),this.words[I]|=P,this;for(var M=P,E=I;M!==0&&E<this.length;E++){var G=this.words[E]|0;G+=M,M=G>>>26,G&=67108863,this.words[E]=G}return M!==0&&(this.words[E]=M,this.length++),this},j.prototype.isZero=function(){return this.length===1&&this.words[0]===0},j.prototype.cmpn=function(p){var x=p<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var I;if(this.length>1)I=1;else{x&&(p=-p),e(p<=67108863,"Number is too big");var P=this.words[0]|0;I=P===p?0:P<p?-1:1}return this.negative!==0?-I|0:I},j.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var x=this.ucmp(p);return this.negative!==0?-x|0:x},j.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var x=0,I=this.length-1;I>=0;I--){var P=this.words[I]|0,M=p.words[I]|0;if(P!==M){P<M?x=-1:P>M&&(x=1);break}}return x},j.prototype.gtn=function(p){return this.cmpn(p)===1},j.prototype.gt=function(p){return this.cmp(p)===1},j.prototype.gten=function(p){return this.cmpn(p)>=0},j.prototype.gte=function(p){return this.cmp(p)>=0},j.prototype.ltn=function(p){return this.cmpn(p)===-1},j.prototype.lt=function(p){return this.cmp(p)===-1},j.prototype.lten=function(p){return this.cmpn(p)<=0},j.prototype.lte=function(p){return this.cmp(p)<=0},j.prototype.eqn=function(p){return this.cmpn(p)===0},j.prototype.eq=function(p){return this.cmp(p)===0},j.red=function(p){return new K(p)},j.prototype.toRed=function(p){return e(!this.red,"Already a number in reduction context"),e(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},j.prototype.fromRed=function(){return e(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},j.prototype._forceRed=function(p){return this.red=p,this},j.prototype.forceRed=function(p){return e(!this.red,"Already a number in reduction context"),this._forceRed(p)},j.prototype.redAdd=function(p){return e(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},j.prototype.redIAdd=function(p){return e(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},j.prototype.redSub=function(p){return e(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},j.prototype.redISub=function(p){return e(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},j.prototype.redShl=function(p){return e(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},j.prototype.redMul=function(p){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},j.prototype.redIMul=function(p){return e(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},j.prototype.redSqr=function(){return e(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},j.prototype.redISqr=function(){return e(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},j.prototype.redSqrt=function(){return e(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},j.prototype.redInvm=function(){return e(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},j.prototype.redNeg=function(){return e(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},j.prototype.redPow=function(p){return e(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var q={k256:null,p224:null,p192:null,p25519:null};function y(F,p){this.name=F,this.p=new j(p,16),this.n=this.p.bitLength(),this.k=new j(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}y.prototype._tmp=function(){var p=new j(null);return p.words=new Array(Math.ceil(this.n/13)),p},y.prototype.ireduce=function(p){var x=p,I;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),I=x.bitLength();while(I>this.n);var P=I<this.n?-1:x.ucmp(this.p);return P===0?(x.words[0]=0,x.length=1):P>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},y.prototype.split=function(p,x){p.iushrn(this.n,0,x)},y.prototype.imulK=function(p){return p.imul(this.k)};function w(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}t(w,y),w.prototype.split=function(p,x){for(var I=4194303,P=Math.min(p.length,9),M=0;M<P;M++)x.words[M]=p.words[M];if(x.length=P,p.length<=9){p.words[0]=0,p.length=1;return}var E=p.words[9];for(x.words[x.length++]=E&I,M=10;M<p.length;M++){var G=p.words[M]|0;p.words[M-10]=(G&I)<<4|E>>>22,E=G}E>>>=22,p.words[M-10]=E,E===0&&p.length>10?p.length-=10:p.length-=9},w.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var x=0,I=0;I<p.length;I++){var P=p.words[I]|0;x+=P*977,p.words[I]=x&67108863,x=P*64+(x/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function k(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}t(k,y);function R(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}t(R,y);function H(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}t(H,y),H.prototype.imulK=function(p){for(var x=0,I=0;I<p.length;I++){var P=(p.words[I]|0)*19+x,M=P&67108863;P>>>=26,p.words[I]=M,x=P}return x!==0&&(p.words[p.length++]=x),p},j._prime=function(p){if(q[p])return q[p];var x;if(p==="k256")x=new w;else if(p==="p224")x=new k;else if(p==="p192")x=new R;else if(p==="p25519")x=new H;else throw new Error("Unknown prime "+p);return q[p]=x,x};function K(F){if(typeof F=="string"){var p=j._prime(F);this.m=p.p,this.prime=p}else e(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}K.prototype._verify1=function(p){e(p.negative===0,"red works only with positives"),e(p.red,"red works only with red numbers")},K.prototype._verify2=function(p,x){e((p.negative|x.negative)===0,"red works only with positives"),e(p.red&&p.red===x.red,"red works only with red numbers")},K.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(i(p,p.umod(this.m)._forceRed(this)),p)},K.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},K.prototype.add=function(p,x){this._verify2(p,x);var I=p.add(x);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},K.prototype.iadd=function(p,x){this._verify2(p,x);var I=p.iadd(x);return I.cmp(this.m)>=0&&I.isub(this.m),I},K.prototype.sub=function(p,x){this._verify2(p,x);var I=p.sub(x);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},K.prototype.isub=function(p,x){this._verify2(p,x);var I=p.isub(x);return I.cmpn(0)<0&&I.iadd(this.m),I},K.prototype.shl=function(p,x){return this._verify1(p),this.imod(p.ushln(x))},K.prototype.imul=function(p,x){return this._verify2(p,x),this.imod(p.imul(x))},K.prototype.mul=function(p,x){return this._verify2(p,x),this.imod(p.mul(x))},K.prototype.isqr=function(p){return this.imul(p,p.clone())},K.prototype.sqr=function(p){return this.mul(p,p)},K.prototype.sqrt=function(p){if(p.isZero())return p.clone();var x=this.m.andln(3);if(e(x%2===1),x===3){var I=this.m.add(new j(1)).iushrn(2);return this.pow(p,I)}for(var P=this.m.subn(1),M=0;!P.isZero()&&P.andln(1)===0;)M++,P.iushrn(1);e(!P.isZero());var E=new j(1).toRed(this),G=E.redNeg(),O=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new j(2*g*g).toRed(this);this.pow(g,O).cmp(G)!==0;)g.redIAdd(G);for(var $=this.pow(g,P),W=this.pow(p,P.addn(1).iushrn(1)),v=this.pow(p,P),N=M;v.cmp(E)!==0;){for(var U=v,V=0;U.cmp(E)!==0;V++)U=U.redSqr();e(V<N);var Y=this.pow($,new j(1).iushln(N-V-1));W=W.redMul(Y),$=Y.redSqr(),v=v.redMul($),N=V}return W},K.prototype.invm=function(p){var x=p._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},K.prototype.pow=function(p,x){if(x.isZero())return new j(1).toRed(this);if(x.cmpn(1)===0)return p.clone();var I=4,P=new Array(1<<I);P[0]=new j(1).toRed(this),P[1]=p;for(var M=2;M<P.length;M++)P[M]=this.mul(P[M-1],p);var E=P[0],G=0,O=0,g=x.bitLength()%26;for(g===0&&(g=26),M=x.length-1;M>=0;M--){for(var $=x.words[M],W=g-1;W>=0;W--){var v=$>>W&1;if(E!==P[0]&&(E=this.sqr(E)),v===0&&G===0){O=0;continue}G<<=1,G|=v,O++,!(O!==I&&(M!==0||W!==0))&&(E=this.mul(E,P[G]),O=0,G=0)}g=26}return E},K.prototype.convertTo=function(p){var x=p.umod(this.m);return x===p?x.clone():x},K.prototype.convertFrom=function(p){var x=p.clone();return x.red=null,x},j.mont=function(p){return new Z(p)};function Z(F){K.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new j(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}t(Z,K),Z.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},Z.prototype.convertFrom=function(p){var x=this.imod(p.mul(this.rinv));return x.red=null,x},Z.prototype.imul=function(p,x){if(p.isZero()||x.isZero())return p.words[0]=0,p.length=1,p;var I=p.imul(x),P=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=I.isub(P).iushrn(this.shift),E=M;return M.cmp(this.m)>=0?E=M.isub(this.m):M.cmpn(0)<0&&(E=M.iadd(this.m)),E._forceRed(this)},Z.prototype.mul=function(p,x){if(p.isZero()||x.isZero())return new j(0)._forceRed(this);var I=p.mul(x),P=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=I.isub(P).iushrn(this.shift),E=M;return M.cmp(this.m)>=0?E=M.isub(this.m):M.cmpn(0)<0&&(E=M.iadd(this.m)),E._forceRed(this)},Z.prototype.invm=function(p){var x=this.imod(p._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(typeof $a>"u"||$a,xu)});var Vu=rA((y2,Bi)=>{(function(){"use strict";var r="input is invalid type",A="finalize already called",e=typeof window=="object",t=e?window:{};t.JS_SHA3_NO_WINDOW&&(e=!1);var j=!e&&typeof self=="object",n=!t.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;n?t=global:j&&(t=self);var s=!t.JS_SHA3_NO_COMMON_JS&&typeof Bi=="object"&&Bi.exports,o=typeof define=="function"&&define.amd,a=!t.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",i="0123456789abcdef".split(""),c=[31,7936,2031616,520093696],l=[4,1024,262144,67108864],u=[1,256,65536,16777216],f=[6,1536,393216,100663296],h=[0,8,16,24],d=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],b=[128,256],B=["hex","buffer","arrayBuffer","array","digest"],_={128:168,256:136};(t.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(v){return Object.prototype.toString.call(v)==="[object Array]"}),a&&(t.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(v){return typeof v=="object"&&v.buffer&&v.buffer.constructor===ArrayBuffer});for(var S=function(v,N,U){return function(V){return new g(v,N,v).update(V)[U]()}},q=function(v,N,U){return function(V,Y){return new g(v,N,Y).update(V)[U]()}},y=function(v,N,U){return function(V,Y,nA,eA){return p["cshake"+v].update(V,Y,nA,eA)[U]()}},w=function(v,N,U){return function(V,Y,nA,eA){return p["kmac"+v].update(V,Y,nA,eA)[U]()}},k=function(v,N,U,V){for(var Y=0;Y<B.length;++Y){var nA=B[Y];v[nA]=N(U,V,nA)}return v},R=function(v,N){var U=S(v,N,"hex");return U.create=function(){return new g(v,N,v)},U.update=function(V){return U.create().update(V)},k(U,S,v,N)},H=function(v,N){var U=q(v,N,"hex");return U.create=function(V){return new g(v,N,V)},U.update=function(V,Y){return U.create(Y).update(V)},k(U,q,v,N)},K=function(v,N){var U=_[v],V=y(v,N,"hex");return V.create=function(Y,nA,eA){return!nA&&!eA?p["shake"+v].create(Y):new g(v,N,Y).bytepad([nA,eA],U)},V.update=function(Y,nA,eA,AA){return V.create(nA,eA,AA).update(Y)},k(V,y,v,N)},Z=function(v,N){var U=_[v],V=w(v,N,"hex");return V.create=function(Y,nA,eA){return new $(v,N,nA).bytepad(["KMAC",eA],U).bytepad([Y],U)},V.update=function(Y,nA,eA,AA){return V.create(Y,eA,AA).update(nA)},k(V,w,v,N)},F=[{name:"keccak",padding:u,bits:m,createMethod:R},{name:"sha3",padding:f,bits:m,createMethod:R},{name:"shake",padding:c,bits:b,createMethod:H},{name:"cshake",padding:l,bits:b,createMethod:K},{name:"kmac",padding:l,bits:b,createMethod:Z}],p={},x=[],I=0;I<F.length;++I)for(var P=F[I],M=P.bits,E=0;E<M.length;++E){var G=P.name+"_"+M[E];if(x.push(G),p[G]=P.createMethod(M[E],P.padding),P.name!=="sha3"){var O=P.name+M[E];x.push(O),p[O]=p[G]}}function g(v,N,U){this.blocks=[],this.s=[],this.padding=N,this.outputBits=U,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(v<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=U>>5,this.extraBytes=(U&31)>>3;for(var V=0;V<50;++V)this.s[V]=0}g.prototype.update=function(v){if(this.finalized)throw new Error(A);var N,U=typeof v;if(U!=="string"){if(U==="object"){if(v===null)throw new Error(r);if(a&&v.constructor===ArrayBuffer)v=new Uint8Array(v);else if(!Array.isArray(v)&&(!a||!ArrayBuffer.isView(v)))throw new Error(r)}else throw new Error(r);N=!0}for(var V=this.blocks,Y=this.byteCount,nA=v.length,eA=this.blockCount,AA=0,pe=this.s,jA,aA;AA<nA;){if(this.reset)for(this.reset=!1,V[0]=this.block,jA=1;jA<eA+1;++jA)V[jA]=0;if(N)for(jA=this.start;AA<nA&&jA<Y;++AA)V[jA>>2]|=v[AA]<<h[jA++&3];else for(jA=this.start;AA<nA&&jA<Y;++AA)aA=v.charCodeAt(AA),aA<128?V[jA>>2]|=aA<<h[jA++&3]:aA<2048?(V[jA>>2]|=(192|aA>>6)<<h[jA++&3],V[jA>>2]|=(128|aA&63)<<h[jA++&3]):aA<55296||aA>=57344?(V[jA>>2]|=(224|aA>>12)<<h[jA++&3],V[jA>>2]|=(128|aA>>6&63)<<h[jA++&3],V[jA>>2]|=(128|aA&63)<<h[jA++&3]):(aA=65536+((aA&1023)<<10|v.charCodeAt(++AA)&1023),V[jA>>2]|=(240|aA>>18)<<h[jA++&3],V[jA>>2]|=(128|aA>>12&63)<<h[jA++&3],V[jA>>2]|=(128|aA>>6&63)<<h[jA++&3],V[jA>>2]|=(128|aA&63)<<h[jA++&3]);if(this.lastByteIndex=jA,jA>=Y){for(this.start=jA-Y,this.block=V[eA],jA=0;jA<eA;++jA)pe[jA]^=V[jA];W(pe),this.reset=!0}else this.start=jA}return this},g.prototype.encode=function(v,N){var U=v&255,V=1,Y=[U];for(v=v>>8,U=v&255;U>0;)Y.unshift(U),v=v>>8,U=v&255,++V;return N?Y.push(V):Y.unshift(V),this.update(Y),Y.length},g.prototype.encodeString=function(v){var N,U=typeof v;if(U!=="string"){if(U==="object"){if(v===null)throw new Error(r);if(a&&v.constructor===ArrayBuffer)v=new Uint8Array(v);else if(!Array.isArray(v)&&(!a||!ArrayBuffer.isView(v)))throw new Error(r)}else throw new Error(r);N=!0}var V=0,Y=v.length;if(N)V=Y;else for(var nA=0;nA<v.length;++nA){var eA=v.charCodeAt(nA);eA<128?V+=1:eA<2048?V+=2:eA<55296||eA>=57344?V+=3:(eA=65536+((eA&1023)<<10|v.charCodeAt(++nA)&1023),V+=4)}return V+=this.encode(V*8),this.update(v),V},g.prototype.bytepad=function(v,N){for(var U=this.encode(N),V=0;V<v.length;++V)U+=this.encodeString(v[V]);var Y=N-U%N,nA=[];return nA.length=Y,this.update(nA),this},g.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var v=this.blocks,N=this.lastByteIndex,U=this.blockCount,V=this.s;if(v[N>>2]|=this.padding[N&3],this.lastByteIndex===this.byteCount)for(v[0]=v[U],N=1;N<U+1;++N)v[N]=0;for(v[U-1]|=2147483648,N=0;N<U;++N)V[N]^=v[N];W(V)}},g.prototype.toString=g.prototype.hex=function(){this.finalize();for(var v=this.blockCount,N=this.s,U=this.outputBlocks,V=this.extraBytes,Y=0,nA=0,eA="",AA;nA<U;){for(Y=0;Y<v&&nA<U;++Y,++nA)AA=N[Y],eA+=i[AA>>4&15]+i[AA&15]+i[AA>>12&15]+i[AA>>8&15]+i[AA>>20&15]+i[AA>>16&15]+i[AA>>28&15]+i[AA>>24&15];nA%v===0&&(W(N),Y=0)}return V&&(AA=N[Y],eA+=i[AA>>4&15]+i[AA&15],V>1&&(eA+=i[AA>>12&15]+i[AA>>8&15]),V>2&&(eA+=i[AA>>20&15]+i[AA>>16&15])),eA},g.prototype.arrayBuffer=function(){this.finalize();var v=this.blockCount,N=this.s,U=this.outputBlocks,V=this.extraBytes,Y=0,nA=0,eA=this.outputBits>>3,AA;V?AA=new ArrayBuffer(U+1<<2):AA=new ArrayBuffer(eA);for(var pe=new Uint32Array(AA);nA<U;){for(Y=0;Y<v&&nA<U;++Y,++nA)pe[nA]=N[Y];nA%v===0&&W(N)}return V&&(pe[Y]=N[Y],AA=AA.slice(0,eA)),AA},g.prototype.buffer=g.prototype.arrayBuffer,g.prototype.digest=g.prototype.array=function(){this.finalize();for(var v=this.blockCount,N=this.s,U=this.outputBlocks,V=this.extraBytes,Y=0,nA=0,eA=[],AA,pe;nA<U;){for(Y=0;Y<v&&nA<U;++Y,++nA)AA=nA<<2,pe=N[Y],eA[AA]=pe&255,eA[AA+1]=pe>>8&255,eA[AA+2]=pe>>16&255,eA[AA+3]=pe>>24&255;nA%v===0&&W(N)}return V&&(AA=nA<<2,pe=N[Y],eA[AA]=pe&255,V>1&&(eA[AA+1]=pe>>8&255),V>2&&(eA[AA+2]=pe>>16&255)),eA};function $(v,N,U){g.call(this,v,N,U)}$.prototype=new g,$.prototype.finalize=function(){return this.encode(this.outputBits,!0),g.prototype.finalize.call(this)};var W=function(v){var N,U,V,Y,nA,eA,AA,pe,jA,aA,lj,GA,MA,uj,RA,CA,dj,TA,NA,hj,DA,UA,pj,LA,KA,mj,HA,zA,gj,VA,JA,bj,WA,XA,yj,QA,ZA,Bj,YA,Ae,xj,ee,te,vj,re,je,_j,ne,se,wj,ie,oe,Ej,ae,ce,kj,fe,le,Nr,Dr,Ur,Lr,Kr;for(V=0;V<48;V+=2)Y=v[0]^v[10]^v[20]^v[30]^v[40],nA=v[1]^v[11]^v[21]^v[31]^v[41],eA=v[2]^v[12]^v[22]^v[32]^v[42],AA=v[3]^v[13]^v[23]^v[33]^v[43],pe=v[4]^v[14]^v[24]^v[34]^v[44],jA=v[5]^v[15]^v[25]^v[35]^v[45],aA=v[6]^v[16]^v[26]^v[36]^v[46],lj=v[7]^v[17]^v[27]^v[37]^v[47],GA=v[8]^v[18]^v[28]^v[38]^v[48],MA=v[9]^v[19]^v[29]^v[39]^v[49],N=GA^(eA<<1|AA>>>31),U=MA^(AA<<1|eA>>>31),v[0]^=N,v[1]^=U,v[10]^=N,v[11]^=U,v[20]^=N,v[21]^=U,v[30]^=N,v[31]^=U,v[40]^=N,v[41]^=U,N=Y^(pe<<1|jA>>>31),U=nA^(jA<<1|pe>>>31),v[2]^=N,v[3]^=U,v[12]^=N,v[13]^=U,v[22]^=N,v[23]^=U,v[32]^=N,v[33]^=U,v[42]^=N,v[43]^=U,N=eA^(aA<<1|lj>>>31),U=AA^(lj<<1|aA>>>31),v[4]^=N,v[5]^=U,v[14]^=N,v[15]^=U,v[24]^=N,v[25]^=U,v[34]^=N,v[35]^=U,v[44]^=N,v[45]^=U,N=pe^(GA<<1|MA>>>31),U=jA^(MA<<1|GA>>>31),v[6]^=N,v[7]^=U,v[16]^=N,v[17]^=U,v[26]^=N,v[27]^=U,v[36]^=N,v[37]^=U,v[46]^=N,v[47]^=U,N=aA^(Y<<1|nA>>>31),U=lj^(nA<<1|Y>>>31),v[8]^=N,v[9]^=U,v[18]^=N,v[19]^=U,v[28]^=N,v[29]^=U,v[38]^=N,v[39]^=U,v[48]^=N,v[49]^=U,uj=v[0],RA=v[1],je=v[11]<<4|v[10]>>>28,_j=v[10]<<4|v[11]>>>28,zA=v[20]<<3|v[21]>>>29,gj=v[21]<<3|v[20]>>>29,Dr=v[31]<<9|v[30]>>>23,Ur=v[30]<<9|v[31]>>>23,ee=v[40]<<18|v[41]>>>14,te=v[41]<<18|v[40]>>>14,XA=v[2]<<1|v[3]>>>31,yj=v[3]<<1|v[2]>>>31,CA=v[13]<<12|v[12]>>>20,dj=v[12]<<12|v[13]>>>20,ne=v[22]<<10|v[23]>>>22,se=v[23]<<10|v[22]>>>22,VA=v[33]<<13|v[32]>>>19,JA=v[32]<<13|v[33]>>>19,Lr=v[42]<<2|v[43]>>>30,Kr=v[43]<<2|v[42]>>>30,ae=v[5]<<30|v[4]>>>2,ce=v[4]<<30|v[5]>>>2,QA=v[14]<<6|v[15]>>>26,ZA=v[15]<<6|v[14]>>>26,TA=v[25]<<11|v[24]>>>21,NA=v[24]<<11|v[25]>>>21,wj=v[34]<<15|v[35]>>>17,ie=v[35]<<15|v[34]>>>17,bj=v[45]<<29|v[44]>>>3,WA=v[44]<<29|v[45]>>>3,LA=v[6]<<28|v[7]>>>4,KA=v[7]<<28|v[6]>>>4,kj=v[17]<<23|v[16]>>>9,fe=v[16]<<23|v[17]>>>9,Bj=v[26]<<25|v[27]>>>7,YA=v[27]<<25|v[26]>>>7,hj=v[36]<<21|v[37]>>>11,DA=v[37]<<21|v[36]>>>11,oe=v[47]<<24|v[46]>>>8,Ej=v[46]<<24|v[47]>>>8,vj=v[8]<<27|v[9]>>>5,re=v[9]<<27|v[8]>>>5,mj=v[18]<<20|v[19]>>>12,HA=v[19]<<20|v[18]>>>12,le=v[29]<<7|v[28]>>>25,Nr=v[28]<<7|v[29]>>>25,Ae=v[38]<<8|v[39]>>>24,xj=v[39]<<8|v[38]>>>24,UA=v[48]<<14|v[49]>>>18,pj=v[49]<<14|v[48]>>>18,v[0]=uj^~CA&TA,v[1]=RA^~dj&NA,v[10]=LA^~mj&zA,v[11]=KA^~HA&gj,v[20]=XA^~QA&Bj,v[21]=yj^~ZA&YA,v[30]=vj^~je&ne,v[31]=re^~_j&se,v[40]=ae^~kj&le,v[41]=ce^~fe&Nr,v[2]=CA^~TA&hj,v[3]=dj^~NA&DA,v[12]=mj^~zA&VA,v[13]=HA^~gj&JA,v[22]=QA^~Bj&Ae,v[23]=ZA^~YA&xj,v[32]=je^~ne&wj,v[33]=_j^~se&ie,v[42]=kj^~le&Dr,v[43]=fe^~Nr&Ur,v[4]=TA^~hj&UA,v[5]=NA^~DA&pj,v[14]=zA^~VA&bj,v[15]=gj^~JA&WA,v[24]=Bj^~Ae&ee,v[25]=YA^~xj&te,v[34]=ne^~wj&oe,v[35]=se^~ie&Ej,v[44]=le^~Dr&Lr,v[45]=Nr^~Ur&Kr,v[6]=hj^~UA&uj,v[7]=DA^~pj&RA,v[16]=VA^~bj&LA,v[17]=JA^~WA&KA,v[26]=Ae^~ee&XA,v[27]=xj^~te&yj,v[36]=wj^~oe&vj,v[37]=ie^~Ej&re,v[46]=Dr^~Lr&ae,v[47]=Ur^~Kr&ce,v[8]=UA^~uj&CA,v[9]=pj^~RA&dj,v[18]=bj^~LA&mj,v[19]=WA^~KA&HA,v[28]=ee^~XA&QA,v[29]=te^~yj&ZA,v[38]=oe^~vj&je,v[39]=Ej^~re&_j,v[48]=Lr^~ae&kj,v[49]=Kr^~ce&fe,v[0]^=d[V],v[1]^=d[V+1]};if(s)Bi.exports=p;else{for(I=0;I<x.length;++I)t[x[I]]=p[x[I]];o&&define(function(){return p})}})()});var vn=rA((f5,U7)=>{U7.exports=D7;function D7(r,A){if(!r)throw new Error(A||"Assertion failed")}D7.equal=function(A,e,t){if(A!=e)throw new Error(t||"Assertion failed: "+A+" != "+e)}});var L7=rA((l5,rc)=>{typeof Object.create=="function"?rc.exports=function(A,e){e&&(A.super_=e,A.prototype=Object.create(e.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}))}:rc.exports=function(A,e){if(e){A.super_=e;var t=function(){};t.prototype=e.prototype,A.prototype=new t,A.prototype.constructor=A}}});var Rt=rA(PA=>{"use strict";var Ny=vn(),Dy=L7();PA.inherits=Dy;function Uy(r,A){return(r.charCodeAt(A)&64512)!==55296||A<0||A+1>=r.length?!1:(r.charCodeAt(A+1)&64512)===56320}function Ly(r,A){if(Array.isArray(r))return r.slice();if(!r)return[];var e=[];if(typeof r=="string")if(A){if(A==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!==0&&(r="0"+r),j=0;j<r.length;j+=2)e.push(parseInt(r[j]+r[j+1],16))}else for(var t=0,j=0;j<r.length;j++){var n=r.charCodeAt(j);n<128?e[t++]=n:n<2048?(e[t++]=n>>6|192,e[t++]=n&63|128):Uy(r,j)?(n=65536+((n&1023)<<10)+(r.charCodeAt(++j)&1023),e[t++]=n>>18|240,e[t++]=n>>12&63|128,e[t++]=n>>6&63|128,e[t++]=n&63|128):(e[t++]=n>>12|224,e[t++]=n>>6&63|128,e[t++]=n&63|128)}else for(j=0;j<r.length;j++)e[j]=r[j]|0;return e}PA.toArray=Ly;function Ky(r){for(var A="",e=0;e<r.length;e++)A+=H7(r[e].toString(16));return A}PA.toHex=Ky;function K7(r){var A=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return A>>>0}PA.htonl=K7;function Hy(r,A){for(var e="",t=0;t<r.length;t++){var j=r[t];A==="little"&&(j=K7(j)),e+=z7(j.toString(16))}return e}PA.toHex32=Hy;function H7(r){return r.length===1?"0"+r:r}PA.zero2=H7;function z7(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}PA.zero8=z7;function zy(r,A,e,t){var j=e-A;Ny(j%4===0);for(var n=new Array(j/4),s=0,o=A;s<n.length;s++,o+=4){var a;t==="big"?a=r[o]<<24|r[o+1]<<16|r[o+2]<<8|r[o+3]:a=r[o+3]<<24|r[o+2]<<16|r[o+1]<<8|r[o],n[s]=a>>>0}return n}PA.join32=zy;function Vy(r,A){for(var e=new Array(r.length*4),t=0,j=0;t<r.length;t++,j+=4){var n=r[t];A==="big"?(e[j]=n>>>24,e[j+1]=n>>>16&255,e[j+2]=n>>>8&255,e[j+3]=n&255):(e[j+3]=n>>>24,e[j+2]=n>>>16&255,e[j+1]=n>>>8&255,e[j]=n&255)}return e}PA.split32=Vy;function Jy(r,A){return r>>>A|r<<32-A}PA.rotr32=Jy;function Wy(r,A){return r<<A|r>>>32-A}PA.rotl32=Wy;function Xy(r,A){return r+A>>>0}PA.sum32=Xy;function Qy(r,A,e){return r+A+e>>>0}PA.sum32_3=Qy;function Zy(r,A,e,t){return r+A+e+t>>>0}PA.sum32_4=Zy;function Yy(r,A,e,t,j){return r+A+e+t+j>>>0}PA.sum32_5=Yy;function AB(r,A,e,t){var j=r[A],n=r[A+1],s=t+n>>>0,o=(s<t?1:0)+e+j;r[A]=o>>>0,r[A+1]=s}PA.sum64=AB;function eB(r,A,e,t){var j=A+t>>>0,n=(j<A?1:0)+r+e;return n>>>0}PA.sum64_hi=eB;function tB(r,A,e,t){var j=A+t;return j>>>0}PA.sum64_lo=tB;function rB(r,A,e,t,j,n,s,o){var a=0,i=A;i=i+t>>>0,a+=i<A?1:0,i=i+n>>>0,a+=i<n?1:0,i=i+o>>>0,a+=i<o?1:0;var c=r+e+j+s+a;return c>>>0}PA.sum64_4_hi=rB;function jB(r,A,e,t,j,n,s,o){var a=A+t+n+o;return a>>>0}PA.sum64_4_lo=jB;function nB(r,A,e,t,j,n,s,o,a,i){var c=0,l=A;l=l+t>>>0,c+=l<A?1:0,l=l+n>>>0,c+=l<n?1:0,l=l+o>>>0,c+=l<o?1:0,l=l+i>>>0,c+=l<i?1:0;var u=r+e+j+s+a+c;return u>>>0}PA.sum64_5_hi=nB;function sB(r,A,e,t,j,n,s,o,a,i){var c=A+t+n+o+i;return c>>>0}PA.sum64_5_lo=sB;function iB(r,A,e){var t=A<<32-e|r>>>e;return t>>>0}PA.rotr64_hi=iB;function oB(r,A,e){var t=r<<32-e|A>>>e;return t>>>0}PA.rotr64_lo=oB;function aB(r,A,e){return r>>>e}PA.shr64_hi=aB;function cB(r,A,e){var t=r<<32-e|A>>>e;return t>>>0}PA.shr64_lo=cB});var _n=rA(J7=>{"use strict";var V7=Rt(),fB=vn();function Li(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}J7.BlockHash=Li;Li.prototype.update=function(A,e){if(A=V7.toArray(A,e),this.pending?this.pending=this.pending.concat(A):this.pending=A,this.pendingTotal+=A.length,this.pending.length>=this._delta8){A=this.pending;var t=A.length%this._delta8;this.pending=A.slice(A.length-t,A.length),this.pending.length===0&&(this.pending=null),A=V7.join32(A,0,A.length-t,this.endian);for(var j=0;j<A.length;j+=this._delta32)this._update(A,j,j+this._delta32)}return this};Li.prototype.digest=function(A){return this.update(this._pad()),fB(this.pending===null),this._digest(A)};Li.prototype._pad=function(){var A=this.pendingTotal,e=this._delta8,t=e-(A+this.padLength)%e,j=new Array(t+this.padLength);j[0]=128;for(var n=1;n<t;n++)j[n]=0;if(A<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)j[n++]=0;j[n++]=0,j[n++]=0,j[n++]=0,j[n++]=0,j[n++]=A>>>24&255,j[n++]=A>>>16&255,j[n++]=A>>>8&255,j[n++]=A&255}else for(j[n++]=A&255,j[n++]=A>>>8&255,j[n++]=A>>>16&255,j[n++]=A>>>24&255,j[n++]=0,j[n++]=0,j[n++]=0,j[n++]=0,s=8;s<this.padLength;s++)j[n++]=0;return j}});var jc=rA(Er=>{"use strict";var lB=Rt(),tr=lB.rotr32;function uB(r,A,e,t){if(r===0)return W7(A,e,t);if(r===1||r===3)return Q7(A,e,t);if(r===2)return X7(A,e,t)}Er.ft_1=uB;function W7(r,A,e){return r&A^~r&e}Er.ch32=W7;function X7(r,A,e){return r&A^r&e^A&e}Er.maj32=X7;function Q7(r,A,e){return r^A^e}Er.p32=Q7;function dB(r){return tr(r,2)^tr(r,13)^tr(r,22)}Er.s0_256=dB;function hB(r){return tr(r,6)^tr(r,11)^tr(r,25)}Er.s1_256=hB;function pB(r){return tr(r,7)^tr(r,18)^r>>>3}Er.g0_256=pB;function mB(r){return tr(r,17)^tr(r,19)^r>>>10}Er.g1_256=mB});var Ad=rA((p5,Y7)=>{"use strict";var wn=Rt(),gB=_n(),bB=jc(),nc=wn.rotl32,ws=wn.sum32,yB=wn.sum32_5,BB=bB.ft_1,Z7=gB.BlockHash,xB=[1518500249,1859775393,2400959708,3395469782];function rr(){if(!(this instanceof rr))return new rr;Z7.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}wn.inherits(rr,Z7);Y7.exports=rr;rr.blockSize=512;rr.outSize=160;rr.hmacStrength=80;rr.padLength=64;rr.prototype._update=function(A,e){for(var t=this.W,j=0;j<16;j++)t[j]=A[e+j];for(;j<t.length;j++)t[j]=nc(t[j-3]^t[j-8]^t[j-14]^t[j-16],1);var n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],i=this.h[4];for(j=0;j<t.length;j++){var c=~~(j/20),l=yB(nc(n,5),BB(c,s,o,a),i,t[j],xB[c]);i=a,a=o,o=nc(s,30),s=n,n=l}this.h[0]=ws(this.h[0],n),this.h[1]=ws(this.h[1],s),this.h[2]=ws(this.h[2],o),this.h[3]=ws(this.h[3],a),this.h[4]=ws(this.h[4],i)};rr.prototype._digest=function(A){return A==="hex"?wn.toHex32(this.h,"big"):wn.split32(this.h,"big")}});var sc=rA((m5,td)=>{"use strict";var En=Rt(),vB=_n(),kn=jc(),_B=vn(),Ct=En.sum32,wB=En.sum32_4,EB=En.sum32_5,kB=kn.ch32,qB=kn.maj32,$B=kn.s0_256,IB=kn.s1_256,OB=kn.g0_256,SB=kn.g1_256,ed=vB.BlockHash,PB=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function jr(){if(!(this instanceof jr))return new jr;ed.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=PB,this.W=new Array(64)}En.inherits(jr,ed);td.exports=jr;jr.blockSize=512;jr.outSize=256;jr.hmacStrength=192;jr.padLength=64;jr.prototype._update=function(A,e){for(var t=this.W,j=0;j<16;j++)t[j]=A[e+j];for(;j<t.length;j++)t[j]=wB(SB(t[j-2]),t[j-7],OB(t[j-15]),t[j-16]);var n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],i=this.h[4],c=this.h[5],l=this.h[6],u=this.h[7];for(_B(this.k.length===t.length),j=0;j<t.length;j++){var f=EB(u,IB(i),kB(i,c,l),this.k[j],t[j]),h=Ct($B(n),qB(n,s,o));u=l,l=c,c=i,i=Ct(a,f),a=o,o=s,s=n,n=Ct(f,h)}this.h[0]=Ct(this.h[0],n),this.h[1]=Ct(this.h[1],s),this.h[2]=Ct(this.h[2],o),this.h[3]=Ct(this.h[3],a),this.h[4]=Ct(this.h[4],i),this.h[5]=Ct(this.h[5],c),this.h[6]=Ct(this.h[6],l),this.h[7]=Ct(this.h[7],u)};jr.prototype._digest=function(A){return A==="hex"?En.toHex32(this.h,"big"):En.split32(this.h,"big")}});var nd=rA((g5,jd)=>{"use strict";var ic=Rt(),rd=sc();function kr(){if(!(this instanceof kr))return new kr;rd.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ic.inherits(kr,rd);jd.exports=kr;kr.blockSize=512;kr.outSize=224;kr.hmacStrength=192;kr.padLength=64;kr.prototype._digest=function(A){return A==="hex"?ic.toHex32(this.h.slice(0,7),"big"):ic.split32(this.h.slice(0,7),"big")}});var cc=rA((b5,ad)=>{"use strict";var st=Rt(),FB=_n(),GB=vn(),nr=st.rotr64_hi,sr=st.rotr64_lo,sd=st.shr64_hi,id=st.shr64_lo,Yr=st.sum64,oc=st.sum64_hi,ac=st.sum64_lo,MB=st.sum64_4_hi,RB=st.sum64_4_lo,CB=st.sum64_5_hi,TB=st.sum64_5_lo,od=FB.BlockHash,NB=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Tt(){if(!(this instanceof Tt))return new Tt;od.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=NB,this.W=new Array(160)}st.inherits(Tt,od);ad.exports=Tt;Tt.blockSize=1024;Tt.outSize=512;Tt.hmacStrength=192;Tt.padLength=128;Tt.prototype._prepareBlock=function(A,e){for(var t=this.W,j=0;j<32;j++)t[j]=A[e+j];for(;j<t.length;j+=2){var n=QB(t[j-4],t[j-3]),s=ZB(t[j-4],t[j-3]),o=t[j-14],a=t[j-13],i=WB(t[j-30],t[j-29]),c=XB(t[j-30],t[j-29]),l=t[j-32],u=t[j-31];t[j]=MB(n,s,o,a,i,c,l,u),t[j+1]=RB(n,s,o,a,i,c,l,u)}};Tt.prototype._update=function(A,e){this._prepareBlock(A,e);var t=this.W,j=this.h[0],n=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],i=this.h[5],c=this.h[6],l=this.h[7],u=this.h[8],f=this.h[9],h=this.h[10],d=this.h[11],m=this.h[12],b=this.h[13],B=this.h[14],_=this.h[15];GB(this.k.length===t.length);for(var S=0;S<t.length;S+=2){var q=B,y=_,w=VB(u,f),k=JB(u,f),R=DB(u,f,h,d,m,b),H=UB(u,f,h,d,m,b),K=this.k[S],Z=this.k[S+1],F=t[S],p=t[S+1],x=CB(q,y,w,k,R,H,K,Z,F,p),I=TB(q,y,w,k,R,H,K,Z,F,p);q=HB(j,n),y=zB(j,n),w=LB(j,n,s,o,a,i),k=KB(j,n,s,o,a,i);var P=oc(q,y,w,k),M=ac(q,y,w,k);B=m,_=b,m=h,b=d,h=u,d=f,u=oc(c,l,x,I),f=ac(l,l,x,I),c=a,l=i,a=s,i=o,s=j,o=n,j=oc(x,I,P,M),n=ac(x,I,P,M)}Yr(this.h,0,j,n),Yr(this.h,2,s,o),Yr(this.h,4,a,i),Yr(this.h,6,c,l),Yr(this.h,8,u,f),Yr(this.h,10,h,d),Yr(this.h,12,m,b),Yr(this.h,14,B,_)};Tt.prototype._digest=function(A){return A==="hex"?st.toHex32(this.h,"big"):st.split32(this.h,"big")};function DB(r,A,e,t,j){var n=r&e^~r&j;return n<0&&(n+=4294967296),n}function UB(r,A,e,t,j,n){var s=A&t^~A&n;return s<0&&(s+=4294967296),s}function LB(r,A,e,t,j){var n=r&e^r&j^e&j;return n<0&&(n+=4294967296),n}function KB(r,A,e,t,j,n){var s=A&t^A&n^t&n;return s<0&&(s+=4294967296),s}function HB(r,A){var e=nr(r,A,28),t=nr(A,r,2),j=nr(A,r,7),n=e^t^j;return n<0&&(n+=4294967296),n}function zB(r,A){var e=sr(r,A,28),t=sr(A,r,2),j=sr(A,r,7),n=e^t^j;return n<0&&(n+=4294967296),n}function VB(r,A){var e=nr(r,A,14),t=nr(r,A,18),j=nr(A,r,9),n=e^t^j;return n<0&&(n+=4294967296),n}function JB(r,A){var e=sr(r,A,14),t=sr(r,A,18),j=sr(A,r,9),n=e^t^j;return n<0&&(n+=4294967296),n}function WB(r,A){var e=nr(r,A,1),t=nr(r,A,8),j=sd(r,A,7),n=e^t^j;return n<0&&(n+=4294967296),n}function XB(r,A){var e=sr(r,A,1),t=sr(r,A,8),j=id(r,A,7),n=e^t^j;return n<0&&(n+=4294967296),n}function QB(r,A){var e=nr(r,A,19),t=nr(A,r,29),j=sd(r,A,6),n=e^t^j;return n<0&&(n+=4294967296),n}function ZB(r,A){var e=sr(r,A,19),t=sr(A,r,29),j=id(r,A,6),n=e^t^j;return n<0&&(n+=4294967296),n}});var ld=rA((y5,fd)=>{"use strict";var fc=Rt(),cd=cc();function qr(){if(!(this instanceof qr))return new qr;cd.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}fc.inherits(qr,cd);fd.exports=qr;qr.blockSize=1024;qr.outSize=384;qr.hmacStrength=192;qr.padLength=128;qr.prototype._digest=function(A){return A==="hex"?fc.toHex32(this.h.slice(0,12),"big"):fc.split32(this.h.slice(0,12),"big")}});var ud=rA(qn=>{"use strict";qn.sha1=Ad();qn.sha224=nd();qn.sha256=sc();qn.sha384=ld();qn.sha512=cc()});var bd=rA(gd=>{"use strict";var Tj=Rt(),YB=_n(),Ki=Tj.rotl32,dd=Tj.sum32,Es=Tj.sum32_3,hd=Tj.sum32_4,md=YB.BlockHash;function ir(){if(!(this instanceof ir))return new ir;md.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Tj.inherits(ir,md);gd.ripemd160=ir;ir.blockSize=512;ir.outSize=160;ir.hmacStrength=192;ir.padLength=64;ir.prototype._update=function(A,e){for(var t=this.h[0],j=this.h[1],n=this.h[2],s=this.h[3],o=this.h[4],a=t,i=j,c=n,l=s,u=o,f=0;f<80;f++){var h=dd(Ki(hd(t,pd(f,j,n,s),A[tx[f]+e],Ax(f)),jx[f]),o);t=o,o=s,s=Ki(n,10),n=j,j=h,h=dd(Ki(hd(a,pd(79-f,i,c,l),A[rx[f]+e],ex(f)),nx[f]),u),a=u,u=l,l=Ki(c,10),c=i,i=h}h=Es(this.h[1],n,l),this.h[1]=Es(this.h[2],s,u),this.h[2]=Es(this.h[3],o,a),this.h[3]=Es(this.h[4],t,i),this.h[4]=Es(this.h[0],j,c),this.h[0]=h};ir.prototype._digest=function(A){return A==="hex"?Tj.toHex32(this.h,"little"):Tj.split32(this.h,"little")};function pd(r,A,e,t){return r<=15?A^e^t:r<=31?A&e|~A&t:r<=47?(A|~e)^t:r<=63?A&t|e&~t:A^(e|~t)}function Ax(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function ex(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var tx=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rx=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],jx=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],nx=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Bd=rA((v5,yd)=>{"use strict";var sx=Rt(),ix=vn();function $n(r,A,e){if(!(this instanceof $n))return new $n(r,A,e);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(sx.toArray(A,e))}yd.exports=$n;$n.prototype._init=function(A){A.length>this.blockSize&&(A=new this.Hash().update(A).digest()),ix(A.length<=this.blockSize);for(var e=A.length;e<this.blockSize;e++)A.push(0);for(e=0;e<A.length;e++)A[e]^=54;for(this.inner=new this.Hash().update(A),e=0;e<A.length;e++)A[e]^=106;this.outer=new this.Hash().update(A)};$n.prototype.update=function(A,e){return this.inner.update(A,e),this};$n.prototype.digest=function(A){return this.outer.update(this.inner.digest()),this.outer.digest(A)}});var lc=rA(xd=>{var Fe=xd;Fe.utils=Rt();Fe.common=_n();Fe.sha=ud();Fe.ripemd=bd();Fe.hmac=Bd();Fe.sha1=Fe.sha.sha1;Fe.sha256=Fe.sha.sha256;Fe.sha224=Fe.sha.sha224;Fe.sha384=Fe.sha.sha384;Fe.sha512=Fe.sha.sha512;Fe.ripemd160=Fe.ripemd.ripemd160});var Oc=rA((Ic,Xd)=>{"use strict";(function(r){function A(E){return parseInt(E)===E}function e(E){if(!A(E.length))return!1;for(var G=0;G<E.length;G++)if(!A(E[G])||E[G]<0||E[G]>255)return!1;return!0}function t(E,G){if(E.buffer&&ArrayBuffer.isView(E)&&E.name==="Uint8Array")return G&&(E.slice?E=E.slice():E=Array.prototype.slice.call(E)),E;if(Array.isArray(E)){if(!e(E))throw new Error("Array contains invalid value: "+E);return new Uint8Array(E)}if(A(E.length)&&e(E))return new Uint8Array(E);throw new Error("unsupported array-like object")}function j(E){return new Uint8Array(E)}function n(E,G,O,g,$){(g!=null||$!=null)&&(E.slice?E=E.slice(g,$):E=Array.prototype.slice.call(E,g,$)),G.set(E,O)}var s=function(){function E(O){var g=[],$=0;for(O=encodeURI(O);$<O.length;){var W=O.charCodeAt($++);W===37?(g.push(parseInt(O.substr($,2),16)),$+=2):g.push(W)}return t(g)}function G(O){for(var g=[],$=0;$<O.length;){var W=O[$];W<128?(g.push(String.fromCharCode(W)),$++):W>191&&W<224?(g.push(String.fromCharCode((W&31)<<6|O[$+1]&63)),$+=2):(g.push(String.fromCharCode((W&15)<<12|(O[$+1]&63)<<6|O[$+2]&63)),$+=3)}return g.join("")}return{toBytes:E,fromBytes:G}}(),o=function(){function E(g){for(var $=[],W=0;W<g.length;W+=2)$.push(parseInt(g.substr(W,2),16));return $}var G="0123456789abcdef";function O(g){for(var $=[],W=0;W<g.length;W++){var v=g[W];$.push(G[(v&240)>>4]+G[v&15])}return $.join("")}return{toBytes:E,fromBytes:O}}(),a={16:10,24:12,32:14},i=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],c=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],l=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],u=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],f=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],h=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],d=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],m=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],B=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],S=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],q=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],y=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],w=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function k(E){for(var G=[],O=0;O<E.length;O+=4)G.push(E[O]<<24|E[O+1]<<16|E[O+2]<<8|E[O+3]);return G}var R=function(E){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:t(E,!0)}),this._prepare()};R.prototype._prepare=function(){var E=a[this.key.length];if(E==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var G=0;G<=E;G++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var O=(E+1)*4,g=this.key.length/4,$=k(this.key),W,G=0;G<g;G++)W=G>>2,this._Ke[W][G%4]=$[G],this._Kd[E-W][G%4]=$[G];for(var v=0,N=g,U;N<O;){if(U=$[g-1],$[0]^=c[U>>16&255]<<24^c[U>>8&255]<<16^c[U&255]<<8^c[U>>24&255]^i[v]<<24,v+=1,g!=8)for(var G=1;G<g;G++)$[G]^=$[G-1];else{for(var G=1;G<g/2;G++)$[G]^=$[G-1];U=$[g/2-1],$[g/2]^=c[U&255]^c[U>>8&255]<<8^c[U>>16&255]<<16^c[U>>24&255]<<24;for(var G=g/2+1;G<g;G++)$[G]^=$[G-1]}for(var G=0,V,Y;G<g&&N<O;)V=N>>2,Y=N%4,this._Ke[V][Y]=$[G],this._Kd[E-V][Y]=$[G++],N++}for(var V=1;V<E;V++)for(var Y=0;Y<4;Y++)U=this._Kd[V][Y],this._Kd[V][Y]=S[U>>24&255]^q[U>>16&255]^y[U>>8&255]^w[U&255]},R.prototype.encrypt=function(E){if(E.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var G=this._Ke.length-1,O=[0,0,0,0],g=k(E),$=0;$<4;$++)g[$]^=this._Ke[0][$];for(var W=1;W<G;W++){for(var $=0;$<4;$++)O[$]=u[g[$]>>24&255]^f[g[($+1)%4]>>16&255]^h[g[($+2)%4]>>8&255]^d[g[($+3)%4]&255]^this._Ke[W][$];g=O.slice()}for(var v=j(16),N,$=0;$<4;$++)N=this._Ke[G][$],v[4*$]=(c[g[$]>>24&255]^N>>24)&255,v[4*$+1]=(c[g[($+1)%4]>>16&255]^N>>16)&255,v[4*$+2]=(c[g[($+2)%4]>>8&255]^N>>8)&255,v[4*$+3]=(c[g[($+3)%4]&255]^N)&255;return v},R.prototype.decrypt=function(E){if(E.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var G=this._Kd.length-1,O=[0,0,0,0],g=k(E),$=0;$<4;$++)g[$]^=this._Kd[0][$];for(var W=1;W<G;W++){for(var $=0;$<4;$++)O[$]=m[g[$]>>24&255]^b[g[($+3)%4]>>16&255]^B[g[($+2)%4]>>8&255]^_[g[($+1)%4]&255]^this._Kd[W][$];g=O.slice()}for(var v=j(16),N,$=0;$<4;$++)N=this._Kd[G][$],v[4*$]=(l[g[$]>>24&255]^N>>24)&255,v[4*$+1]=(l[g[($+3)%4]>>16&255]^N>>16)&255,v[4*$+2]=(l[g[($+2)%4]>>8&255]^N>>8)&255,v[4*$+3]=(l[g[($+1)%4]&255]^N)&255;return v};var H=function(E){if(!(this instanceof H))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new R(E)};H.prototype.encrypt=function(E){if(E=t(E),E.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var G=j(E.length),O=j(16),g=0;g<E.length;g+=16)n(E,O,0,g,g+16),O=this._aes.encrypt(O),n(O,G,g);return G},H.prototype.decrypt=function(E){if(E=t(E),E.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var G=j(E.length),O=j(16),g=0;g<E.length;g+=16)n(E,O,0,g,g+16),O=this._aes.decrypt(O),n(O,G,g);return G};var K=function(E,G){if(!(this instanceof K))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!G)G=j(16);else if(G.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=t(G,!0),this._aes=new R(E)};K.prototype.encrypt=function(E){if(E=t(E),E.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var G=j(E.length),O=j(16),g=0;g<E.length;g+=16){n(E,O,0,g,g+16);for(var $=0;$<16;$++)O[$]^=this._lastCipherblock[$];this._lastCipherblock=this._aes.encrypt(O),n(this._lastCipherblock,G,g)}return G},K.prototype.decrypt=function(E){if(E=t(E),E.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var G=j(E.length),O=j(16),g=0;g<E.length;g+=16){n(E,O,0,g,g+16),O=this._aes.decrypt(O);for(var $=0;$<16;$++)G[g+$]=O[$]^this._lastCipherblock[$];n(E,this._lastCipherblock,0,g,g+16)}return G};var Z=function(E,G,O){if(!(this instanceof Z))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!G)G=j(16);else if(G.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");O||(O=1),this.segmentSize=O,this._shiftRegister=t(G,!0),this._aes=new R(E)};Z.prototype.encrypt=function(E){if(E.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var G=t(E,!0),O,g=0;g<G.length;g+=this.segmentSize){O=this._aes.encrypt(this._shiftRegister);for(var $=0;$<this.segmentSize;$++)G[g+$]^=O[$];n(this._shiftRegister,this._shiftRegister,0,this.segmentSize),n(G,this._shiftRegister,16-this.segmentSize,g,g+this.segmentSize)}return G},Z.prototype.decrypt=function(E){if(E.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var G=t(E,!0),O,g=0;g<G.length;g+=this.segmentSize){O=this._aes.encrypt(this._shiftRegister);for(var $=0;$<this.segmentSize;$++)G[g+$]^=O[$];n(this._shiftRegister,this._shiftRegister,0,this.segmentSize),n(E,this._shiftRegister,16-this.segmentSize,g,g+this.segmentSize)}return G};var F=function(E,G){if(!(this instanceof F))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!G)G=j(16);else if(G.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=t(G,!0),this._lastPrecipherIndex=16,this._aes=new R(E)};F.prototype.encrypt=function(E){for(var G=t(E,!0),O=0;O<G.length;O++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),G[O]^=this._lastPrecipher[this._lastPrecipherIndex++];return G},F.prototype.decrypt=F.prototype.encrypt;var p=function(E){if(!(this instanceof p))throw Error("Counter must be instanitated with `new`");E!==0&&!E&&(E=1),typeof E=="number"?(this._counter=j(16),this.setValue(E)):this.setBytes(E)};p.prototype.setValue=function(E){if(typeof E!="number"||parseInt(E)!=E)throw new Error("invalid counter value (must be an integer)");for(var G=15;G>=0;--G)this._counter[G]=E%256,E=E>>8},p.prototype.setBytes=function(E){if(E=t(E,!0),E.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=E},p.prototype.increment=function(){for(var E=15;E>=0;E--)if(this._counter[E]===255)this._counter[E]=0;else{this._counter[E]++;break}};var x=function(E,G){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",G instanceof p||(G=new p(G)),this._counter=G,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new R(E)};x.prototype.encrypt=function(E){for(var G=t(E,!0),O=0;O<G.length;O++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),G[O]^=this._remainingCounter[this._remainingCounterIndex++];return G},x.prototype.decrypt=x.prototype.encrypt;function I(E){E=t(E,!0);var G=16-E.length%16,O=j(E.length+G);n(E,O);for(var g=E.length;g<O.length;g++)O[g]=G;return O}function P(E){if(E=t(E,!0),E.length<16)throw new Error("PKCS#7 invalid length");var G=E[E.length-1];if(G>16)throw new Error("PKCS#7 padding byte out of range");for(var O=E.length-G,g=0;g<G;g++)if(E[O+g]!==G)throw new Error("PKCS#7 invalid padding byte");var $=j(O);return n(E,$,0,0,O),$}var M={AES:R,Counter:p,ModeOfOperation:{ecb:H,cbc:K,cfb:Z,ofb:F,ctr:x},utils:{hex:o,utf8:s},padding:{pkcs7:{pad:I,strip:P}},_arrayTest:{coerceArray:t,createArray:j,copyArray:n}};typeof Ic<"u"?Xd.exports=M:typeof define=="function"&&define.amd?define(M):(r.aesjs&&(M._aesjs=r.aesjs),r.aesjs=M)})(Ic)});var Yd=rA((Mc,Zd)=>{"use strict";(function(r){function e(f){let h=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),d=1779033703,m=3144134277,b=1013904242,B=2773480762,_=1359893119,S=2600822924,q=528734635,y=1541459225,w=new Uint32Array(64);function k(x){let I=0,P=x.length;for(;P>=64;){let M=d,E=m,G=b,O=B,g=_,$=S,W=q,v=y,N,U,V,Y,nA;for(U=0;U<16;U++)V=I+U*4,w[U]=(x[V]&255)<<24|(x[V+1]&255)<<16|(x[V+2]&255)<<8|x[V+3]&255;for(U=16;U<64;U++)N=w[U-2],Y=(N>>>17|N<<32-17)^(N>>>19|N<<32-19)^N>>>10,N=w[U-15],nA=(N>>>7|N<<32-7)^(N>>>18|N<<32-18)^N>>>3,w[U]=(Y+w[U-7]|0)+(nA+w[U-16]|0)|0;for(U=0;U<64;U++)Y=(((g>>>6|g<<32-6)^(g>>>11|g<<32-11)^(g>>>25|g<<32-25))+(g&$^~g&W)|0)+(v+(h[U]+w[U]|0)|0)|0,nA=((M>>>2|M<<32-2)^(M>>>13|M<<32-13)^(M>>>22|M<<32-22))+(M&E^M&G^E&G)|0,v=W,W=$,$=g,g=O+Y|0,O=G,G=E,E=M,M=Y+nA|0;d=d+M|0,m=m+E|0,b=b+G|0,B=B+O|0,_=_+g|0,S=S+$|0,q=q+W|0,y=y+v|0,I+=64,P-=64}}k(f);let R,H=f.length%64,K=f.length/536870912|0,Z=f.length<<3,F=H<56?56:120,p=f.slice(f.length-H,f.length);for(p.push(128),R=H+1;R<F;R++)p.push(0);return p.push(K>>>24&255),p.push(K>>>16&255),p.push(K>>>8&255),p.push(K>>>0&255),p.push(Z>>>24&255),p.push(Z>>>16&255),p.push(Z>>>8&255),p.push(Z>>>0&255),k(p),[d>>>24&255,d>>>16&255,d>>>8&255,d>>>0&255,m>>>24&255,m>>>16&255,m>>>8&255,m>>>0&255,b>>>24&255,b>>>16&255,b>>>8&255,b>>>0&255,B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,_>>>24&255,_>>>16&255,_>>>8&255,_>>>0&255,S>>>24&255,S>>>16&255,S>>>8&255,S>>>0&255,q>>>24&255,q>>>16&255,q>>>8&255,q>>>0&255,y>>>24&255,y>>>16&255,y>>>8&255,y>>>0&255]}function t(f,h,d){f=f.length<=64?f:e(f);let m=64+h.length+4,b=new Array(m),B=new Array(64),_,S=[];for(_=0;_<64;_++)b[_]=54;for(_=0;_<f.length;_++)b[_]^=f[_];for(_=0;_<h.length;_++)b[64+_]=h[_];for(_=m-4;_<m;_++)b[_]=0;for(_=0;_<64;_++)B[_]=92;for(_=0;_<f.length;_++)B[_]^=f[_];function q(){for(let y=m-1;y>=m-4;y--){if(b[y]++,b[y]<=255)return;b[y]=0}}for(;d>=32;)q(),S=S.concat(e(B.concat(e(b)))),d-=32;return d>0&&(q(),S=S.concat(e(B.concat(e(b))).slice(0,d))),S}function j(f,h,d,m,b){let B;for(a(f,(2*d-1)*16,b,0,16),B=0;B<2*d;B++)o(f,B*16,b,16),s(b,m),a(b,0,f,h+B*16,16);for(B=0;B<d;B++)a(f,h+B*2*16,f,B*16,16);for(B=0;B<d;B++)a(f,h+(B*2+1)*16,f,(B+d)*16,16)}function n(f,h){return f<<h|f>>>32-h}function s(f,h){a(f,0,h,0,16);for(let d=8;d>0;d-=2)h[4]^=n(h[0]+h[12],7),h[8]^=n(h[4]+h[0],9),h[12]^=n(h[8]+h[4],13),h[0]^=n(h[12]+h[8],18),h[9]^=n(h[5]+h[1],7),h[13]^=n(h[9]+h[5],9),h[1]^=n(h[13]+h[9],13),h[5]^=n(h[1]+h[13],18),h[14]^=n(h[10]+h[6],7),h[2]^=n(h[14]+h[10],9),h[6]^=n(h[2]+h[14],13),h[10]^=n(h[6]+h[2],18),h[3]^=n(h[15]+h[11],7),h[7]^=n(h[3]+h[15],9),h[11]^=n(h[7]+h[3],13),h[15]^=n(h[11]+h[7],18),h[1]^=n(h[0]+h[3],7),h[2]^=n(h[1]+h[0],9),h[3]^=n(h[2]+h[1],13),h[0]^=n(h[3]+h[2],18),h[6]^=n(h[5]+h[4],7),h[7]^=n(h[6]+h[5],9),h[4]^=n(h[7]+h[6],13),h[5]^=n(h[4]+h[7],18),h[11]^=n(h[10]+h[9],7),h[8]^=n(h[11]+h[10],9),h[9]^=n(h[8]+h[11],13),h[10]^=n(h[9]+h[8],18),h[12]^=n(h[15]+h[14],7),h[13]^=n(h[12]+h[15],9),h[14]^=n(h[13]+h[12],13),h[15]^=n(h[14]+h[13],18);for(let d=0;d<16;++d)f[d]+=h[d]}function o(f,h,d,m){for(let b=0;b<m;b++)d[b]^=f[h+b]}function a(f,h,d,m,b){for(;b--;)d[m++]=f[h++]}function i(f){if(!f||typeof f.length!="number")return!1;for(let h=0;h<f.length;h++){let d=f[h];if(typeof d!="number"||d%1||d<0||d>=256)return!1}return!0}function c(f,h){if(typeof f!="number"||f%1)throw new Error("invalid "+h);return f}function l(f,h,d,m,b,B,_){if(d=c(d,"N"),m=c(m,"r"),b=c(b,"p"),B=c(B,"dkLen"),d===0||d&d-1)throw new Error("N must be power of 2");if(d>2147483647/128/m)throw new Error("N too large");if(m>2147483647/128/b)throw new Error("r too large");if(!i(f))throw new Error("password must be an array or buffer");if(f=Array.prototype.slice.call(f),!i(h))throw new Error("salt must be an array or buffer");h=Array.prototype.slice.call(h);let S=t(f,h,b*128*m),q=new Uint32Array(b*32*m);for(let g=0;g<q.length;g++){let $=g*4;q[g]=(S[$+3]&255)<<24|(S[$+2]&255)<<16|(S[$+1]&255)<<8|(S[$+0]&255)<<0}let y=new Uint32Array(64*m),w=new Uint32Array(32*m*d),k=32*m,R=new Uint32Array(16),H=new Uint32Array(16),K=b*d*2,Z=0,F=null,p=!1,x=0,I=0,P,M,E=_?parseInt(1e3/m):4294967295,G=typeof setImmediate<"u"?setImmediate:setTimeout,O=function(){if(p)return _(new Error("cancelled"),Z/K);let g;switch(x){case 0:M=I*32*m,a(q,M,y,0,k),x=1,P=0;case 1:g=d-P,g>E&&(g=E);for(let W=0;W<g;W++)a(y,0,w,(P+W)*k,k),j(y,k,m,R,H);if(P+=g,Z+=g,_){let W=parseInt(1e3*Z/K);if(W!==F){if(p=_(null,Z/K),p)break;F=W}}if(P<d)break;P=0,x=2;case 2:g=d-P,g>E&&(g=E);for(let W=0;W<g;W++){let v=(2*m-1)*16,N=y[v]&d-1;o(w,N*k,y,k),j(y,k,m,R,H)}if(P+=g,Z+=g,_){let W=parseInt(1e3*Z/K);if(W!==F){if(p=_(null,Z/K),p)break;F=W}}if(P<d)break;if(a(y,0,q,M,k),I++,I<b){x=0;break}S=[];for(let W=0;W<q.length;W++)S.push(q[W]>>0&255),S.push(q[W]>>8&255),S.push(q[W]>>16&255),S.push(q[W]>>24&255);let $=t(f,S,B);return _&&_(null,1,$),$}_&&G(O)};if(!_)for(;;){let g=O();if(g!=null)return g}O()}let u={scrypt:function(f,h,d,m,b,B,_){return new Promise(function(S,q){let y=0;_&&_(0),l(f,h,d,m,b,B,function(w,k,R){if(w)q(w);else if(R)_&&y!==1&&_(1),S(new Uint8Array(R));else if(_&&k!==y)return y=k,_(k)})})},syncScrypt:function(f,h,d,m,b,B){return new Uint8Array(l(f,h,d,m,b,B))}};typeof Mc<"u"?Zd.exports=u:typeof define=="function"&&define.amd?define(u):r&&(r.scrypt&&(r._scrypt=r.scrypt),r.scrypt=u)})(Mc)});var vh=rA((lk,xh)=>{"use strict";var ho="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Dc={};for(Ms=0;Ms<ho.length;Ms++){if(uo=ho.charAt(Ms),Dc[uo]!==void 0)throw new TypeError(uo+" is ambiguous");Dc[uo]=Ms}var uo,Ms;function Cn(r){var A=r>>25;return(r&33554431)<<5^-(A>>0&1)&996825010^-(A>>1&1)&642813549^-(A>>2&1)&513874426^-(A>>3&1)&1027748829^-(A>>4&1)&705979059}function yh(r){for(var A=1,e=0;e<r.length;++e){var t=r.charCodeAt(e);if(t<33||t>126)return"Invalid prefix ("+r+")";A=Cn(A)^t>>5}for(A=Cn(A),e=0;e<r.length;++e){var j=r.charCodeAt(e);A=Cn(A)^j&31}return A}function Kx(r,A,e){if(e=e||90,r.length+7+A.length>e)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var t=yh(r);if(typeof t=="string")throw new Error(t);for(var j=r+"1",n=0;n<A.length;++n){var s=A[n];if(s>>5)throw new Error("Non 5-bit word");t=Cn(t)^s,j+=ho.charAt(s)}for(n=0;n<6;++n)t=Cn(t);for(t^=1,n=0;n<6;++n){var o=t>>(5-n)*5&31;j+=ho.charAt(o)}return j}function Bh(r,A){if(A=A||90,r.length<8)return r+" too short";if(r.length>A)return"Exceeds length limit";var e=r.toLowerCase(),t=r.toUpperCase();if(r!==e&&r!==t)return"Mixed-case string "+r;r=e;var j=r.lastIndexOf("1");if(j===-1)return"No separator character for "+r;if(j===0)return"Missing prefix for "+r;var n=r.slice(0,j),s=r.slice(j+1);if(s.length<6)return"Data too short";var o=yh(n);if(typeof o=="string")return o;for(var a=[],i=0;i<s.length;++i){var c=s.charAt(i),l=Dc[c];if(l===void 0)return"Unknown character "+c;o=Cn(o)^l,!(i+6>=s.length)&&a.push(l)}return o!==1?"Invalid checksum for "+r:{prefix:n,words:a}}function Hx(){var r=Bh.apply(null,arguments);if(typeof r=="object")return r}function zx(r){var A=Bh.apply(null,arguments);if(typeof A=="object")return A;throw new Error(A)}function po(r,A,e,t){for(var j=0,n=0,s=(1<<e)-1,o=[],a=0;a<r.length;++a)for(j=j<<A|r[a],n+=A;n>=e;)n-=e,o.push(j>>n&s);if(t)n>0&&o.push(j<<e-n&s);else{if(n>=A)return"Excess padding";if(j<<e-n&s)return"Non-zero padding"}return o}function Vx(r){var A=po(r,8,5,!0);if(Array.isArray(A))return A}function Jx(r){var A=po(r,8,5,!0);if(Array.isArray(A))return A;throw new Error(A)}function Wx(r){var A=po(r,5,8,!1);if(Array.isArray(A))return A}function Xx(r){var A=po(r,5,8,!1);if(Array.isArray(A))return A;throw new Error(A)}xh.exports={decodeUnsafe:Hx,decode:zx,encode:Kx,toWordsUnsafe:Vx,toWords:Jx,fromWordsUnsafe:Wx,fromWords:Xx}});var r6=rA((sI,ap)=>{"use strict";ap.exports=function(A,e){return function(){for(var j=new Array(arguments.length),n=0;n<j.length;n++)j[n]=arguments[n];return A.apply(e,j)}}});var at=rA((iI,lp)=>{"use strict";var $1=r6(),Jj=Object.prototype.toString;function s6(r){return Jj.call(r)==="[object Array]"}function j6(r){return typeof r>"u"}function I1(r){return r!==null&&!j6(r)&&r.constructor!==null&&!j6(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function O1(r){return Jj.call(r)==="[object ArrayBuffer]"}function S1(r){return typeof FormData<"u"&&r instanceof FormData}function P1(r){var A;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?A=ArrayBuffer.isView(r):A=r&&r.buffer&&r.buffer instanceof ArrayBuffer,A}function F1(r){return typeof r=="string"}function G1(r){return typeof r=="number"}function cp(r){return r!==null&&typeof r=="object"}function Fo(r){if(Jj.call(r)!=="[object Object]")return!1;var A=Object.getPrototypeOf(r);return A===null||A===Object.prototype}function M1(r){return Jj.call(r)==="[object Date]"}function R1(r){return Jj.call(r)==="[object File]"}function C1(r){return Jj.call(r)==="[object Blob]"}function fp(r){return Jj.call(r)==="[object Function]"}function T1(r){return cp(r)&&fp(r.pipe)}function N1(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}function D1(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function U1(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function i6(r,A){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),s6(r))for(var e=0,t=r.length;e<t;e++)A.call(null,r[e],e,r);else for(var j in r)Object.prototype.hasOwnProperty.call(r,j)&&A.call(null,r[j],j,r)}function n6(){var r={};function A(j,n){Fo(r[n])&&Fo(j)?r[n]=n6(r[n],j):Fo(j)?r[n]=n6({},j):s6(j)?r[n]=j.slice():r[n]=j}for(var e=0,t=arguments.length;e<t;e++)i6(arguments[e],A);return r}function L1(r,A,e){return i6(A,function(j,n){e&&typeof j=="function"?r[n]=$1(j,e):r[n]=j}),r}function K1(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}lp.exports={isArray:s6,isArrayBuffer:O1,isBuffer:I1,isFormData:S1,isArrayBufferView:P1,isString:F1,isNumber:G1,isObject:cp,isPlainObject:Fo,isUndefined:j6,isDate:M1,isFile:R1,isBlob:C1,isFunction:fp,isStream:T1,isURLSearchParams:N1,isStandardBrowserEnv:U1,forEach:i6,merge:n6,extend:L1,trim:D1,stripBOM:K1}});var o6=rA((oI,dp)=>{"use strict";var Vn=at();function up(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}dp.exports=function(A,e,t){if(!e)return A;var j;if(t)j=t(e);else if(Vn.isURLSearchParams(e))j=e.toString();else{var n=[];Vn.forEach(e,function(a,i){a===null||typeof a>"u"||(Vn.isArray(a)?i=i+"[]":a=[a],Vn.forEach(a,function(l){Vn.isDate(l)?l=l.toISOString():Vn.isObject(l)&&(l=JSON.stringify(l)),n.push(up(i)+"="+up(l))}))}),j=n.join("&")}if(j){var s=A.indexOf("#");s!==-1&&(A=A.slice(0,s)),A+=(A.indexOf("?")===-1?"?":"&")+j}return A}});var pp=rA((aI,hp)=>{"use strict";var H1=at();function Go(){this.handlers=[]}Go.prototype.use=function(A,e,t){return this.handlers.push({fulfilled:A,rejected:e,synchronous:t?t.synchronous:!1,runWhen:t?t.runWhen:null}),this.handlers.length-1};Go.prototype.eject=function(A){this.handlers[A]&&(this.handlers[A]=null)};Go.prototype.forEach=function(A){H1.forEach(this.handlers,function(t){t!==null&&A(t)})};hp.exports=Go});var gp=rA((cI,mp)=>{"use strict";var z1=at();mp.exports=function(A,e){z1.forEach(A,function(j,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(A[e]=j,delete A[n])})}});var a6=rA((fI,bp)=>{"use strict";bp.exports=function(A,e,t,j,n){return A.config=e,t&&(A.code=t),A.request=j,A.response=n,A.isAxiosError=!0,A.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},A}});var c6=rA((lI,yp)=>{"use strict";var V1=a6();yp.exports=function(A,e,t,j,n){var s=new Error(A);return V1(s,e,t,j,n)}});var xp=rA((uI,Bp)=>{"use strict";var J1=c6();Bp.exports=function(A,e,t){var j=t.config.validateStatus;!t.status||!j||j(t.status)?A(t):e(J1("Request failed with status code "+t.status,t.config,null,t.request,t))}});var _p=rA((dI,vp)=>{"use strict";var Mo=at();vp.exports=Mo.isStandardBrowserEnv()?function(){return{write:function(e,t,j,n,s,o){var a=[];a.push(e+"="+encodeURIComponent(t)),Mo.isNumber(j)&&a.push("expires="+new Date(j).toGMTString()),Mo.isString(n)&&a.push("path="+n),Mo.isString(s)&&a.push("domain="+s),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var Ep=rA((hI,wp)=>{"use strict";wp.exports=function(A){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(A)}});var qp=rA((pI,kp)=>{"use strict";kp.exports=function(A,e){return e?A.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):A}});var Ip=rA((mI,$p)=>{"use strict";var W1=Ep(),X1=qp();$p.exports=function(A,e){return A&&!W1(e)?X1(A,e):e}});var Sp=rA((gI,Op)=>{"use strict";var f6=at(),Q1=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];Op.exports=function(A){var e={},t,j,n;return A&&f6.forEach(A.split(`
`),function(o){if(n=o.indexOf(":"),t=f6.trim(o.substr(0,n)).toLowerCase(),j=f6.trim(o.substr(n+1)),t){if(e[t]&&Q1.indexOf(t)>=0)return;t==="set-cookie"?e[t]=(e[t]?e[t]:[]).concat([j]):e[t]=e[t]?e[t]+", "+j:j}}),e}});var Gp=rA((bI,Fp)=>{"use strict";var Pp=at();Fp.exports=Pp.isStandardBrowserEnv()?function(){var A=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a"),t;function j(n){var s=n;return A&&(e.setAttribute("href",s),s=e.href),e.setAttribute("href",s),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return t=j(window.location.href),function(s){var o=Pp.isString(s)?j(s):s;return o.protocol===t.protocol&&o.host===t.host}}():function(){return function(){return!0}}()});var u6=rA((yI,Mp)=>{"use strict";var Ro=at(),Z1=xp(),Y1=_p(),Av=o6(),ev=Ip(),tv=Sp(),rv=Gp(),l6=c6();Mp.exports=function(A){return new Promise(function(t,j){var n=A.data,s=A.headers,o=A.responseType;Ro.isFormData(n)&&delete s["Content-Type"];var a=new XMLHttpRequest;if(A.auth){var i=A.auth.username||"",c=A.auth.password?unescape(encodeURIComponent(A.auth.password)):"";s.Authorization="Basic "+btoa(i+":"+c)}var l=ev(A.baseURL,A.url);a.open(A.method.toUpperCase(),Av(l,A.params,A.paramsSerializer),!0),a.timeout=A.timeout;function u(){if(a){var h="getAllResponseHeaders"in a?tv(a.getAllResponseHeaders()):null,d=!o||o==="text"||o==="json"?a.responseText:a.response,m={data:d,status:a.status,statusText:a.statusText,headers:h,config:A,request:a};Z1(t,j,m),a=null}}if("onloadend"in a?a.onloadend=u:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(u)},a.onabort=function(){a&&(j(l6("Request aborted",A,"ECONNABORTED",a)),a=null)},a.onerror=function(){j(l6("Network Error",A,null,a)),a=null},a.ontimeout=function(){var d="timeout of "+A.timeout+"ms exceeded";A.timeoutErrorMessage&&(d=A.timeoutErrorMessage),j(l6(d,A,A.transitional&&A.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",a)),a=null},Ro.isStandardBrowserEnv()){var f=(A.withCredentials||rv(l))&&A.xsrfCookieName?Y1.read(A.xsrfCookieName):void 0;f&&(s[A.xsrfHeaderName]=f)}"setRequestHeader"in a&&Ro.forEach(s,function(d,m){typeof n>"u"&&m.toLowerCase()==="content-type"?delete s[m]:a.setRequestHeader(m,d)}),Ro.isUndefined(A.withCredentials)||(a.withCredentials=!!A.withCredentials),o&&o!=="json"&&(a.responseType=A.responseType),typeof A.onDownloadProgress=="function"&&a.addEventListener("progress",A.onDownloadProgress),typeof A.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",A.onUploadProgress),A.cancelToken&&A.cancelToken.promise.then(function(d){a&&(a.abort(),j(d),a=null)}),n||(n=null),a.send(n)})}});var To=rA((BI,Tp)=>{"use strict";var Me=at(),Rp=gp(),jv=a6(),nv={"Content-Type":"application/x-www-form-urlencoded"};function Cp(r,A){!Me.isUndefined(r)&&Me.isUndefined(r["Content-Type"])&&(r["Content-Type"]=A)}function sv(){var r;return typeof XMLHttpRequest<"u"?r=u6():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(r=u6()),r}function iv(r,A,e){if(Me.isString(r))try{return(A||JSON.parse)(r),Me.trim(r)}catch(t){if(t.name!=="SyntaxError")throw t}return(e||JSON.stringify)(r)}var Co={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:sv(),transformRequest:[function(A,e){return Rp(e,"Accept"),Rp(e,"Content-Type"),Me.isFormData(A)||Me.isArrayBuffer(A)||Me.isBuffer(A)||Me.isStream(A)||Me.isFile(A)||Me.isBlob(A)?A:Me.isArrayBufferView(A)?A.buffer:Me.isURLSearchParams(A)?(Cp(e,"application/x-www-form-urlencoded;charset=utf-8"),A.toString()):Me.isObject(A)||e&&e["Content-Type"]==="application/json"?(Cp(e,"application/json"),iv(A)):A}],transformResponse:[function(A){var e=this.transitional,t=e&&e.silentJSONParsing,j=e&&e.forcedJSONParsing,n=!t&&this.responseType==="json";if(n||j&&Me.isString(A)&&A.length)try{return JSON.parse(A)}catch(s){if(n)throw s.name==="SyntaxError"?jv(s,this,"E_JSON_PARSE"):s}return A}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(A){return A>=200&&A<300}};Co.headers={common:{Accept:"application/json, text/plain, */*"}};Me.forEach(["delete","get","head"],function(A){Co.headers[A]={}});Me.forEach(["post","put","patch"],function(A){Co.headers[A]=Me.merge(nv)});Tp.exports=Co});var Dp=rA((xI,Np)=>{"use strict";var ov=at(),av=To();Np.exports=function(A,e,t){var j=this||av;return ov.forEach(t,function(s){A=s.call(j,A,e)}),A}});var d6=rA((vI,Up)=>{"use strict";Up.exports=function(A){return!!(A&&A.__CANCEL__)}});var Hp=rA((_I,Kp)=>{"use strict";var Lp=at(),h6=Dp(),cv=d6(),fv=To();function p6(r){r.cancelToken&&r.cancelToken.throwIfRequested()}Kp.exports=function(A){p6(A),A.headers=A.headers||{},A.data=h6.call(A,A.data,A.headers,A.transformRequest),A.headers=Lp.merge(A.headers.common||{},A.headers[A.method]||{},A.headers),Lp.forEach(["delete","get","head","post","put","patch","common"],function(j){delete A.headers[j]});var e=A.adapter||fv.adapter;return e(A).then(function(j){return p6(A),j.data=h6.call(A,j.data,j.headers,A.transformResponse),j},function(j){return cv(j)||(p6(A),j&&j.response&&(j.response.data=h6.call(A,j.response.data,j.response.headers,A.transformResponse))),Promise.reject(j)})}});var m6=rA((wI,zp)=>{"use strict";var ze=at();zp.exports=function(A,e){e=e||{};var t={},j=["url","method","data"],n=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function a(u,f){return ze.isPlainObject(u)&&ze.isPlainObject(f)?ze.merge(u,f):ze.isPlainObject(f)?ze.merge({},f):ze.isArray(f)?f.slice():f}function i(u){ze.isUndefined(e[u])?ze.isUndefined(A[u])||(t[u]=a(void 0,A[u])):t[u]=a(A[u],e[u])}ze.forEach(j,function(f){ze.isUndefined(e[f])||(t[f]=a(void 0,e[f]))}),ze.forEach(n,i),ze.forEach(s,function(f){ze.isUndefined(e[f])?ze.isUndefined(A[f])||(t[f]=a(void 0,A[f])):t[f]=a(void 0,e[f])}),ze.forEach(o,function(f){f in e?t[f]=a(A[f],e[f]):f in A&&(t[f]=a(void 0,A[f]))});var c=j.concat(n).concat(s).concat(o),l=Object.keys(A).concat(Object.keys(e)).filter(function(f){return c.indexOf(f)===-1});return ze.forEach(l,i),t}});var Vp=rA((EI,lv)=>{lv.exports={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}});var Zp=rA((kI,Qp)=>{"use strict";var Wp=Vp(),g6={};["object","boolean","number","function","string","symbol"].forEach(function(r,A){g6[r]=function(t){return typeof t===r||"a"+(A<1?"n ":" ")+r}});var Jp={},uv=Wp.version.split(".");function Xp(r,A){for(var e=A?A.split("."):uv,t=r.split("."),j=0;j<3;j++){if(e[j]>t[j])return!0;if(e[j]<t[j])return!1}return!1}g6.transitional=function(A,e,t){var j=e&&Xp(e);function n(s,o){return"[Axios v"+Wp.version+"] Transitional option '"+s+"'"+o+(t?". "+t:"")}return function(s,o,a){if(A===!1)throw new Error(n(o," has been removed in "+e));return j&&!Jp[o]&&(Jp[o]=!0,console.warn(n(o," has been deprecated since v"+e+" and will be removed in the near future"))),A?A(s,o,a):!0}};function dv(r,A,e){if(typeof r!="object")throw new TypeError("options must be an object");for(var t=Object.keys(r),j=t.length;j-- >0;){var n=t[j],s=A[n];if(s){var o=r[n],a=o===void 0||s(o,n,r);if(a!==!0)throw new TypeError("option "+n+" must be "+a);continue}if(e!==!0)throw Error("Unknown option "+n)}}Qp.exports={isOlderVersion:Xp,assertOptions:dv,validators:g6}});var jm=rA((qI,rm)=>{"use strict";var em=at(),hv=o6(),Yp=pp(),Am=Hp(),No=m6(),tm=Zp(),Jn=tm.validators;function ji(r){this.defaults=r,this.interceptors={request:new Yp,response:new Yp}}ji.prototype.request=function(A){typeof A=="string"?(A=arguments[1]||{},A.url=arguments[0]):A=A||{},A=No(this.defaults,A),A.method?A.method=A.method.toLowerCase():this.defaults.method?A.method=this.defaults.method.toLowerCase():A.method="get";var e=A.transitional;e!==void 0&&tm.assertOptions(e,{silentJSONParsing:Jn.transitional(Jn.boolean,"1.0.0"),forcedJSONParsing:Jn.transitional(Jn.boolean,"1.0.0"),clarifyTimeoutError:Jn.transitional(Jn.boolean,"1.0.0")},!1);var t=[],j=!0;this.interceptors.request.forEach(function(u){typeof u.runWhen=="function"&&u.runWhen(A)===!1||(j=j&&u.synchronous,t.unshift(u.fulfilled,u.rejected))});var n=[];this.interceptors.response.forEach(function(u){n.push(u.fulfilled,u.rejected)});var s;if(!j){var o=[Am,void 0];for(Array.prototype.unshift.apply(o,t),o=o.concat(n),s=Promise.resolve(A);o.length;)s=s.then(o.shift(),o.shift());return s}for(var a=A;t.length;){var i=t.shift(),c=t.shift();try{a=i(a)}catch(l){c(l);break}}try{s=Am(a)}catch(l){return Promise.reject(l)}for(;n.length;)s=s.then(n.shift(),n.shift());return s};ji.prototype.getUri=function(A){return A=No(this.defaults,A),hv(A.url,A.params,A.paramsSerializer).replace(/^\?/,"")};em.forEach(["delete","get","head","options"],function(A){ji.prototype[A]=function(e,t){return this.request(No(t||{},{method:A,url:e,data:(t||{}).data}))}});em.forEach(["post","put","patch"],function(A){ji.prototype[A]=function(e,t,j){return this.request(No(j||{},{method:A,url:e,data:t}))}});rm.exports=ji});var y6=rA(($I,nm)=>{"use strict";function b6(r){this.message=r}b6.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};b6.prototype.__CANCEL__=!0;nm.exports=b6});var im=rA((II,sm)=>{"use strict";var pv=y6();function Do(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var A;this.promise=new Promise(function(j){A=j});var e=this;r(function(j){e.reason||(e.reason=new pv(j),A(e.reason))})}Do.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Do.source=function(){var A,e=new Do(function(j){A=j});return{token:e,cancel:A}};sm.exports=Do});var am=rA((OI,om)=>{"use strict";om.exports=function(A){return function(t){return A.apply(null,t)}}});var fm=rA((SI,cm)=>{"use strict";cm.exports=function(A){return typeof A=="object"&&A.isAxiosError===!0}});var dm=rA((PI,B6)=>{"use strict";var lm=at(),mv=r6(),Uo=jm(),gv=m6(),bv=To();function um(r){var A=new Uo(r),e=mv(Uo.prototype.request,A);return lm.extend(e,Uo.prototype,A),lm.extend(e,A),e}var Ht=um(bv);Ht.Axios=Uo;Ht.create=function(A){return um(gv(Ht.defaults,A))};Ht.Cancel=y6();Ht.CancelToken=im();Ht.isCancel=d6();Ht.all=function(A){return Promise.all(A)};Ht.spread=am();Ht.isAxiosError=fm();B6.exports=Ht;B6.exports.default=Ht});var pm=rA((FI,hm)=>{hm.exports=dm()});var gm=rA((GI,mm)=>{"use strict";mm.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var A={},e=Symbol("test"),t=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(t)!=="[object Symbol]")return!1;var j=42;A[e]=j;for(e in A)return!1;if(typeof Object.keys=="function"&&Object.keys(A).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(A).length!==0)return!1;var n=Object.getOwnPropertySymbols(A);if(n.length!==1||n[0]!==e||!Object.prototype.propertyIsEnumerable.call(A,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(A,e);if(s.value!==j||s.enumerable!==!0)return!1}return!0}});var Bm=rA((MI,ym)=>{"use strict";var bm=typeof Symbol<"u"&&Symbol,yv=gm();ym.exports=function(){return typeof bm!="function"||typeof Symbol!="function"||typeof bm("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:yv()}});var vm=rA((RI,xm)=>{"use strict";var Bv="Function.prototype.bind called on incompatible ",x6=Array.prototype.slice,xv=Object.prototype.toString,vv="[object Function]";xm.exports=function(A){var e=this;if(typeof e!="function"||xv.call(e)!==vv)throw new TypeError(Bv+e);for(var t=x6.call(arguments,1),j,n=function(){if(this instanceof j){var c=e.apply(this,t.concat(x6.call(arguments)));return Object(c)===c?c:this}else return e.apply(A,t.concat(x6.call(arguments)))},s=Math.max(0,e.length-t.length),o=[],a=0;a<s;a++)o.push("$"+a);if(j=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(n),e.prototype){var i=function(){};i.prototype=e.prototype,j.prototype=new i,i.prototype=null}return j}});var Lo=rA((CI,_m)=>{"use strict";var _v=vm();_m.exports=Function.prototype.bind||_v});var Em=rA((TI,wm)=>{"use strict";var wv=Lo();wm.exports=wv.call(Function.call,Object.prototype.hasOwnProperty)});var zo=rA((NI,Im)=>{"use strict";var kA,Yn=SyntaxError,$m=Function,Qn=TypeError,v6=function(r){try{return $m('"use strict"; return ('+r+").constructor;")()}catch{}},Wj=Object.getOwnPropertyDescriptor;if(Wj)try{Wj({},"")}catch{Wj=null}var _6=function(){throw new Qn},Ev=Wj?function(){try{return arguments.callee,_6}catch{try{return Wj(arguments,"callee").get}catch{return _6}}}():_6,Wn=Bm()(),ij=Object.getPrototypeOf||function(r){return r.__proto__},Xn={},kv=typeof Uint8Array>"u"?kA:ij(Uint8Array),Zn={"%AggregateError%":typeof AggregateError>"u"?kA:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?kA:ArrayBuffer,"%ArrayIteratorPrototype%":Wn?ij([][Symbol.iterator]()):kA,"%AsyncFromSyncIteratorPrototype%":kA,"%AsyncFunction%":Xn,"%AsyncGenerator%":Xn,"%AsyncGeneratorFunction%":Xn,"%AsyncIteratorPrototype%":Xn,"%Atomics%":typeof Atomics>"u"?kA:Atomics,"%BigInt%":typeof BigInt>"u"?kA:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?kA:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?kA:Float32Array,"%Float64Array%":typeof Float64Array>"u"?kA:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?kA:FinalizationRegistry,"%Function%":$m,"%GeneratorFunction%":Xn,"%Int8Array%":typeof Int8Array>"u"?kA:Int8Array,"%Int16Array%":typeof Int16Array>"u"?kA:Int16Array,"%Int32Array%":typeof Int32Array>"u"?kA:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Wn?ij(ij([][Symbol.iterator]())):kA,"%JSON%":typeof JSON=="object"?JSON:kA,"%Map%":typeof Map>"u"?kA:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Wn?kA:ij(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?kA:Promise,"%Proxy%":typeof Proxy>"u"?kA:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?kA:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?kA:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Wn?kA:ij(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?kA:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Wn?ij(""[Symbol.iterator]()):kA,"%Symbol%":Wn?Symbol:kA,"%SyntaxError%":Yn,"%ThrowTypeError%":Ev,"%TypedArray%":kv,"%TypeError%":Qn,"%Uint8Array%":typeof Uint8Array>"u"?kA:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?kA:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?kA:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?kA:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?kA:WeakMap,"%WeakRef%":typeof WeakRef>"u"?kA:WeakRef,"%WeakSet%":typeof WeakSet>"u"?kA:WeakSet},qv=function r(A){var e;if(A==="%AsyncFunction%")e=v6("async function () {}");else if(A==="%GeneratorFunction%")e=v6("function* () {}");else if(A==="%AsyncGeneratorFunction%")e=v6("async function* () {}");else if(A==="%AsyncGenerator%"){var t=r("%AsyncGeneratorFunction%");t&&(e=t.prototype)}else if(A==="%AsyncIteratorPrototype%"){var j=r("%AsyncGenerator%");j&&(e=ij(j.prototype))}return Zn[A]=e,e},km={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ni=Lo(),Ko=Em(),$v=ni.call(Function.call,Array.prototype.concat),Iv=ni.call(Function.apply,Array.prototype.splice),qm=ni.call(Function.call,String.prototype.replace),Ho=ni.call(Function.call,String.prototype.slice),Ov=ni.call(Function.call,RegExp.prototype.exec),Sv=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Pv=/\\(\\)?/g,Fv=function(A){var e=Ho(A,0,1),t=Ho(A,-1);if(e==="%"&&t!=="%")throw new Yn("invalid intrinsic syntax, expected closing `%`");if(t==="%"&&e!=="%")throw new Yn("invalid intrinsic syntax, expected opening `%`");var j=[];return qm(A,Sv,function(n,s,o,a){j[j.length]=o?qm(a,Pv,"$1"):s||n}),j},Gv=function(A,e){var t=A,j;if(Ko(km,t)&&(j=km[t],t="%"+j[0]+"%"),Ko(Zn,t)){var n=Zn[t];if(n===Xn&&(n=qv(t)),typeof n>"u"&&!e)throw new Qn("intrinsic "+A+" exists, but is not available. Please file an issue!");return{alias:j,name:t,value:n}}throw new Yn("intrinsic "+A+" does not exist!")};Im.exports=function(A,e){if(typeof A!="string"||A.length===0)throw new Qn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new Qn('"allowMissing" argument must be a boolean');if(Ov(/^%?[^%]*%?$/,A)===null)throw new Yn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var t=Fv(A),j=t.length>0?t[0]:"",n=Gv("%"+j+"%",e),s=n.name,o=n.value,a=!1,i=n.alias;i&&(j=i[0],Iv(t,$v([0,1],i)));for(var c=1,l=!0;c<t.length;c+=1){var u=t[c],f=Ho(u,0,1),h=Ho(u,-1);if((f==='"'||f==="'"||f==="`"||h==='"'||h==="'"||h==="`")&&f!==h)throw new Yn("property names with quotes must have matching quotes");if((u==="constructor"||!l)&&(a=!0),j+="."+u,s="%"+j+"%",Ko(Zn,s))o=Zn[s];else if(o!=null){if(!(u in o)){if(!e)throw new Qn("base intrinsic for "+A+" exists, but the property is not available.");return}if(Wj&&c+1>=t.length){var d=Wj(o,u);l=!!d,l&&"get"in d&&!("originalValue"in d.get)?o=d.get:o=o[u]}else l=Ko(o,u),o=o[u];l&&!a&&(Zn[s]=o)}}return o}});var Mm=rA((DI,Vo)=>{"use strict";var w6=Lo(),As=zo(),Pm=As("%Function.prototype.apply%"),Fm=As("%Function.prototype.call%"),Gm=As("%Reflect.apply%",!0)||w6.call(Fm,Pm),Om=As("%Object.getOwnPropertyDescriptor%",!0),Xj=As("%Object.defineProperty%",!0),Mv=As("%Math.max%");if(Xj)try{Xj({},"a",{value:1})}catch{Xj=null}Vo.exports=function(A){var e=Gm(w6,Fm,arguments);if(Om&&Xj){var t=Om(e,"length");t.configurable&&Xj(e,"length",{value:1+Mv(0,A.length-(arguments.length-1))})}return e};var Sm=function(){return Gm(w6,Pm,arguments)};Xj?Xj(Vo.exports,"apply",{value:Sm}):Vo.exports.apply=Sm});var Nm=rA((UI,Tm)=>{"use strict";var Rm=zo(),Cm=Mm(),Rv=Cm(Rm("String.prototype.indexOf"));Tm.exports=function(A,e){var t=Rm(A,!!e);return typeof t=="function"&&Rv(A,".prototype.")>-1?Cm(t):t}});var Dm=rA(()=>{});var ng=rA((HI,jg)=>{var G6=typeof Map=="function"&&Map.prototype,E6=Object.getOwnPropertyDescriptor&&G6?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Wo=G6&&E6&&typeof E6.get=="function"?E6.get:null,Cv=G6&&Map.prototype.forEach,M6=typeof Set=="function"&&Set.prototype,k6=Object.getOwnPropertyDescriptor&&M6?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Xo=M6&&k6&&typeof k6.get=="function"?k6.get:null,Tv=M6&&Set.prototype.forEach,Nv=typeof WeakMap=="function"&&WeakMap.prototype,ii=Nv?WeakMap.prototype.has:null,Dv=typeof WeakSet=="function"&&WeakSet.prototype,oi=Dv?WeakSet.prototype.has:null,Uv=typeof WeakRef=="function"&&WeakRef.prototype,Um=Uv?WeakRef.prototype.deref:null,Lv=Boolean.prototype.valueOf,Kv=Object.prototype.toString,Hv=Function.prototype.toString,zv=String.prototype.match,R6=String.prototype.slice,aj=String.prototype.replace,Vv=String.prototype.toUpperCase,Lm=String.prototype.toLowerCase,Zm=RegExp.prototype.test,Km=Array.prototype.concat,dr=Array.prototype.join,Jv=Array.prototype.slice,Hm=Math.floor,I6=typeof BigInt=="function"?BigInt.prototype.valueOf:null,q6=Object.getOwnPropertySymbols,O6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,es=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ve=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===es||"symbol")?Symbol.toStringTag:null,Ym=Object.prototype.propertyIsEnumerable,zm=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function Vm(r,A){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||Zm.call(/e/,A))return A;var e=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var t=r<0?-Hm(-r):Hm(r);if(t!==r){var j=String(t),n=R6.call(A,j.length+1);return aj.call(j,e,"$&_")+"."+aj.call(aj.call(n,/([0-9]{3})/g,"$&_"),/_$/,"")}}return aj.call(A,e,"$&_")}var S6=Dm(),Jm=S6.custom,Wm=eg(Jm)?Jm:null;jg.exports=function r(A,e,t,j){var n=e||{};if(oj(n,"quoteStyle")&&n.quoteStyle!=="single"&&n.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(oj(n,"maxStringLength")&&(typeof n.maxStringLength=="number"?n.maxStringLength<0&&n.maxStringLength!==1/0:n.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=oj(n,"customInspect")?n.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(oj(n,"indent")&&n.indent!==null&&n.indent!=="	"&&!(parseInt(n.indent,10)===n.indent&&n.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(oj(n,"numericSeparator")&&typeof n.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=n.numericSeparator;if(typeof A>"u")return"undefined";if(A===null)return"null";if(typeof A=="boolean")return A?"true":"false";if(typeof A=="string")return rg(A,n);if(typeof A=="number"){if(A===0)return 1/0/A>0?"0":"-0";var a=String(A);return o?Vm(A,a):a}if(typeof A=="bigint"){var i=String(A)+"n";return o?Vm(A,i):i}var c=typeof n.depth>"u"?5:n.depth;if(typeof t>"u"&&(t=0),t>=c&&c>0&&typeof A=="object")return P6(A)?"[Array]":"[Object]";var l=l_(n,t);if(typeof j>"u")j=[];else if(tg(j,A)>=0)return"[Circular]";function u(F,p,x){if(p&&(j=Jv.call(j),j.push(p)),x){var I={depth:n.depth};return oj(n,"quoteStyle")&&(I.quoteStyle=n.quoteStyle),r(F,I,t+1,j)}return r(F,n,t+1,j)}if(typeof A=="function"&&!Xm(A)){var f=r_(A),h=Jo(A,u);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(h.length>0?" { "+dr.call(h,", ")+" }":"")}if(eg(A)){var d=es?aj.call(String(A),/^(Symbol\(.*\))_[^)]*$/,"$1"):O6.call(A);return typeof A=="object"&&!es?si(d):d}if(a_(A)){for(var m="<"+Lm.call(String(A.nodeName)),b=A.attributes||[],B=0;B<b.length;B++)m+=" "+b[B].name+"="+Ag(Wv(b[B].value),"double",n);return m+=">",A.childNodes&&A.childNodes.length&&(m+="..."),m+="</"+Lm.call(String(A.nodeName))+">",m}if(P6(A)){if(A.length===0)return"[]";var _=Jo(A,u);return l&&!f_(_)?"["+F6(_,l)+"]":"[ "+dr.call(_,", ")+" ]"}if(Qv(A)){var S=Jo(A,u);return!("cause"in Error.prototype)&&"cause"in A&&!Ym.call(A,"cause")?"{ ["+String(A)+"] "+dr.call(Km.call("[cause]: "+u(A.cause),S),", ")+" }":S.length===0?"["+String(A)+"]":"{ ["+String(A)+"] "+dr.call(S,", ")+" }"}if(typeof A=="object"&&s){if(Wm&&typeof A[Wm]=="function"&&S6)return S6(A,{depth:c-t});if(s!=="symbol"&&typeof A.inspect=="function")return A.inspect()}if(j_(A)){var q=[];return Cv.call(A,function(F,p){q.push(u(p,A,!0)+" => "+u(F,A))}),Qm("Map",Wo.call(A),q,l)}if(i_(A)){var y=[];return Tv.call(A,function(F){y.push(u(F,A))}),Qm("Set",Xo.call(A),y,l)}if(n_(A))return $6("WeakMap");if(o_(A))return $6("WeakSet");if(s_(A))return $6("WeakRef");if(Yv(A))return si(u(Number(A)));if(e_(A))return si(u(I6.call(A)));if(A_(A))return si(Lv.call(A));if(Zv(A))return si(u(String(A)));if(!Xv(A)&&!Xm(A)){var w=Jo(A,u),k=zm?zm(A)===Object.prototype:A instanceof Object||A.constructor===Object,R=A instanceof Object?"":"null prototype",H=!k&&Ve&&Object(A)===A&&Ve in A?R6.call(cj(A),8,-1):R?"Object":"",K=k||typeof A.constructor!="function"?"":A.constructor.name?A.constructor.name+" ":"",Z=K+(H||R?"["+dr.call(Km.call([],H||[],R||[]),": ")+"] ":"");return w.length===0?Z+"{}":l?Z+"{"+F6(w,l)+"}":Z+"{ "+dr.call(w,", ")+" }"}return String(A)};function Ag(r,A,e){var t=(e.quoteStyle||A)==="double"?'"':"'";return t+r+t}function Wv(r){return aj.call(String(r),/"/g,"&quot;")}function P6(r){return cj(r)==="[object Array]"&&(!Ve||!(typeof r=="object"&&Ve in r))}function Xv(r){return cj(r)==="[object Date]"&&(!Ve||!(typeof r=="object"&&Ve in r))}function Xm(r){return cj(r)==="[object RegExp]"&&(!Ve||!(typeof r=="object"&&Ve in r))}function Qv(r){return cj(r)==="[object Error]"&&(!Ve||!(typeof r=="object"&&Ve in r))}function Zv(r){return cj(r)==="[object String]"&&(!Ve||!(typeof r=="object"&&Ve in r))}function Yv(r){return cj(r)==="[object Number]"&&(!Ve||!(typeof r=="object"&&Ve in r))}function A_(r){return cj(r)==="[object Boolean]"&&(!Ve||!(typeof r=="object"&&Ve in r))}function eg(r){if(es)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!O6)return!1;try{return O6.call(r),!0}catch{}return!1}function e_(r){if(!r||typeof r!="object"||!I6)return!1;try{return I6.call(r),!0}catch{}return!1}var t_=Object.prototype.hasOwnProperty||function(r){return r in this};function oj(r,A){return t_.call(r,A)}function cj(r){return Kv.call(r)}function r_(r){if(r.name)return r.name;var A=zv.call(Hv.call(r),/^function\s*([\w$]+)/);return A?A[1]:null}function tg(r,A){if(r.indexOf)return r.indexOf(A);for(var e=0,t=r.length;e<t;e++)if(r[e]===A)return e;return-1}function j_(r){if(!Wo||!r||typeof r!="object")return!1;try{Wo.call(r);try{Xo.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function n_(r){if(!ii||!r||typeof r!="object")return!1;try{ii.call(r,ii);try{oi.call(r,oi)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function s_(r){if(!Um||!r||typeof r!="object")return!1;try{return Um.call(r),!0}catch{}return!1}function i_(r){if(!Xo||!r||typeof r!="object")return!1;try{Xo.call(r);try{Wo.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function o_(r){if(!oi||!r||typeof r!="object")return!1;try{oi.call(r,oi);try{ii.call(r,ii)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function a_(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function rg(r,A){if(r.length>A.maxStringLength){var e=r.length-A.maxStringLength,t="... "+e+" more character"+(e>1?"s":"");return rg(R6.call(r,0,A.maxStringLength),A)+t}var j=aj.call(aj.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,c_);return Ag(j,"single",A)}function c_(r){var A=r.charCodeAt(0),e={8:"b",9:"t",10:"n",12:"f",13:"r"}[A];return e?"\\"+e:"\\x"+(A<16?"0":"")+Vv.call(A.toString(16))}function si(r){return"Object("+r+")"}function $6(r){return r+" { ? }"}function Qm(r,A,e,t){var j=t?F6(e,t):dr.call(e,", ");return r+" ("+A+") {"+j+"}"}function f_(r){for(var A=0;A<r.length;A++)if(tg(r[A],`
`)>=0)return!1;return!0}function l_(r,A){var e;if(r.indent==="	")e="	";else if(typeof r.indent=="number"&&r.indent>0)e=dr.call(Array(r.indent+1)," ");else return null;return{base:e,prev:dr.call(Array(A+1),e)}}function F6(r,A){if(r.length===0)return"";var e=`
`+A.prev+A.base;return e+dr.call(r,","+e)+`
`+A.prev}function Jo(r,A){var e=P6(r),t=[];if(e){t.length=r.length;for(var j=0;j<r.length;j++)t[j]=oj(r,j)?A(r[j],r):""}var n=typeof q6=="function"?q6(r):[],s;if(es){s={};for(var o=0;o<n.length;o++)s["$"+n[o]]=n[o]}for(var a in r)oj(r,a)&&(e&&String(Number(a))===a&&a<r.length||es&&s["$"+a]instanceof Symbol||(Zm.call(/[^\w$]/,a)?t.push(A(a,r)+": "+A(r[a],r)):t.push(a+": "+A(r[a],r))));if(typeof q6=="function")for(var i=0;i<n.length;i++)Ym.call(r,n[i])&&t.push("["+A(n[i])+"]: "+A(r[n[i]],r));return t}});var ig=rA((zI,sg)=>{"use strict";var C6=zo(),ts=Nm(),u_=ng(),d_=C6("%TypeError%"),Qo=C6("%WeakMap%",!0),Zo=C6("%Map%",!0),h_=ts("WeakMap.prototype.get",!0),p_=ts("WeakMap.prototype.set",!0),m_=ts("WeakMap.prototype.has",!0),g_=ts("Map.prototype.get",!0),b_=ts("Map.prototype.set",!0),y_=ts("Map.prototype.has",!0),T6=function(r,A){for(var e=r,t;(t=e.next)!==null;e=t)if(t.key===A)return e.next=t.next,t.next=r.next,r.next=t,t},B_=function(r,A){var e=T6(r,A);return e&&e.value},x_=function(r,A,e){var t=T6(r,A);t?t.value=e:r.next={key:A,next:r.next,value:e}},v_=function(r,A){return!!T6(r,A)};sg.exports=function(){var A,e,t,j={assert:function(n){if(!j.has(n))throw new d_("Side channel does not contain "+u_(n))},get:function(n){if(Qo&&n&&(typeof n=="object"||typeof n=="function")){if(A)return h_(A,n)}else if(Zo){if(e)return g_(e,n)}else if(t)return B_(t,n)},has:function(n){if(Qo&&n&&(typeof n=="object"||typeof n=="function")){if(A)return m_(A,n)}else if(Zo){if(e)return y_(e,n)}else if(t)return v_(t,n);return!1},set:function(n,s){Qo&&n&&(typeof n=="object"||typeof n=="function")?(A||(A=new Qo),p_(A,n,s)):Zo?(e||(e=new Zo),b_(e,n,s)):(t||(t={key:{},next:null}),x_(t,n,s))}};return j}});var Yo=rA((VI,og)=>{"use strict";var __=String.prototype.replace,w_=/%20/g,N6={RFC1738:"RFC1738",RFC3986:"RFC3986"};og.exports={default:N6.RFC3986,formatters:{RFC1738:function(r){return __.call(r,w_,"+")},RFC3986:function(r){return String(r)}},RFC1738:N6.RFC1738,RFC3986:N6.RFC3986}});var U6=rA((JI,cg)=>{"use strict";var E_=Yo(),D6=Object.prototype.hasOwnProperty,Qj=Array.isArray,hr=function(){for(var r=[],A=0;A<256;++A)r.push("%"+((A<16?"0":"")+A.toString(16)).toUpperCase());return r}(),k_=function(A){for(;A.length>1;){var e=A.pop(),t=e.obj[e.prop];if(Qj(t)){for(var j=[],n=0;n<t.length;++n)typeof t[n]<"u"&&j.push(t[n]);e.obj[e.prop]=j}}},ag=function(A,e){for(var t=e&&e.plainObjects?Object.create(null):{},j=0;j<A.length;++j)typeof A[j]<"u"&&(t[j]=A[j]);return t},q_=function r(A,e,t){if(!e)return A;if(typeof e!="object"){if(Qj(A))A.push(e);else if(A&&typeof A=="object")(t&&(t.plainObjects||t.allowPrototypes)||!D6.call(Object.prototype,e))&&(A[e]=!0);else return[A,e];return A}if(!A||typeof A!="object")return[A].concat(e);var j=A;return Qj(A)&&!Qj(e)&&(j=ag(A,t)),Qj(A)&&Qj(e)?(e.forEach(function(n,s){if(D6.call(A,s)){var o=A[s];o&&typeof o=="object"&&n&&typeof n=="object"?A[s]=r(o,n,t):A.push(n)}else A[s]=n}),A):Object.keys(e).reduce(function(n,s){var o=e[s];return D6.call(n,s)?n[s]=r(n[s],o,t):n[s]=o,n},j)},$_=function(A,e){return Object.keys(e).reduce(function(t,j){return t[j]=e[j],t},A)},I_=function(r,A,e){var t=r.replace(/\+/g," ");if(e==="iso-8859-1")return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch{return t}},O_=function(A,e,t,j,n){if(A.length===0)return A;var s=A;if(typeof A=="symbol"?s=Symbol.prototype.toString.call(A):typeof A!="string"&&(s=String(A)),t==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var o="",a=0;a<s.length;++a){var i=s.charCodeAt(a);if(i===45||i===46||i===95||i===126||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||n===E_.RFC1738&&(i===40||i===41)){o+=s.charAt(a);continue}if(i<128){o=o+hr[i];continue}if(i<2048){o=o+(hr[192|i>>6]+hr[128|i&63]);continue}if(i<55296||i>=57344){o=o+(hr[224|i>>12]+hr[128|i>>6&63]+hr[128|i&63]);continue}a+=1,i=65536+((i&1023)<<10|s.charCodeAt(a)&1023),o+=hr[240|i>>18]+hr[128|i>>12&63]+hr[128|i>>6&63]+hr[128|i&63]}return o},S_=function(A){for(var e=[{obj:{o:A},prop:"o"}],t=[],j=0;j<e.length;++j)for(var n=e[j],s=n.obj[n.prop],o=Object.keys(s),a=0;a<o.length;++a){var i=o[a],c=s[i];typeof c=="object"&&c!==null&&t.indexOf(c)===-1&&(e.push({obj:s,prop:i}),t.push(c))}return k_(e),A},P_=function(A){return Object.prototype.toString.call(A)==="[object RegExp]"},F_=function(A){return!A||typeof A!="object"?!1:!!(A.constructor&&A.constructor.isBuffer&&A.constructor.isBuffer(A))},G_=function(A,e){return[].concat(A,e)},M_=function(A,e){if(Qj(A)){for(var t=[],j=0;j<A.length;j+=1)t.push(e(A[j]));return t}return e(A)};cg.exports={arrayToObject:ag,assign:$_,combine:G_,compact:S_,decode:I_,encode:O_,isBuffer:F_,isRegExp:P_,maybeMap:M_,merge:q_}});var pg=rA((WI,hg)=>{"use strict";var ug=ig(),K6=U6(),ai=Yo(),R_=Object.prototype.hasOwnProperty,fg={brackets:function(A){return A+"[]"},comma:"comma",indices:function(A,e){return A+"["+e+"]"},repeat:function(A){return A}},Cr=Array.isArray,C_=String.prototype.split,T_=Array.prototype.push,dg=function(r,A){T_.apply(r,Cr(A)?A:[A])},N_=Date.prototype.toISOString,lg=ai.default,Re={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:K6.encode,encodeValuesOnly:!1,format:lg,formatter:ai.formatters[lg],indices:!1,serializeDate:function(A){return N_.call(A)},skipNulls:!1,strictNullHandling:!1},D_=function(A){return typeof A=="string"||typeof A=="number"||typeof A=="boolean"||typeof A=="symbol"||typeof A=="bigint"},L6={},U_=function r(A,e,t,j,n,s,o,a,i,c,l,u,f,h,d,m){for(var b=A,B=m,_=0,S=!1;(B=B.get(L6))!==void 0&&!S;){var q=B.get(A);if(_+=1,typeof q<"u"){if(q===_)throw new RangeError("Cyclic object value");S=!0}typeof B.get(L6)>"u"&&(_=0)}if(typeof a=="function"?b=a(e,b):b instanceof Date?b=l(b):t==="comma"&&Cr(b)&&(b=K6.maybeMap(b,function(E){return E instanceof Date?l(E):E})),b===null){if(n)return o&&!h?o(e,Re.encoder,d,"key",u):e;b=""}if(D_(b)||K6.isBuffer(b)){if(o){var y=h?e:o(e,Re.encoder,d,"key",u);if(t==="comma"&&h){for(var w=C_.call(String(b),","),k="",R=0;R<w.length;++R)k+=(R===0?"":",")+f(o(w[R],Re.encoder,d,"value",u));return[f(y)+(j&&Cr(b)&&w.length===1?"[]":"")+"="+k]}return[f(y)+"="+f(o(b,Re.encoder,d,"value",u))]}return[f(e)+"="+f(String(b))]}var H=[];if(typeof b>"u")return H;var K;if(t==="comma"&&Cr(b))K=[{value:b.length>0?b.join(",")||null:void 0}];else if(Cr(a))K=a;else{var Z=Object.keys(b);K=i?Z.sort(i):Z}for(var F=j&&Cr(b)&&b.length===1?e+"[]":e,p=0;p<K.length;++p){var x=K[p],I=typeof x=="object"&&typeof x.value<"u"?x.value:b[x];if(!(s&&I===null)){var P=Cr(b)?typeof t=="function"?t(F,x):F:F+(c?"."+x:"["+x+"]");m.set(A,_);var M=ug();M.set(L6,m),dg(H,r(I,P,t,j,n,s,o,a,i,c,l,u,f,h,d,M))}}return H},L_=function(A){if(!A)return Re;if(A.encoder!==null&&typeof A.encoder<"u"&&typeof A.encoder!="function")throw new TypeError("Encoder has to be a function.");var e=A.charset||Re.charset;if(typeof A.charset<"u"&&A.charset!=="utf-8"&&A.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=ai.default;if(typeof A.format<"u"){if(!R_.call(ai.formatters,A.format))throw new TypeError("Unknown format option provided.");t=A.format}var j=ai.formatters[t],n=Re.filter;return(typeof A.filter=="function"||Cr(A.filter))&&(n=A.filter),{addQueryPrefix:typeof A.addQueryPrefix=="boolean"?A.addQueryPrefix:Re.addQueryPrefix,allowDots:typeof A.allowDots>"u"?Re.allowDots:!!A.allowDots,charset:e,charsetSentinel:typeof A.charsetSentinel=="boolean"?A.charsetSentinel:Re.charsetSentinel,delimiter:typeof A.delimiter>"u"?Re.delimiter:A.delimiter,encode:typeof A.encode=="boolean"?A.encode:Re.encode,encoder:typeof A.encoder=="function"?A.encoder:Re.encoder,encodeValuesOnly:typeof A.encodeValuesOnly=="boolean"?A.encodeValuesOnly:Re.encodeValuesOnly,filter:n,format:t,formatter:j,serializeDate:typeof A.serializeDate=="function"?A.serializeDate:Re.serializeDate,skipNulls:typeof A.skipNulls=="boolean"?A.skipNulls:Re.skipNulls,sort:typeof A.sort=="function"?A.sort:null,strictNullHandling:typeof A.strictNullHandling=="boolean"?A.strictNullHandling:Re.strictNullHandling}};hg.exports=function(r,A){var e=r,t=L_(A),j,n;typeof t.filter=="function"?(n=t.filter,e=n("",e)):Cr(t.filter)&&(n=t.filter,j=n);var s=[];if(typeof e!="object"||e===null)return"";var o;A&&A.arrayFormat in fg?o=A.arrayFormat:A&&"indices"in A?o=A.indices?"indices":"repeat":o="indices";var a=fg[o];if(A&&"commaRoundTrip"in A&&typeof A.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var i=a==="comma"&&A&&A.commaRoundTrip;j||(j=Object.keys(e)),t.sort&&j.sort(t.sort);for(var c=ug(),l=0;l<j.length;++l){var u=j[l];t.skipNulls&&e[u]===null||dg(s,U_(e[u],u,a,i,t.strictNullHandling,t.skipNulls,t.encode?t.encoder:null,t.filter,t.sort,t.allowDots,t.serializeDate,t.format,t.formatter,t.encodeValuesOnly,t.charset,c))}var f=s.join(t.delimiter),h=t.addQueryPrefix===!0?"?":"";return t.charsetSentinel&&(t.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),f.length>0?h+f:""}});var bg=rA((XI,gg)=>{"use strict";var rs=U6(),H6=Object.prototype.hasOwnProperty,K_=Array.isArray,Pe={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:rs.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},H_=function(r){return r.replace(/&#(\d+);/g,function(A,e){return String.fromCharCode(parseInt(e,10))})},mg=function(r,A){return r&&typeof r=="string"&&A.comma&&r.indexOf(",")>-1?r.split(","):r},z_="utf8=%26%2310003%3B",V_="utf8=%E2%9C%93",J_=function(A,e){var t={},j=e.ignoreQueryPrefix?A.replace(/^\?/,""):A,n=e.parameterLimit===1/0?void 0:e.parameterLimit,s=j.split(e.delimiter,n),o=-1,a,i=e.charset;if(e.charsetSentinel)for(a=0;a<s.length;++a)s[a].indexOf("utf8=")===0&&(s[a]===V_?i="utf-8":s[a]===z_&&(i="iso-8859-1"),o=a,a=s.length);for(a=0;a<s.length;++a)if(a!==o){var c=s[a],l=c.indexOf("]="),u=l===-1?c.indexOf("="):l+1,f,h;u===-1?(f=e.decoder(c,Pe.decoder,i,"key"),h=e.strictNullHandling?null:""):(f=e.decoder(c.slice(0,u),Pe.decoder,i,"key"),h=rs.maybeMap(mg(c.slice(u+1),e),function(d){return e.decoder(d,Pe.decoder,i,"value")})),h&&e.interpretNumericEntities&&i==="iso-8859-1"&&(h=H_(h)),c.indexOf("[]=")>-1&&(h=K_(h)?[h]:h),H6.call(t,f)?t[f]=rs.combine(t[f],h):t[f]=h}return t},W_=function(r,A,e,t){for(var j=t?A:mg(A,e),n=r.length-1;n>=0;--n){var s,o=r[n];if(o==="[]"&&e.parseArrays)s=[].concat(j);else{s=e.plainObjects?Object.create(null):{};var a=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,i=parseInt(a,10);!e.parseArrays&&a===""?s={0:j}:!isNaN(i)&&o!==a&&String(i)===a&&i>=0&&e.parseArrays&&i<=e.arrayLimit?(s=[],s[i]=j):a!=="__proto__"&&(s[a]=j)}j=s}return j},X_=function(A,e,t,j){if(A){var n=t.allowDots?A.replace(/\.([^.[]+)/g,"[$1]"):A,s=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,a=t.depth>0&&s.exec(n),i=a?n.slice(0,a.index):n,c=[];if(i){if(!t.plainObjects&&H6.call(Object.prototype,i)&&!t.allowPrototypes)return;c.push(i)}for(var l=0;t.depth>0&&(a=o.exec(n))!==null&&l<t.depth;){if(l+=1,!t.plainObjects&&H6.call(Object.prototype,a[1].slice(1,-1))&&!t.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+n.slice(a.index)+"]"),W_(c,e,t,j)}},Q_=function(A){if(!A)return Pe;if(A.decoder!==null&&A.decoder!==void 0&&typeof A.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof A.charset<"u"&&A.charset!=="utf-8"&&A.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=typeof A.charset>"u"?Pe.charset:A.charset;return{allowDots:typeof A.allowDots>"u"?Pe.allowDots:!!A.allowDots,allowPrototypes:typeof A.allowPrototypes=="boolean"?A.allowPrototypes:Pe.allowPrototypes,allowSparse:typeof A.allowSparse=="boolean"?A.allowSparse:Pe.allowSparse,arrayLimit:typeof A.arrayLimit=="number"?A.arrayLimit:Pe.arrayLimit,charset:e,charsetSentinel:typeof A.charsetSentinel=="boolean"?A.charsetSentinel:Pe.charsetSentinel,comma:typeof A.comma=="boolean"?A.comma:Pe.comma,decoder:typeof A.decoder=="function"?A.decoder:Pe.decoder,delimiter:typeof A.delimiter=="string"||rs.isRegExp(A.delimiter)?A.delimiter:Pe.delimiter,depth:typeof A.depth=="number"||A.depth===!1?+A.depth:Pe.depth,ignoreQueryPrefix:A.ignoreQueryPrefix===!0,interpretNumericEntities:typeof A.interpretNumericEntities=="boolean"?A.interpretNumericEntities:Pe.interpretNumericEntities,parameterLimit:typeof A.parameterLimit=="number"?A.parameterLimit:Pe.parameterLimit,parseArrays:A.parseArrays!==!1,plainObjects:typeof A.plainObjects=="boolean"?A.plainObjects:Pe.plainObjects,strictNullHandling:typeof A.strictNullHandling=="boolean"?A.strictNullHandling:Pe.strictNullHandling}};gg.exports=function(r,A){var e=Q_(A);if(r===""||r===null||typeof r>"u")return e.plainObjects?Object.create(null):{};for(var t=typeof r=="string"?J_(r,e):r,j=e.plainObjects?Object.create(null):{},n=Object.keys(t),s=0;s<n.length;++s){var o=n[s],a=X_(o,t[o],e,typeof r=="string");j=rs.merge(j,a,e)}return e.allowSparse===!0?j:rs.compact(j)}});var Bg=rA((QI,yg)=>{"use strict";var Z_=pg(),Y_=bg(),Aw=Yo();yg.exports={formats:Aw,parse:Y_,stringify:Z_}});var vg=rA((Aa,J6)=>{(function(r,A){typeof Aa=="object"&&typeof J6=="object"?J6.exports=A():typeof define=="function"&&define.amd?define([],A):typeof Aa=="object"?Aa.joi=A():r.joi=A()})(self,()=>{return r={7629:(e,t,j)=>{"use strict";let n=j(375),s=j(8571),o=j(9474),a=j(1687),i=j(8652),c=j(8160),l=j(3292),u=j(6354),f=j(8901),h=j(9708),d=j(6914),m=j(2294),b=j(6133),B=j(1152),_=j(8863),S=j(2036),q={Base:class{constructor(y){this.type=y,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new m.Ids,this._preferences=null,this._refs=new b.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return n(typeof h.describe=="function","Manifest functionality disabled"),h.describe(this)}allow(){for(var y=arguments.length,w=new Array(y),k=0;k<y;k++)w[k]=arguments[k];return c.verifyFlat(w,"allow"),this._values(w,"_valids")}alter(y){n(y&&typeof y=="object"&&!Array.isArray(y),"Invalid targets argument"),n(!this._inRuleset(),"Cannot set alterations inside a ruleset");let w=this.clone();w.$_terms.alterations=w.$_terms.alterations||[];for(let k in y){let R=y[k];n(typeof R=="function","Alteration adjuster for",k,"must be a function"),w.$_terms.alterations.push({target:k,adjuster:R})}return w.$_temp.ruleset=!1,w}artifact(y){return n(y!==void 0,"Artifact cannot be undefined"),n(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",y)}cast(y){return n(y===!1||typeof y=="string","Invalid to value"),n(y===!1||this._definition.cast[y],"Type",this.type,"does not support casting to",y),this.$_setFlag("cast",y===!1?void 0:y)}default(y,w){return this._default("default",y,w)}description(y){return n(y&&typeof y=="string","Description must be a non-empty string"),this.$_setFlag("description",y)}empty(y){let w=this.clone();return y!==void 0&&(y=w.$_compile(y,{override:!1})),w.$_setFlag("empty",y,{clone:!1})}error(y){return n(y,"Missing error"),n(y instanceof Error||typeof y=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",y)}example(y){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n(y!==void 0,"Missing example"),c.assertOptions(w,["override"]),this._inner("examples",y,{single:!0,override:w.override})}external(y,w){return typeof y=="object"&&(n(!w,"Cannot combine options with description"),w=y.description,y=y.method),n(typeof y=="function","Method must be a function"),n(w===void 0||w&&typeof w=="string","Description must be a non-empty string"),this._inner("externals",{method:y,description:w},{single:!0})}failover(y,w){return this._default("failover",y,w)}forbidden(){return this.presence("forbidden")}id(y){return y?(n(typeof y=="string","id must be a non-empty string"),n(/^[^\.]+$/.test(y),"id cannot contain period character"),this.$_setFlag("id",y)):this.$_setFlag("id",void 0)}invalid(){for(var y=arguments.length,w=new Array(y),k=0;k<y;k++)w[k]=arguments[k];return this._values(w,"_invalids")}label(y){return n(y&&typeof y=="string","Label name must be a non-empty string"),this.$_setFlag("label",y)}meta(y){return n(y!==void 0,"Meta cannot be undefined"),this._inner("metas",y,{single:!0})}note(){for(var y=arguments.length,w=new Array(y),k=0;k<y;k++)w[k]=arguments[k];n(w.length,"Missing notes");for(let R of w)n(R&&typeof R=="string","Notes must be non-empty strings");return this._inner("notes",w)}only(){let y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return n(typeof y=="boolean","Invalid mode:",y),this.$_setFlag("only",y)}optional(){return this.presence("optional")}prefs(y){n(y,"Missing preferences"),n(y.context===void 0,"Cannot override context"),n(y.externals===void 0,"Cannot override externals"),n(y.warnings===void 0,"Cannot override warnings"),n(y.debug===void 0,"Cannot override debug"),c.checkPreferences(y);let w=this.clone();return w._preferences=c.preferences(w._preferences,y),w}presence(y){return n(["optional","required","forbidden"].includes(y),"Unknown presence mode",y),this.$_setFlag("presence",y)}raw(){let y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("result",y?"raw":void 0)}result(y){return n(["raw","strip"].includes(y),"Unknown result mode",y),this.$_setFlag("result",y)}required(){return this.presence("required")}strict(y){let w=this.clone(),k=y!==void 0&&!y;return w._preferences=c.preferences(w._preferences,{convert:k}),w}strip(){let y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("result",y?"strip":void 0)}tag(){for(var y=arguments.length,w=new Array(y),k=0;k<y;k++)w[k]=arguments[k];n(w.length,"Missing tags");for(let R of w)n(R&&typeof R=="string","Tags must be non-empty strings");return this._inner("tags",w)}unit(y){return n(y&&typeof y=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",y)}valid(){for(var y=arguments.length,w=new Array(y),k=0;k<y;k++)w[k]=arguments[k];c.verifyFlat(w,"valid");let R=this.allow(...w);return R.$_setFlag("only",!!R._valids,{clone:!1}),R}when(y,w){let k=this.clone();k.$_terms.whens||(k.$_terms.whens=[]);let R=l.when(k,y,w);if(!["any","link"].includes(k.type)){let H=R.is?[R]:R.switch;for(let K of H)n(!K.then||K.then.type==="any"||K.then.type===k.type,"Cannot combine",k.type,"with",K.then&&K.then.type),n(!K.otherwise||K.otherwise.type==="any"||K.otherwise.type===k.type,"Cannot combine",k.type,"with",K.otherwise&&K.otherwise.type)}return k.$_terms.whens.push(R),k.$_mutateRebuild()}cache(y){n(!this._inRuleset(),"Cannot set caching inside a ruleset"),n(!this._cache,"Cannot override schema cache"),n(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");let w=this.clone();return w._cache=y||i.provider.provision(),w.$_temp.ruleset=!1,w}clone(){let y=Object.create(Object.getPrototypeOf(this));return this._assign(y)}concat(y){n(c.isSchema(y),"Invalid schema object"),n(this.type==="any"||y.type==="any"||y.type===this.type,"Cannot merge type",this.type,"with another type:",y.type),n(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),n(!y._inRuleset(),"Cannot concatenate a schema with open ruleset");let w=this.clone();if(this.type==="any"&&y.type!=="any"){let k=y.clone();for(let R of Object.keys(w))R!=="type"&&(k[R]=w[R]);w=k}w._ids.concat(y._ids),w._refs.register(y,b.toSibling),w._preferences=w._preferences?c.preferences(w._preferences,y._preferences):y._preferences,w._valids=S.merge(w._valids,y._valids,y._invalids),w._invalids=S.merge(w._invalids,y._invalids,y._valids);for(let k of y._singleRules.keys())w._singleRules.has(k)&&(w._rules=w._rules.filter(R=>R.keep||R.name!==k),w._singleRules.delete(k));for(let k of y._rules)y._definition.rules[k.method].multi||w._singleRules.set(k.name,k),w._rules.push(k);if(w._flags.empty&&y._flags.empty){w._flags.empty=w._flags.empty.concat(y._flags.empty);let k=Object.assign({},y._flags);delete k.empty,a(w._flags,k)}else if(y._flags.empty){w._flags.empty=y._flags.empty;let k=Object.assign({},y._flags);delete k.empty,a(w._flags,k)}else a(w._flags,y._flags);for(let k in y.$_terms){let R=y.$_terms[k];R?w.$_terms[k]?w.$_terms[k]=w.$_terms[k].concat(R):w.$_terms[k]=R.slice():w.$_terms[k]||(w.$_terms[k]=R)}return this.$_root._tracer&&this.$_root._tracer._combine(w,[this,y]),w.$_mutateRebuild()}extend(y){return n(!y.base,"Cannot extend type with another base"),f.type(this,y)}extract(y){return y=Array.isArray(y)?y:y.split("."),this._ids.reach(y)}fork(y,w){n(!this._inRuleset(),"Cannot fork inside a ruleset");let k=this;for(let R of[].concat(y))R=Array.isArray(R)?R:R.split("."),k=k._ids.fork(R,w,k);return k.$_temp.ruleset=!1,k}rule(y){let w=this._definition;c.assertOptions(y,Object.keys(w.modifiers)),n(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");let k=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;n(k>=0&&k<this._rules.length,"Cannot apply rules to empty ruleset");let R=this.clone();for(let H=k;H<R._rules.length;++H){let K=R._rules[H],Z=s(K);for(let F in y)w.modifiers[F](Z,y[F]),n(Z.name===K.name,"Cannot change rule name");R._rules[H]=Z,R._singleRules.get(Z.name)===K&&R._singleRules.set(Z.name,Z)}return R.$_temp.ruleset=!1,R.$_mutateRebuild()}get ruleset(){n(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");let y=this.clone();return y.$_temp.ruleset=y._rules.length,y}get $(){return this.ruleset}tailor(y){y=[].concat(y),n(!this._inRuleset(),"Cannot tailor inside a ruleset");let w=this;if(this.$_terms.alterations)for(let{target:k,adjuster:R}of this.$_terms.alterations)y.includes(k)&&(w=R(w),n(c.isSchema(w),"Alteration adjuster for",k,"failed to return a schema object"));return w=w.$_modify({each:k=>k.tailor(y),ref:!1}),w.$_temp.ruleset=!1,w.$_mutateRebuild()}tracer(){return B.location?B.location(this):this}validate(y,w){return _.entry(y,this,w)}validateAsync(y,w){return _.entryAsync(y,this,w)}$_addRule(y){typeof y=="string"&&(y={name:y}),n(y&&typeof y=="object","Invalid options"),n(y.name&&typeof y.name=="string","Invalid rule name");for(let K in y)n(K[0]!=="_","Cannot set private rule properties");let w=Object.assign({},y);w._resolve=[],w.method=w.method||w.name;let k=this._definition.rules[w.method],R=w.args;n(k,"Unknown rule",w.method);let H=this.clone();if(R){n(Object.keys(R).length===1||Object.keys(R).length===this._definition.rules[w.name].args.length,"Invalid rule definition for",this.type,w.name);for(let K in R){let Z=R[K];if(k.argsByName){let F=k.argsByName.get(K);if(F.ref&&c.isResolvable(Z))w._resolve.push(K),H.$_mutateRegister(Z);else if(F.normalize&&(Z=F.normalize(Z),R[K]=Z),F.assert){let p=c.validateArg(Z,K,F);n(!p,p,"or reference")}}Z!==void 0?R[K]=Z:delete R[K]}}return k.multi||(H._ruleRemove(w.name,{clone:!1}),H._singleRules.set(w.name,w)),H.$_temp.ruleset===!1&&(H.$_temp.ruleset=null),k.priority?H._rules.unshift(w):H._rules.push(w),H}$_compile(y,w){return l.schema(this.$_root,y,w)}$_createError(y,w,k,R,H){let K=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},Z=K.flags!==!1?this._flags:{},F=K.messages?d.merge(this._definition.messages,K.messages):this._definition.messages;return new u.Report(y,w,k,Z,F,R,H)}$_getFlag(y){return this._flags[y]}$_getRule(y){return this._singleRules.get(y)}$_mapLabels(y){return y=Array.isArray(y)?y:y.split("."),this._ids.labels(y)}$_match(y,w,k,R){(k=Object.assign({},k)).abortEarly=!0,k._externals=!1,w.snapshot();let H=!_.validate(y,this,w,k,R).errors;return w.restore(),H}$_modify(y){return c.assertOptions(y,["each","once","ref","schema"]),m.schema(this,y)||this}$_mutateRebuild(){return n(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(y,w)=>{let{source:k,name:R,path:H,key:K}=w,Z=this._definition[k][R]&&this._definition[k][R].register;Z!==!1&&this.$_mutateRegister(y,{family:Z,key:K})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(y){let{family:w,key:k}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._refs.register(y,w),this._ids.register(y,{key:k})}$_property(y){return this._definition.properties[y]}$_reach(y){return this._ids.reach(y)}$_rootReferences(){return this._refs.roots()}$_setFlag(y,w){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n(y[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");let R=this._definition.flags[y]||{};if(o(w,R.default)&&(w=void 0),o(w,this._flags[y]))return this;let H=k.clone!==!1?this.clone():this;return w!==void 0?(H._flags[y]=w,H.$_mutateRegister(w)):delete H._flags[y],y[0]!=="_"&&(H.$_temp.ruleset=!1),H}$_parent(y){for(var w=arguments.length,k=new Array(w>1?w-1:0),R=1;R<w;R++)k[R-1]=arguments[R];return this[y][c.symbols.parent].call(this,...k)}$_validate(y,w,k){return _.validate(y,this,w,k)}_assign(y){y.type=this.type,y.$_root=this.$_root,y.$_temp=Object.assign({},this.$_temp),y.$_temp.whens={},y._ids=this._ids.clone(),y._preferences=this._preferences,y._valids=this._valids&&this._valids.clone(),y._invalids=this._invalids&&this._invalids.clone(),y._rules=this._rules.slice(),y._singleRules=s(this._singleRules,{shallow:!0}),y._refs=this._refs.clone(),y._flags=Object.assign({},this._flags),y._cache=null,y.$_terms={};for(let w in this.$_terms)y.$_terms[w]=this.$_terms[w]?this.$_terms[w].slice():null;y.$_super={};for(let w in this.$_super)y.$_super[w]=this._super[w].bind(y);return y}_bare(){let y=this.clone();y._reset();let w=y._definition.terms;for(let k in w){let R=w[k];y.$_terms[k]=R.init}return y.$_mutateRebuild()}_default(y,w){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c.assertOptions(k,"literal"),n(w!==void 0,"Missing",y,"value"),n(typeof w=="function"||!k.literal,"Only function value supports literal option"),typeof w=="function"&&k.literal&&(w={[c.symbols.literal]:!0,literal:w}),this.$_setFlag(y,w)}_generate(y,w,k){if(!this.$_terms.whens)return{schema:this};let R=[],H=[];for(let F=0;F<this.$_terms.whens.length;++F){let p=this.$_terms.whens[F];if(p.concat){R.push(p.concat),H.push(`${F}.concat`);continue}let x=p.ref?p.ref.resolve(y,w,k):y,I=p.is?[p]:p.switch,P=H.length;for(let M=0;M<I.length;++M){let{is:E,then:G,otherwise:O}=I[M],g=`${F}${p.switch?"."+M:""}`;if(E.$_match(x,w.nest(E,`${g}.is`),k)){if(G){let $=w.localize([...w.path,`${g}.then`],w.ancestors,w.schemas),{schema:W,id:v}=G._generate(y,$,k);R.push(W),H.push(`${g}.then${v?`(${v})`:""}`);break}}else if(O){let $=w.localize([...w.path,`${g}.otherwise`],w.ancestors,w.schemas),{schema:W,id:v}=O._generate(y,$,k);R.push(W),H.push(`${g}.otherwise${v?`(${v})`:""}`);break}}if(p.break&&H.length>P)break}let K=H.join(", ");if(w.mainstay.tracer.debug(w,"rule","when",K),!K)return{schema:this};if(!w.mainstay.tracer.active&&this.$_temp.whens[K])return{schema:this.$_temp.whens[K],id:K};let Z=this;this._definition.generate&&(Z=this._definition.generate(this,y,w,k));for(let F of R)Z=Z.concat(F);return this.$_root._tracer&&this.$_root._tracer._combine(Z,[this,...R]),this.$_temp.whens[K]=Z,{schema:Z,id:K}}_inner(y,w){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n(!this._inRuleset(),`Cannot set ${y} inside a ruleset`);let R=this.clone();return R.$_terms[y]&&!k.override||(R.$_terms[y]=[]),k.single?R.$_terms[y].push(w):R.$_terms[y].push(...w),R.$_temp.ruleset=!1,R}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(y){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._singleRules.has(y))return this;let k=w.clone!==!1?this.clone():this;k._singleRules.delete(y);let R=[];for(let H=0;H<k._rules.length;++H){let K=k._rules[H];K.name!==y||K.keep?R.push(K):k._inRuleset()&&H<k.$_temp.ruleset&&--k.$_temp.ruleset}return k._rules=R,k}_values(y,w){c.verifyFlat(y,w.slice(1,-1));let k=this.clone(),R=y[0]===c.symbols.override;if(R&&(y=y.slice(1)),!k[w]&&y.length?k[w]=new S:R&&(k[w]=y.length?new S:null,k.$_mutateRebuild()),!k[w])return k;R&&k[w].override();for(let H of y){n(H!==void 0,"Cannot call allow/valid/invalid with undefined"),n(H!==c.symbols.override,"Override must be the first value");let K=w==="_invalids"?"_valids":"_invalids";k[K]&&(k[K].remove(H),k[K].length||(n(w==="_valids"||!k._flags.only,"Setting invalid value",H,"leaves schema rejecting all values due to previous valid rule"),k[K]=null)),k[w].add(H,k._refs)}return k}}};q.Base.prototype[c.symbols.any]={version:c.version,compile:l.compile,root:"$_root"},q.Base.prototype.isImmutable=!0,q.Base.prototype.deny=q.Base.prototype.invalid,q.Base.prototype.disallow=q.Base.prototype.invalid,q.Base.prototype.equal=q.Base.prototype.valid,q.Base.prototype.exist=q.Base.prototype.required,q.Base.prototype.not=q.Base.prototype.invalid,q.Base.prototype.options=q.Base.prototype.prefs,q.Base.prototype.preferences=q.Base.prototype.prefs,e.exports=new q.Base},8652:(e,t,j)=>{"use strict";let n=j(375),s=j(8571),o=j(8160),a={max:1e3,supported:new Set(["undefined","boolean","number","string"])};t.provider={provision:i=>new a.Cache(i)},a.Cache=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o.assertOptions(i,["max"]),n(i.max===void 0||i.max&&i.max>0&&isFinite(i.max),"Invalid max cache size"),this._max=i.max||a.max,this._map=new Map,this._list=new a.List}get length(){return this._map.size}set(i,c){if(i!==null&&!a.supported.has(typeof i))return;let l=this._map.get(i);if(l)return l.value=c,void this._list.first(l);l=this._list.unshift({key:i,value:c}),this._map.set(i,l),this._compact()}get(i){let c=this._map.get(i);if(c)return this._list.first(c),s(c.value)}_compact(){if(this._map.size>this._max){let i=this._list.pop();this._map.delete(i.key)}}},a.List=class{constructor(){this.tail=null,this.head=null}unshift(i){return i.next=null,i.prev=this.head,this.head&&(this.head.next=i),this.head=i,this.tail||(this.tail=i),i}first(i){i!==this.head&&(this._remove(i),this.unshift(i))}pop(){return this._remove(this.tail)}_remove(i){let{next:c,prev:l}=i;return c.prev=l,l&&(l.next=c),i===this.tail&&(this.tail=c),i.prev=null,i.next=null,i}}},8160:(e,t,j)=>{"use strict";let n=j(375),s=j(7916),o=j(5934),a,i,c={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};t.version=o.version,t.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},t.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},t.assertOptions=function(l,u){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Options";n(l&&typeof l=="object"&&!Array.isArray(l),"Options must be of type object");let h=Object.keys(l).filter(d=>!u.includes(d));n(h.length===0,`${f} contain unknown keys: ${h}`)},t.checkPreferences=function(l){i=i||j(3378);let u=i.preferences.validate(l);if(u.error)throw new s([u.error.details[0].message])},t.compare=function(l,u,f){switch(f){case"=":return l===u;case">":return l>u;case"<":return l<u;case">=":return l>=u;case"<=":return l<=u}},t.default=function(l,u){return l===void 0?u:l},t.isIsoDate=function(l){return c.isoDate.test(l)},t.isNumber=function(l){return typeof l=="number"&&!isNaN(l)},t.isResolvable=function(l){return!!l&&(l[t.symbols.ref]||l[t.symbols.template])},t.isSchema=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=l&&l[t.symbols.any];return!!f&&(n(u.legacy||f.version===t.version,"Cannot mix different versions of joi schemas"),!0)},t.isValues=function(l){return l[t.symbols.values]},t.limit=function(l){return Number.isSafeInteger(l)&&l>=0},t.preferences=function(l,u){a=a||j(6914),l=l||{},u=u||{};let f=Object.assign({},l,u);return u.errors&&l.errors&&(f.errors=Object.assign({},l.errors,u.errors),f.errors.wrap=Object.assign({},l.errors.wrap,u.errors.wrap)),u.messages&&(f.messages=a.compile(u.messages,l.messages)),delete f[t.symbols.prefs],f},t.tryWithPath=function(l,u){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{return l()}catch(h){throw h.path!==void 0?h.path=u+"."+h.path:h.path=u,f.append&&(h.message=`${h.message} (${h.path})`),h}},t.validateArg=function(l,u,f){let{assert:h,message:d}=f;if(t.isSchema(h)){let m=h.validate(l);return m.error?m.error.message:void 0}if(!h(l))return u?`${u} ${d}`:d},t.verifyFlat=function(l,u){for(let f of l)n(!Array.isArray(f),"Method no longer accepts array arguments:",u)}},3292:(e,t,j)=>{"use strict";let n=j(375),s=j(8160),o=j(6133),a={};t.schema=function(i,c){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s.assertOptions(l,["appendPath","override"]);try{return a.schema(i,c,l)}catch(u){throw l.appendPath&&u.path!==void 0&&(u.message=`${u.message} (${u.path})`),u}},a.schema=function(i,c,l){n(c!==void 0,"Invalid undefined schema"),Array.isArray(c)&&(n(c.length,"Invalid empty array schema"),c.length===1&&(c=c[0]));let u=function(f){for(var h=arguments.length,d=new Array(h>1?h-1:0),m=1;m<h;m++)d[m-1]=arguments[m];return l.override!==!1?f.valid(i.override,...d):f.valid(...d)};if(a.simple(c))return u(i,c);if(typeof c=="function")return i.custom(c);if(n(typeof c=="object","Invalid schema content:",typeof c),s.isResolvable(c))return u(i,c);if(s.isSchema(c))return c;if(Array.isArray(c)){for(let f of c)if(!a.simple(f))return i.alternatives().try(...c);return u(i,...c)}return c instanceof RegExp?i.string().regex(c):c instanceof Date?u(i.date(),c):(n(Object.getPrototypeOf(c)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),i.object().keys(c))},t.ref=function(i,c){return o.isRef(i)?i:o.create(i,c)},t.compile=function(i,c){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s.assertOptions(l,["legacy"]);let u=c&&c[s.symbols.any];if(u)return n(l.legacy||u.version===s.version,"Cannot mix different versions of joi schemas:",u.version,s.version),c;if(typeof c!="object"||!l.legacy)return t.schema(i,c,{appendPath:!0});let f=a.walk(c);return f?f.compile(f.root,c):t.schema(i,c,{appendPath:!0})},a.walk=function(i){if(typeof i!="object")return null;if(Array.isArray(i)){for(let l of i){let u=a.walk(l);if(u)return u}return null}let c=i[s.symbols.any];if(c)return{root:i[c.root],compile:c.compile};n(Object.getPrototypeOf(i)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(let l in i){let u=a.walk(i[l]);if(u)return u}return null},a.simple=function(i){return i===null||["boolean","string","number"].includes(typeof i)},t.when=function(i,c,l){if(l===void 0&&(n(c&&typeof c=="object","Missing options"),l=c,c=o.create(".")),Array.isArray(l)&&(l={switch:l}),s.assertOptions(l,["is","not","then","otherwise","switch","break"]),s.isSchema(c))return n(l.is===void 0,'"is" can not be used with a schema condition'),n(l.not===void 0,'"not" can not be used with a schema condition'),n(l.switch===void 0,'"switch" can not be used with a schema condition'),a.condition(i,{is:c,then:l.then,otherwise:l.otherwise,break:l.break});if(n(o.isRef(c)||typeof c=="string","Invalid condition:",c),n(l.not===void 0||l.is===void 0,'Cannot combine "is" with "not"'),l.switch===void 0){let f=l;l.not!==void 0&&(f={is:l.not,then:l.otherwise,otherwise:l.then,break:l.break});let h=f.is!==void 0?i.$_compile(f.is):i.$_root.invalid(null,!1,0,"").required();return n(f.then!==void 0||f.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),n(f.break===void 0||f.then===void 0||f.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),l.is===void 0||o.isRef(l.is)||s.isSchema(l.is)||(h=h.required()),a.condition(i,{ref:t.ref(c),is:h,then:f.then,otherwise:f.otherwise,break:f.break})}n(Array.isArray(l.switch),'"switch" must be an array'),n(l.is===void 0,'Cannot combine "switch" with "is"'),n(l.not===void 0,'Cannot combine "switch" with "not"'),n(l.then===void 0,'Cannot combine "switch" with "then"');let u={ref:t.ref(c),switch:[],break:l.break};for(let f=0;f<l.switch.length;++f){let h=l.switch[f],d=f===l.switch.length-1;s.assertOptions(h,d?["is","then","otherwise"]:["is","then"]),n(h.is!==void 0,'Switch statement missing "is"'),n(h.then!==void 0,'Switch statement missing "then"');let m={is:i.$_compile(h.is),then:i.$_compile(h.then)};if(o.isRef(h.is)||s.isSchema(h.is)||(m.is=m.is.required()),d){n(l.otherwise===void 0||h.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');let b=l.otherwise!==void 0?l.otherwise:h.otherwise;b!==void 0&&(n(u.break===void 0,"Cannot specify both otherwise and break"),m.otherwise=i.$_compile(b))}u.switch.push(m)}return u},a.condition=function(i,c){for(let l of["then","otherwise"])c[l]===void 0?delete c[l]:c[l]=i.$_compile(c[l]);return c}},6354:(e,t,j)=>{"use strict";let n=j(5688),s=j(8160),o=j(3328);t.Report=class{constructor(a,i,c,l,u,f,h){if(this.code=a,this.flags=l,this.messages=u,this.path=f.path,this.prefs=h,this.state=f,this.value=i,this.message=null,this.template=null,this.local=c||{},this.local.label=t.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){let d=this.path[this.path.length-1];typeof d!="object"&&(this.local.key=d)}}_setTemplate(a){if(this.template=a,!this.flags.label&&this.path.length===0){let i=this._template(this.template,"root");i&&(this.local.label=i)}}toString(){if(this.message)return this.message;let a=this.code;if(!this.prefs.errors.render)return this.code;let i=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return i===void 0?`Error code "${a}" is not defined, your custom type is missing the correct messages definition`:(this.message=i.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(a,i){return t.template(this.value,a,i||this.code,this.state,this.prefs)}},t.path=function(a){let i="";for(let c of a)typeof c!="object"&&(typeof c=="string"?(i&&(i+="."),i+=c):i+=`[${c}]`);return i},t.template=function(a,i,c,l,u){if(!i)return;if(o.isTemplate(i))return c!=="root"?i:null;let f=u.errors.language;if(s.isResolvable(f)&&(f=f.resolve(a,l,u)),f&&i[f]){if(i[f][c]!==void 0)return i[f][c];if(i[f]["*"]!==void 0)return i[f]["*"]}return i[c]?i[c]:i["*"]},t.label=function(a,i,c,l){if(a.label)return a.label;if(!c.errors.label)return"";let u=i.path;return c.errors.label==="key"&&i.path.length>1&&(u=i.path.slice(-1)),t.path(u)||t.template(null,c.messages,"root",i,c)||l&&t.template(null,l,"root",i,c)||"value"},t.process=function(a,i,c){if(!a)return null;let{override:l,message:u,details:f}=t.details(a);if(l)return l;if(c.errors.stack)return new t.ValidationError(u,f,i);let h=Error.stackTraceLimit;Error.stackTraceLimit=0;let d=new t.ValidationError(u,f,i);return Error.stackTraceLimit=h,d},t.details=function(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=[],l=[];for(let u of a){if(u instanceof Error){if(i.override!==!1)return{override:u};let h=u.toString();c.push(h),l.push({message:h,type:"override",context:{error:u}});continue}let f=u.toString();c.push(f),l.push({message:f,path:u.path.filter(h=>typeof h!="object"),type:u.code,context:u.local})}return c.length>1&&(c=[...new Set(c)]),{message:c.join(". "),details:l}},t.ValidationError=class extends Error{constructor(a,i,c){super(a),this._original=c,this.details=i}static isError(a){return a instanceof t.ValidationError}},t.ValidationError.prototype.isJoi=!0,t.ValidationError.prototype.name="ValidationError",t.ValidationError.prototype.annotate=n.error},8901:(e,t,j)=>{"use strict";let n=j(375),s=j(8571),o=j(8160),a=j(6914),i={};t.type=function(c,l){let u=Object.getPrototypeOf(c),f=s(u),h=c._assign(Object.create(f)),d=Object.assign({},l);delete d.base,f._definition=d;let m=u._definition||{};d.messages=a.merge(m.messages,d.messages),d.properties=Object.assign({},m.properties,d.properties),h.type=d.type,d.flags=Object.assign({},m.flags,d.flags);let b=Object.assign({},m.terms);if(d.terms)for(let q in d.terms){let y=d.terms[q];n(h.$_terms[q]===void 0,"Invalid term override for",d.type,q),h.$_terms[q]=y.init,b[q]=y}d.terms=b,d.args||(d.args=m.args),d.prepare=i.prepare(d.prepare,m.prepare),d.coerce&&(typeof d.coerce=="function"&&(d.coerce={method:d.coerce}),d.coerce.from&&!Array.isArray(d.coerce.from)&&(d.coerce={method:d.coerce.method,from:[].concat(d.coerce.from)})),d.coerce=i.coerce(d.coerce,m.coerce),d.validate=i.validate(d.validate,m.validate);let B=Object.assign({},m.rules);if(d.rules)for(let q in d.rules){let y=d.rules[q];n(typeof y=="object","Invalid rule definition for",d.type,q);let w=y.method;if(w===void 0&&(w=function(){return this.$_addRule(q)}),w&&(n(!f[q],"Rule conflict in",d.type,q),f[q]=w),n(!B[q],"Rule conflict in",d.type,q),B[q]=y,y.alias){let k=[].concat(y.alias);for(let R of k)f[R]=y.method}y.args&&(y.argsByName=new Map,y.args=y.args.map(k=>(typeof k=="string"&&(k={name:k}),n(!y.argsByName.has(k.name),"Duplicated argument name",k.name),o.isSchema(k.assert)&&(k.assert=k.assert.strict().label(k.name)),y.argsByName.set(k.name,k),k)))}d.rules=B;let _=Object.assign({},m.modifiers);if(d.modifiers)for(let q in d.modifiers){n(!f[q],"Rule conflict in",d.type,q);let y=d.modifiers[q];n(typeof y=="function","Invalid modifier definition for",d.type,q);let w=function(k){return this.rule({[q]:k})};f[q]=w,_[q]=y}if(d.modifiers=_,d.overrides){f._super=u,h.$_super={};for(let q in d.overrides)n(u[q],"Cannot override missing",q),d.overrides[q][o.symbols.parent]=u[q],h.$_super[q]=u[q].bind(h);Object.assign(f,d.overrides)}d.cast=Object.assign({},m.cast,d.cast);let S=Object.assign({},m.manifest,d.manifest);return S.build=i.build(d.manifest&&d.manifest.build,m.manifest&&m.manifest.build),d.manifest=S,d.rebuild=i.rebuild(d.rebuild,m.rebuild),h},i.build=function(c,l){return c&&l?function(u,f){return l(c(u,f),f)}:c||l},i.coerce=function(c,l){return c&&l?{from:c.from&&l.from?[...new Set([...c.from,...l.from])]:null,method(u,f){let h;if((!l.from||l.from.includes(typeof u))&&(h=l.method(u,f),h)){if(h.errors||h.value===void 0)return h;u=h.value}if(!c.from||c.from.includes(typeof u)){let d=c.method(u,f);if(d)return d}return h}}:c||l},i.prepare=function(c,l){return c&&l?function(u,f){let h=c(u,f);if(h){if(h.errors||h.value===void 0)return h;u=h.value}return l(u,f)||h}:c||l},i.rebuild=function(c,l){return c&&l?function(u){l(u),c(u)}:c||l},i.validate=function(c,l){return c&&l?function(u,f){let h=l(u,f);if(h){if(h.errors&&(!Array.isArray(h.errors)||h.errors.length))return h;u=h.value}return c(u,f)||h}:c||l}},5107:(e,t,j)=>{"use strict";let n=j(375),s=j(8571),o=j(8652),a=j(8160),i=j(3292),c=j(6354),l=j(8901),u=j(9708),f=j(6133),h=j(3328),d=j(1152),m,b={types:{alternatives:j(4946),any:j(8068),array:j(546),boolean:j(4937),date:j(7500),function:j(390),link:j(8785),number:j(3832),object:j(8966),string:j(7417),symbol:j(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){let B={_types:new Set(Object.keys(b.types))};for(let _ of B._types)B[_]=function(){for(var S=arguments.length,q=new Array(S),y=0;y<S;y++)q[y]=arguments[y];return n(!q.length||["alternatives","link","object"].includes(_),"The",_,"type does not allow arguments"),b.generate(this,b.types[_],q)};for(let _ of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])B[_]=function(){return this.any()[_](...arguments)};Object.assign(B,b.methods);for(let _ in b.aliases){let S=b.aliases[_];B[_]=B[S]}return B.x=B.expression,d.setup&&d.setup(B),B}};b.methods={ValidationError:c.ValidationError,version:a.version,cache:o.provider,assert(B,_){for(var S=arguments.length,q=new Array(S>2?S-2:0),y=2;y<S;y++)q[y-2]=arguments[y];b.assert(B,_,!0,q)},attempt(B,_){for(var S=arguments.length,q=new Array(S>2?S-2:0),y=2;y<S;y++)q[y-2]=arguments[y];return b.assert(B,_,!1,q)},build(B){return n(typeof u.build=="function","Manifest functionality disabled"),u.build(this,B)},checkPreferences(B){a.checkPreferences(B)},compile(B,_){return i.compile(this,B,_)},defaults(B){n(typeof B=="function","modifier must be a function");let _=Object.assign({},this);for(let S of _._types){let q=B(_[S]());n(a.isSchema(q),"modifier must return a valid schema object"),_[S]=function(){for(var y=arguments.length,w=new Array(y),k=0;k<y;k++)w[k]=arguments[k];return b.generate(this,q,w)}}return _},expression(){for(var B=arguments.length,_=new Array(B),S=0;S<B;S++)_[S]=arguments[S];return new h(..._)},extend(){for(var B=arguments.length,_=new Array(B),S=0;S<B;S++)_[S]=arguments[S];a.verifyFlat(_,"extend"),m=m||j(3378),n(_.length,"You need to provide at least one extension"),this.assert(_,m.extensions);let q=Object.assign({},this);q._types=new Set(q._types);for(let y of _){typeof y=="function"&&(y=y(q)),this.assert(y,m.extension);let w=b.expandExtension(y,q);for(let k of w){n(q[k.type]===void 0||q._types.has(k.type),"Cannot override name",k.type);let R=k.base||this.any(),H=l.type(R,k);q._types.add(k.type),q[k.type]=function(){for(var K=arguments.length,Z=new Array(K),F=0;F<K;F++)Z[F]=arguments[F];return b.generate(this,H,Z)}}}return q},isError:c.ValidationError.isError,isExpression:h.isTemplate,isRef:f.isRef,isSchema:a.isSchema,in(){return f.in(...arguments)},override:a.symbols.override,ref(){return f.create(...arguments)},types(){let B={};for(let _ of this._types)B[_]=this[_]();for(let _ in b.aliases)B[_]=this[_]();return B}},b.assert=function(B,_,S,q){let y=q[0]instanceof Error||typeof q[0]=="string"?q[0]:null,w=y!==null?q[1]:q[0],k=_.validate(B,a.preferences({errors:{stack:!0}},w||{})),R=k.error;if(!R)return k.value;if(y instanceof Error)throw y;let H=S&&typeof R.annotate=="function"?R.annotate():R.message;throw R instanceof c.ValidationError==0&&(R=s(R)),R.message=y?`${y} ${H}`:H,R},b.generate=function(B,_,S){return n(B,"Must be invoked on a Joi instance."),_.$_root=B,_._definition.args&&S.length?_._definition.args(_,...S):_},b.expandExtension=function(B,_){if(typeof B.type=="string")return[B];let S=[];for(let q of _._types)if(B.type.test(q)){let y=Object.assign({},B);y.type=q,y.base=_[q](),S.push(y)}return S},e.exports=b.root()},6914:(e,t,j)=>{"use strict";let n=j(375),s=j(8571),o=j(3328);t.compile=function(a,i){if(typeof a=="string")return n(!i,"Cannot set single message string"),new o(a);if(o.isTemplate(a))return n(!i,"Cannot set single message template"),a;n(typeof a=="object"&&!Array.isArray(a),"Invalid message options"),i=i?s(i):{};for(let c in a){let l=a[c];if(c==="root"||o.isTemplate(l)){i[c]=l;continue}if(typeof l=="string"){i[c]=new o(l);continue}n(typeof l=="object"&&!Array.isArray(l),"Invalid message for",c);let u=c;for(c in i[u]=i[u]||{},l){let f=l[c];c==="root"||o.isTemplate(f)?i[u][c]=f:(n(typeof f=="string","Invalid message for",c,"in",u),i[u][c]=new o(f))}}return i},t.decompile=function(a){let i={};for(let c in a){let l=a[c];if(c==="root"){i.root=l;continue}if(o.isTemplate(l)){i[c]=l.describe({compact:!0});continue}let u=c;for(c in i[u]={},l){let f=l[c];c!=="root"?i[u][c]=f.describe({compact:!0}):i[u].root=f}}return i},t.merge=function(a,i){if(!a)return t.compile(i);if(!i)return a;if(typeof i=="string")return new o(i);if(o.isTemplate(i))return i;let c=s(a);for(let l in i){let u=i[l];if(l==="root"||o.isTemplate(u)){c[l]=u;continue}if(typeof u=="string"){c[l]=new o(u);continue}n(typeof u=="object"&&!Array.isArray(u),"Invalid message for",l);let f=l;for(l in c[f]=c[f]||{},u){let h=u[l];l==="root"||o.isTemplate(h)?c[f][l]=h:(n(typeof h=="string","Invalid message for",l,"in",f),c[f][l]=new o(h))}}return c}},2294:(e,t,j)=>{"use strict";let n=j(375),s=j(8160),o=j(6133),a={};t.Ids=a.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){let i=new a.Ids;return i._byId=new Map(this._byId),i._byKey=new Map(this._byKey),i._schemaChain=this._schemaChain,i}concat(i){i._schemaChain&&(this._schemaChain=!0);for(let[c,l]of i._byId.entries())n(!this._byKey.has(c),"Schema id conflicts with existing key:",c),this._byId.set(c,l);for(let[c,l]of i._byKey.entries())n(!this._byId.has(c),"Schema key conflicts with existing id:",c),this._byKey.set(c,l)}fork(i,c,l){let u=this._collect(i);u.push({schema:l});let f=u.shift(),h={id:f.id,schema:c(f.schema)};n(s.isSchema(h.schema),"adjuster function failed to return a joi schema type");for(let d of u)h={id:d.id,schema:a.fork(d.schema,h.id,h.schema)};return h.schema}labels(i){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=i[0],u=this._get(l);if(!u)return[...c,...i].join(".");let f=i.slice(1);return c=[...c,u.schema._flags.label||l],f.length?u.schema._ids.labels(f,c):c.join(".")}reach(i){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=i[0],u=this._get(l);n(u,"Schema does not contain path",[...c,...i].join("."));let f=i.slice(1);return f.length?u.schema._ids.reach(f,[...c,l]):u.schema}register(i){let{key:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!i||!s.isSchema(i))return;(i.$_property("schemaChain")||i._ids._schemaChain)&&(this._schemaChain=!0);let l=i._flags.id;if(l){let u=this._byId.get(l);n(!u||u.schema===i,"Cannot add different schemas with the same id:",l),n(!this._byKey.has(l),"Schema id conflicts with existing key:",l),this._byId.set(l,{schema:i,id:l})}c&&(n(!this._byKey.has(c),"Schema already contains key:",c),n(!this._byId.has(c),"Schema key conflicts with existing id:",c),this._byKey.set(c,{schema:i,id:c}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(i){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],u=i[0],f=this._get(u);n(f,"Schema does not contain path",[...c,...i].join(".")),l=[f,...l];let h=i.slice(1);return h.length?f.schema._ids._collect(h,[...c,u],l):l}_get(i){return this._byId.get(i)||this._byKey.get(i)}},a.fork=function(i,c,l){let u=t.schema(i,{each:(f,h)=>{let{key:d}=h;if(c===(f._flags.id||d))return l},ref:!1});return u?u.$_mutateRebuild():i},t.schema=function(i,c){let l;for(let u in i._flags){if(u[0]==="_")continue;let f=a.scan(i._flags[u],{source:"flags",name:u},c);f!==void 0&&(l=l||i.clone(),l._flags[u]=f)}for(let u=0;u<i._rules.length;++u){let f=i._rules[u],h=a.scan(f.args,{source:"rules",name:f.name},c);if(h!==void 0){l=l||i.clone();let d=Object.assign({},f);d.args=h,l._rules[u]=d,l._singleRules.get(f.name)===f&&l._singleRules.set(f.name,d)}}for(let u in i.$_terms){if(u[0]==="_")continue;let f=a.scan(i.$_terms[u],{source:"terms",name:u},c);f!==void 0&&(l=l||i.clone(),l.$_terms[u]=f)}return l},a.scan=function(i,c,l,u,f){let h=u||[];if(i===null||typeof i!="object")return;let d;if(Array.isArray(i)){for(let m=0;m<i.length;++m){let b=c.source==="terms"&&c.name==="keys"&&i[m].key,B=a.scan(i[m],c,l,[m,...h],b);B!==void 0&&(d=d||i.slice(),d[m]=B)}return d}if(l.schema!==!1&&s.isSchema(i)||l.ref!==!1&&o.isRef(i)){let m=l.each(i,{...c,path:h,key:f});return m===i?void 0:m}for(let m in i){if(m[0]==="_")continue;let b=a.scan(i[m],c,l,[m,...h],f);b!==void 0&&(d=d||Object.assign({},i),d[m]=b)}return d}},6133:(e,t,j)=>{"use strict";let n=j(375),s=j(8571),o=j(9621),a=j(8160),i,c={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};t.create=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n(typeof l=="string","Invalid reference key:",l),a.assertOptions(u,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),n(!u.prefix||typeof u.prefix=="object","options.prefix must be of type object");let f=Object.assign({},c.defaults,u);delete f.prefix;let h=f.separator,d=c.context(l,h,u.prefix);if(f.type=d.type,l=d.key,f.type==="value")if(d.root&&(n(!h||l[0]!==h,"Cannot specify relative path with root prefix"),f.ancestor="root",l||(l=null)),h&&h===l)l=null,f.ancestor=0;else if(f.ancestor!==void 0)n(!h||!l||l[0]!==h,"Cannot combine prefix with ancestor option");else{let[m,b]=c.ancestor(l,h);b&&(l=l.slice(b))===""&&(l=null),f.ancestor=m}return f.path=h?l===null?[]:l.split(h):[l],new c.Ref(f)},t.in=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.create(l,{...u,in:!0})},t.isRef=function(l){return!!l&&!!l[a.symbols.ref]},c.Ref=class{constructor(l){n(typeof l=="object","Invalid reference construction"),a.assertOptions(l,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),n([!1,void 0].includes(l.separator)||typeof l.separator=="string"&&l.separator.length===1,"Invalid separator"),n(!l.adjust||typeof l.adjust=="function","options.adjust must be a function"),n(!l.map||Array.isArray(l.map),"options.map must be an array"),n(!l.map||!l.adjust,"Cannot set both map and adjust options"),Object.assign(this,c.defaults,l),n(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(l,u,f,h){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return n(!this.in||d.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(f.context,u,d):this.type==="local"?this._resolve(h,u,d):this.ancestor?this.ancestor==="root"?this._resolve(u.ancestors[u.ancestors.length-1],u,d):(n(this.ancestor<=u.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(u.ancestors[this.ancestor-1],u,d)):this._resolve(l,u,d)}_resolve(l,u,f){let h;if(this.type==="value"&&u.mainstay.shadow&&f.shadow!==!1&&(h=u.mainstay.shadow.get(this.absolute(u))),h===void 0&&(h=o(l,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(h=this.adjust(h)),this.map){let d=this.map.get(h);d!==void 0&&(h=d)}return u.mainstay&&u.mainstay.tracer.resolve(u,this,h),h}toString(){return this.display}absolute(l){return[...l.path.slice(0,-this.ancestor),...this.path]}clone(){return new c.Ref(this)}describe(){let l={path:this.path};this.type!=="value"&&(l.type=this.type),this.separator!=="."&&(l.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(l.ancestor=this.ancestor),this.map&&(l.map=[...this.map]);for(let u of["adjust","iterables","render"])this[u]!==null&&this[u]!==void 0&&(l[u]=this[u]);return this.in!==!1&&(l.in=!0),{ref:l}}updateDisplay(){let l=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${l}`);if(!this.separator)return void(this.display=`ref:${l}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${l}`);if(this.ancestor==="root")return void(this.display=`ref:root:${l}`);if(this.ancestor===1)return void(this.display=`ref:${l||".."}`);let u=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${u}${l||""}`}},c.Ref.prototype[a.symbols.ref]=!0,t.build=function(l){return(l=Object.assign({},c.defaults,l)).type==="value"&&l.ancestor===void 0&&(l.ancestor=1),new c.Ref(l)},c.context=function(l,u){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(l=l.trim(),f){let h=f.global===void 0?"$":f.global;if(h!==u&&l.startsWith(h))return{key:l.slice(h.length),type:"global"};let d=f.local===void 0?"#":f.local;if(d!==u&&l.startsWith(d))return{key:l.slice(d.length),type:"local"};let m=f.root===void 0?"/":f.root;if(m!==u&&l.startsWith(m))return{key:l.slice(m.length),type:"value",root:!0}}return{key:l,type:"value"}},c.ancestor=function(l,u){if(!u)return[1,0];if(l[0]!==u)return[1,0];if(l[1]!==u)return[0,1];let f=2;for(;l[f]===u;)++f;return[f-1,f]},t.toSibling=0,t.toParent=1,t.Manager=class{constructor(){this.refs=[]}register(l,u){if(l)if(u=u===void 0?t.toParent:u,Array.isArray(l))for(let f of l)this.register(f,u);else if(a.isSchema(l))for(let f of l._refs.refs)f.ancestor-u>=0&&this.refs.push({ancestor:f.ancestor-u,root:f.root});else t.isRef(l)&&l.type==="value"&&l.ancestor-u>=0&&this.refs.push({ancestor:l.ancestor-u,root:l.root}),i=i||j(3328),i.isTemplate(l)&&this.register(l.refs(),u)}get length(){return this.refs.length}clone(){let l=new t.Manager;return l.refs=s(this.refs),l}reset(){this.refs=[]}roots(){return this.refs.filter(l=>!l.ancestor).map(l=>l.root)}}},3378:(e,t,j)=>{"use strict";let n=j(5107),s={};s.wrap=n.string().min(1).max(2).allow(!1),t.preferences=n.object({allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),context:n.object(),convert:n.boolean(),dateFormat:n.valid("date","iso","string","time","utc"),debug:n.boolean(),errors:{escapeHtml:n.boolean(),label:n.valid("path","key",!1),language:[n.string(),n.object().ref()],render:n.boolean(),stack:n.boolean(),wrap:{label:s.wrap,array:s.wrap,string:s.wrap}},externals:n.boolean(),messages:n.object(),noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:n.valid("required","optional","forbidden"),skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()}).strict(),s.nameRx=/^[a-zA-Z0-9]\w*$/,s.rule=n.object({alias:n.array().items(n.string().pattern(s.nameRx)).single(),args:n.array().items(n.string(),n.object({name:n.string().pattern(s.nameRx).required(),ref:n.boolean(),assert:n.alternatives([n.function(),n.object().schema()]).conditional("ref",{is:!0,then:n.required()}),normalize:n.function(),message:n.string().when("assert",{is:n.function(),then:n.required()})})),convert:n.boolean(),manifest:n.boolean(),method:n.function().allow(!1),multi:n.boolean(),validate:n.function()}),t.extension=n.object({type:n.alternatives([n.string(),n.object().regex()]).required(),args:n.function(),cast:n.object().pattern(s.nameRx,n.object({from:n.function().maxArity(1).required(),to:n.function().minArity(1).maxArity(2).required()})),base:n.object().schema().when("type",{is:n.object().regex(),then:n.forbidden()}),coerce:[n.function().maxArity(3),n.object({method:n.function().maxArity(3).required(),from:n.array().items(n.string()).single()})],flags:n.object().pattern(s.nameRx,n.object({setter:n.string(),default:n.any()})),manifest:{build:n.function().arity(2)},messages:[n.object(),n.string()],modifiers:n.object().pattern(s.nameRx,n.function().minArity(1).maxArity(2)),overrides:n.object().pattern(s.nameRx,n.function()),prepare:n.function().maxArity(3),rebuild:n.function().arity(1),rules:n.object().pattern(s.nameRx,s.rule),terms:n.object().pattern(s.nameRx,n.object({init:n.array().allow(null).required(),manifest:n.object().pattern(/.+/,[n.valid("schema","single"),n.object({mapped:n.object({from:n.string().required(),to:n.string().required()}).required()})])})),validate:n.function().maxArity(3)}).strict(),t.extensions=n.array().items(n.object(),n.function().arity(1)).strict(),s.desc={buffer:n.object({buffer:n.string()}),func:n.object({function:n.function().required(),options:{literal:!0}}),override:n.object({override:!0}),ref:n.object({ref:n.object({type:n.valid("value","global","local"),path:n.array().required(),separator:n.string().length(1).allow(!1),ancestor:n.number().min(0).integer().allow("root"),map:n.array().items(n.array().length(2)).min(1),adjust:n.function(),iterables:n.boolean(),in:n.boolean(),render:n.boolean()}).required()}),regex:n.object({regex:n.string().min(3)}),special:n.object({special:n.valid("deep").required()}),template:n.object({template:n.string().required(),options:n.object()}),value:n.object({value:n.alternatives([n.object(),n.array()]).required()})},s.desc.entity=n.alternatives([n.array().items(n.link("...")),n.boolean(),n.function(),n.number(),n.string(),s.desc.buffer,s.desc.func,s.desc.ref,s.desc.regex,s.desc.special,s.desc.template,s.desc.value,n.link("/")]),s.desc.values=n.array().items(null,n.boolean(),n.function(),n.number().allow(1/0,-1/0),n.string().allow(""),n.symbol(),s.desc.buffer,s.desc.func,s.desc.override,s.desc.ref,s.desc.regex,s.desc.template,s.desc.value),s.desc.messages=n.object().pattern(/.+/,[n.string(),s.desc.template,n.object().pattern(/.+/,[n.string(),s.desc.template])]),t.description=n.object({type:n.string().required(),flags:n.object({cast:n.string(),default:n.any(),description:n.string(),empty:n.link("/"),failover:s.desc.entity,id:n.string(),label:n.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:n.boolean(),unit:n.string()}).unknown(),preferences:{allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),convert:n.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:n.boolean(),label:["path","key"],language:[n.string(),s.desc.ref],wrap:{label:s.wrap,array:s.wrap}},externals:n.boolean(),messages:s.desc.messages,noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:["required","optional","forbidden"],skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()},allow:s.desc.values,invalid:s.desc.values,rules:n.array().min(1).items({name:n.string().required(),args:n.object().min(1),keep:n.boolean(),message:[n.string(),s.desc.messages],warn:n.boolean()}),keys:n.object().pattern(/.*/,n.link("/")),link:s.desc.ref}).pattern(/^[a-z]\w*$/,n.any())},493:(e,t,j)=>{"use strict";let n=j(8571),s=j(9621),o=j(8160),a={value:Symbol("value")};e.exports=a.State=class{constructor(i,c,l){this.path=i,this.ancestors=c,this.mainstay=l.mainstay,this.schemas=l.schemas,this.debug=null}localize(i){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=new a.State(i,c,this);return l&&u.schemas&&(u.schemas=[a.schemas(l),...u.schemas]),u}nest(i,c){let l=new a.State(this.path,this.ancestors,this);return l.schemas=l.schemas&&[a.schemas(i),...l.schemas],l.debug=c,l}shadow(i,c){this.mainstay.shadow=this.mainstay.shadow||new a.Shadow,this.mainstay.shadow.set(this.path,i,c)}snapshot(){this.mainstay.shadow&&(this._snapshot=n(this.mainstay.shadow.node(this.path)))}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0)}},a.schemas=function(i){return o.isSchema(i)?{schema:i}:i},a.Shadow=class{constructor(){this._values=null}set(i,c,l){if(!i.length||l==="strip"&&typeof i[i.length-1]=="number")return;this._values=this._values||new Map;let u=this._values;for(let f=0;f<i.length;++f){let h=i[f],d=u.get(h);d||(d=new Map,u.set(h,d)),u=d}u[a.value]=c}get(i){let c=this.node(i);if(c)return c[a.value]}node(i){if(this._values)return s(this._values,i,{iterables:!0})}override(i,c){if(!this._values)return;let l=i.slice(0,-1),u=i[i.length-1],f=s(this._values,l,{iterables:!0});c?f.set(u,c):f&&f.delete(u)}}},3328:(e,t,j)=>{"use strict";let n=j(375),s=j(8571),o=j(5277),a=j(1447),i=j(8160),c=j(6354),l=j(6133),u={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};e.exports=u.Template=class{constructor(f,h){n(typeof f=="string","Template source must be a string"),n(!f.includes("\0")&&!f.includes(""),"Template source cannot contain reserved control characters"),this.source=f,this.rendered=f,this._template=null,this._settings=s(h),this._parse()}_parse(){if(!this.source.includes("{"))return;let f=u.encode(this.source),h=u.split(f),d=!1,m=[],b=h.shift();b&&m.push(b);for(let B of h){let _=B[0]!=="{",S=_?"}":"}}",q=B.indexOf(S);if(q===-1||B[1]==="{"){m.push(`{${u.decode(B)}`);continue}let y=B.slice(_?0:1,q),w=y[0]===":";w&&(y=y.slice(1));let k=this._ref(u.decode(y),{raw:_,wrapped:w});m.push(k),typeof k!="string"&&(d=!0);let R=B.slice(q+S.length);R&&m.push(u.decode(R))}d?this._template=m:this.rendered=m.join("")}static date(f,h){return u.dateFormat[h.dateFormat].call(f)}describe(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this._settings&&f.compact)return this.source;let h={template:this.source};return this._settings&&(h.options=this._settings),h}static build(f){return new u.Template(f.template,f.options)}isDynamic(){return!!this._template}static isTemplate(f){return!!f&&!!f[i.symbols.template]}refs(){if(!this._template)return;let f=[];for(let h of this._template)typeof h!="string"&&f.push(...h.refs);return f}resolve(f,h,d,m){return this._template&&this._template.length===1?this._part(this._template[0],f,h,d,m,{}):this.render(f,h,d,m)}_part(f){for(var h=arguments.length,d=new Array(h>1?h-1:0),m=1;m<h;m++)d[m-1]=arguments[m];return f.ref?f.ref.resolve(...d):f.formula.evaluate(d)}render(f,h,d,m){let b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!this.isDynamic())return this.rendered;let B=[];for(let _ of this._template)if(typeof _=="string")B.push(_);else{let S=this._part(_,f,h,d,m,b),q=u.stringify(S,f,h,d,m,b);if(q!==void 0){let y=_.raw||(b.errors&&b.errors.escapeHtml)===!1?q:o(q);B.push(u.wrap(y,_.wrapped&&d.errors.wrap.label))}}return B.join("")}_ref(f,h){let{raw:d,wrapped:m}=h,b=[],B=S=>{let q=l.create(S,this._settings);return b.push(q),y=>q.resolve(...y)};try{var _=new a.Parser(f,{reference:B,functions:u.functions,constants:u.constants})}catch(S){throw S.message=`Invalid template variable "${f}" fails due to: ${S.message}`,S}if(_.single){if(_.single.type==="reference"){let S=b[0];return{ref:S,raw:d,refs:b,wrapped:m||S.type==="local"&&S.key==="label"}}return u.stringify(_.single.value)}return{formula:_,raw:d,refs:b}}toString(){return this.source}},u.Template.prototype[i.symbols.template]=!0,u.Template.prototype.isImmutable=!0,u.encode=function(f){return f.replace(/\\(\{+)/g,(h,d)=>u.opens.slice(0,d.length)).replace(/\\(\}+)/g,(h,d)=>u.closes.slice(0,d.length))},u.decode=function(f){return f.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},u.split=function(f){let h=[],d="";for(let m=0;m<f.length;++m){let b=f[m];if(b==="{"){let B="";for(;m+1<f.length&&f[m+1]==="{";)B+="{",++m;h.push(d),d=B}else d+=b}return h.push(d),h},u.wrap=function(f,h){return h?h.length===1?`${h}${f}${h}`:`${h[0]}${f}${h[1]}`:f},u.stringify=function(f,h,d,m,b){let B=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},_=typeof f,S=m&&m.errors&&m.errors.wrap||{},q=!1;if(l.isRef(f)&&f.render&&(q=f.in,f=f.resolve(h,d,m,b,{in:f.in,...B})),f===null)return"null";if(_==="string")return u.wrap(f,B.arrayItems&&S.string);if(_==="number"||_==="function"||_==="symbol")return f.toString();if(_!=="object")return JSON.stringify(f);if(f instanceof Date)return u.Template.date(f,m);if(f instanceof Map){let w=[];for(let[k,R]of f.entries())w.push(`${k.toString()} -> ${R.toString()}`);f=w}if(!Array.isArray(f))return f.toString();let y=[];for(let w of f)y.push(u.stringify(w,h,d,m,b,{arrayItems:!0,...B}));return u.wrap(y.join(", "),!q&&S.array)},u.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},u.functions={if:(f,h,d)=>f?h:d,length:f=>typeof f=="string"?f.length:f&&typeof f=="object"?Array.isArray(f)?f.length:Object.keys(f).length:null,msg(f){let[h,d,m,b,B]=this,_=B.messages;if(!_)return"";let S=c.template(h,_[0],f,d,m)||c.template(h,_[1],f,d,m);return S?S.render(h,d,m,b,B):""},number:f=>typeof f=="number"?f:typeof f=="string"?parseFloat(f):typeof f=="boolean"?f?1:0:f instanceof Date?f.getTime():null}},4946:(e,t,j)=>{"use strict";let n=j(375),s=j(1687),o=j(8068),a=j(8160),i=j(3292),c=j(6354),l=j(6133),u={};e.exports=o.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:l.toSibling}},args(f){for(var h=arguments.length,d=new Array(h>1?h-1:0),m=1;m<h;m++)d[m-1]=arguments[m];return d.length===1&&Array.isArray(d[0])?f.try(...d[0]):f.try(...d)},validate(f,h){let{schema:d,error:m,state:b,prefs:B}=h;if(d._flags.match){let S=[],q=[];for(let w=0;w<d.$_terms.matches.length;++w){let k=d.$_terms.matches[w],R=b.nest(k.schema,`match.${w}`);R.snapshot();let H=k.schema.$_validate(f,R,B);H.errors?(q.push(H.errors),R.restore()):S.push(H.value)}if(S.length===0)return{errors:m("alternatives.any",{details:q.map(w=>c.details(w,{override:!1}))})};if(d._flags.match==="one")return S.length===1?{value:S[0]}:{errors:m("alternatives.one")};if(S.length!==d.$_terms.matches.length)return{errors:m("alternatives.all",{details:q.map(w=>c.details(w,{override:!1}))})};let y=w=>w.$_terms.matches.some(k=>k.schema.type==="object"||k.schema.type==="alternatives"&&y(k.schema));return y(d)?{value:S.reduce((w,k)=>s(w,k,{mergeArrays:!1}))}:{value:S[S.length-1]}}let _=[];for(let S=0;S<d.$_terms.matches.length;++S){let q=d.$_terms.matches[S];if(q.schema){let k=b.nest(q.schema,`match.${S}`);k.snapshot();let R=q.schema.$_validate(f,k,B);if(!R.errors)return R;k.restore(),_.push({schema:q.schema,reports:R.errors});continue}let y=q.ref?q.ref.resolve(f,b,B):f,w=q.is?[q]:q.switch;for(let k=0;k<w.length;++k){let R=w[k],{is:H,then:K,otherwise:Z}=R,F=`match.${S}${q.switch?"."+k:""}`;if(H.$_match(y,b.nest(H,`${F}.is`),B)){if(K)return K.$_validate(f,b.nest(K,`${F}.then`),B)}else if(Z)return Z.$_validate(f,b.nest(Z,`${F}.otherwise`),B)}}return u.errors(_,h)},rules:{conditional:{method(f,h){n(!this._flags._endedSwitch,"Unreachable condition"),n(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),n(h.break===void 0,"Cannot use break option with alternatives conditional");let d=this.clone(),m=i.when(d,f,h),b=m.is?[m]:m.switch;for(let B of b)if(B.then&&B.otherwise){d.$_setFlag("_endedSwitch",!0,{clone:!1});break}return d.$_terms.matches.push(m),d.$_mutateRebuild()}},match:{method(f){if(n(["any","one","all"].includes(f),"Invalid alternatives match mode",f),f!=="any")for(let h of this.$_terms.matches)n(h.schema,"Cannot combine match mode",f,"with conditional rules");return this.$_setFlag("match",f)}},try:{method(){for(var f=arguments.length,h=new Array(f),d=0;d<f;d++)h[d]=arguments[d];n(h.length,"Missing alternative schemas"),a.verifyFlat(h,"try"),n(!this._flags._endedSwitch,"Unreachable condition");let m=this.clone();for(let b of h)m.$_terms.matches.push({schema:m.$_compile(b)});return m.$_mutateRebuild()}}},overrides:{label(f){return this.$_parent("label",f).$_modify({each:(h,d)=>d.path[0]!=="is"?h.label(f):void 0,ref:!1})}},rebuild(f){f.$_modify({each:h=>{a.isSchema(h)&&h.type==="array"&&f.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(f,h){if(h.matches)for(let d of h.matches){let{schema:m,ref:b,is:B,not:_,then:S,otherwise:q}=d;f=m?f.try(m):b?f.conditional(b,{is:B,then:S,not:_,otherwise:q,switch:d.switch}):f.conditional(B,{then:S,otherwise:q})}return f}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),u.errors=function(f,h){let{error:d,state:m}=h;if(!f.length)return{errors:d("alternatives.any")};if(f.length===1)return{errors:f[0].reports};let b=new Set,B=[];for(let{reports:_,schema:S}of f){if(_.length>1)return u.unmatched(f,d);let q=_[0];if(q instanceof c.Report==0)return u.unmatched(f,d);if(q.state.path.length!==m.path.length){B.push({type:S.type,report:q});continue}if(q.code==="any.only"){for(let k of q.local.valids)b.add(k);continue}let[y,w]=q.code.split(".");w==="base"?b.add(y):B.push({type:S.type,report:q})}return B.length?B.length===1?{errors:B[0].report}:u.unmatched(f,d):{errors:d("alternatives.types",{types:[...b]})}},u.unmatched=function(f,h){let d=[];for(let m of f)d.push(...m.reports);return{errors:h("alternatives.match",c.details(d,{override:!1}))}}},8068:(e,t,j)=>{"use strict";let n=j(375),s=j(7629),o=j(8160),a=j(6914);e.exports=s.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(i,c){return n(typeof i=="function","Method must be a function"),n(c===void 0||c&&typeof c=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:i,description:c}})},validate(i,c,l){let{method:u}=l;try{return u(i,c)}catch(f){return c.error("any.custom",{error:f})}},args:["method","description"],multi:!0},messages:{method(i){return this.prefs({messages:i})}},shared:{method(i){n(o.isSchema(i)&&i._flags.id,"Schema must be a schema with an id");let c=this.clone();return c.$_terms.shared=c.$_terms.shared||[],c.$_terms.shared.push(i),c.$_mutateRegister(i),c}},warning:{method(i,c){return n(i&&typeof i=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:i,local:c},warn:!0})},validate(i,c,l){let{code:u,local:f}=l;return c.error(u,f)},args:["code","local"],multi:!0}},modifiers:{keep(i){let c=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];i.keep=c},message(i,c){i.message=a.compile(c)},warn(i){let c=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];i.warn=c}},manifest:{build(i,c){for(let l in c){let u=c[l];if(["examples","externals","metas","notes","tags"].includes(l))for(let f of u)i=i[l.slice(0,-1)](f);else if(l!=="alterations")if(l!=="whens"){if(l==="shared")for(let f of u)i=i.shared(f)}else for(let f of u){let{ref:h,is:d,not:m,then:b,otherwise:B,concat:_}=f;i=_?i.concat(_):h?i.when(h,{is:d,not:m,then:b,otherwise:B,switch:f.switch,break:f.break}):i.when(d,{then:b,otherwise:B,break:f.break})}else{let f={};for(let{target:h,adjuster:d}of u)f[h]=d;i=i.alter(f)}}return i}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(e,t,j)=>{"use strict";let n=j(375),s=j(9474),o=j(9621),a=j(8068),i=j(8160),c=j(3292),l={};e.exports=a.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(u,f){let{schema:h,state:d,prefs:m}=f;if(!Array.isArray(u))return;let b=h.$_getRule("sort");return b?l.sort(h,u,b.args.options,d,m):void 0}},validate(u,f){let{schema:h,error:d}=f;if(!Array.isArray(u)){if(h._flags.single){let m=[u];return m[i.symbols.arraySingle]=!0,{value:m}}return{errors:d("array.base")}}if(h.$_getRule("items")||h.$_terms.externals)return{value:u.slice()}},rules:{has:{method(u){u=this.$_compile(u,{appendPath:!0});let f=this.$_addRule({name:"has",args:{schema:u}});return f.$_mutateRegister(u),f},validate(u,f,h){let{state:d,prefs:m,error:b}=f,{schema:B}=h,_=[u,...d.ancestors];for(let q=0;q<u.length;++q){let y=d.localize([...d.path,q],_,B);if(B.$_match(u[q],y,m))return u}let S=B._flags.label;return S?b("array.hasKnown",{patternLabel:S}):b("array.hasUnknown",null)},multi:!0},items:{method(){for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];i.verifyFlat(f,"items");let d=this.$_addRule("items");for(let m=0;m<f.length;++m){let b=i.tryWithPath(()=>this.$_compile(f[m]),m,{append:!0});d.$_terms.items.push(b)}return d.$_mutateRebuild()},validate(u,f){let{schema:h,error:d,state:m,prefs:b,errorsArray:B}=f,_=h.$_terms._requireds.slice(),S=h.$_terms.ordered.slice(),q=[...h.$_terms._inclusions,..._],y=!u[i.symbols.arraySingle];delete u[i.symbols.arraySingle];let w=B(),k=u.length;for(let R=0;R<k;++R){let H=u[R],K=!1,Z=!1,F=y?R:new Number(R),p=[...m.path,F];if(!h._flags.sparse&&H===void 0){if(w.push(d("array.sparse",{key:F,path:p,pos:R,value:void 0},m.localize(p))),b.abortEarly)return w;S.shift();continue}let x=[u,...m.ancestors];for(let E of h.$_terms._exclusions)if(E.$_match(H,m.localize(p,x,E),b,{presence:"ignore"})){if(w.push(d("array.excludes",{pos:R,value:H},m.localize(p))),b.abortEarly)return w;K=!0,S.shift();break}if(K)continue;if(h.$_terms.ordered.length){if(S.length){let E=S.shift(),G=E.$_validate(H,m.localize(p,x,E),b);if(G.errors){if(w.push(...G.errors),b.abortEarly)return w}else if(E._flags.result==="strip")l.fastSplice(u,R),--R,--k;else{if(!h._flags.sparse&&G.value===void 0){if(w.push(d("array.sparse",{key:F,path:p,pos:R,value:void 0},m.localize(p))),b.abortEarly)return w;continue}u[R]=G.value}continue}if(!h.$_terms.items.length){if(w.push(d("array.orderedLength",{pos:R,limit:h.$_terms.ordered.length})),b.abortEarly)return w;break}}let I=[],P=_.length;for(let E=0;E<P;++E){let G=m.localize(p,x,_[E]);G.snapshot();let O=_[E].$_validate(H,G,b);if(I[E]=O,!O.errors){if(u[R]=O.value,Z=!0,l.fastSplice(_,E),--E,--P,!h._flags.sparse&&O.value===void 0&&(w.push(d("array.sparse",{key:F,path:p,pos:R,value:void 0},m.localize(p))),b.abortEarly))return w;break}G.restore()}if(Z)continue;let M=b.stripUnknown&&!!b.stripUnknown.arrays||!1;P=q.length;for(let E of q){let G,O=_.indexOf(E);if(O!==-1)G=I[O];else{let g=m.localize(p,x,E);if(g.snapshot(),G=E.$_validate(H,g,b),!G.errors){E._flags.result==="strip"?(l.fastSplice(u,R),--R,--k):h._flags.sparse||G.value!==void 0?u[R]=G.value:(w.push(d("array.sparse",{key:F,path:p,pos:R,value:void 0},m.localize(p))),K=!0),Z=!0;break}g.restore()}if(P===1){if(M){l.fastSplice(u,R),--R,--k,Z=!0;break}if(w.push(...G.errors),b.abortEarly)return w;K=!0;break}}if(!K&&(h.$_terms._inclusions.length||h.$_terms._requireds.length)&&!Z){if(M){l.fastSplice(u,R),--R,--k;continue}if(w.push(d("array.includes",{pos:R,value:H},m.localize(p))),b.abortEarly)return w}}return _.length&&l.fillMissedErrors(h,w,_,u,m,b),S.length&&(l.fillOrderedErrors(h,w,S,u,m,b),w.length||l.fillDefault(S,u,m,b)),w.length?w:u},priority:!0,manifest:!1},length:{method(u){return this.$_addRule({name:"length",args:{limit:u},operator:"="})},validate(u,f,h,d){let{limit:m}=h,{name:b,operator:B,args:_}=d;return i.compare(u.length,m,B)?u:f.error("array."+b,{limit:_.limit,value:u})},args:[{name:"limit",ref:!0,assert:i.limit,message:"must be a positive integer"}]},max:{method(u){return this.$_addRule({name:"max",method:"length",args:{limit:u},operator:"<="})}},min:{method(u){return this.$_addRule({name:"min",method:"length",args:{limit:u},operator:">="})}},ordered:{method(){for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];i.verifyFlat(f,"ordered");let d=this.$_addRule("items");for(let m=0;m<f.length;++m){let b=i.tryWithPath(()=>this.$_compile(f[m]),m,{append:!0});l.validateSingle(b,d),d.$_mutateRegister(b),d.$_terms.ordered.push(b)}return d.$_mutateRebuild()}},single:{method(u){let f=u===void 0||!!u;return n(!f||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",f)}},sort:{method(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i.assertOptions(u,["by","order"]);let f={order:u.order||"ascending"};return u.by&&(f.by=c.ref(u.by,{ancestor:0}),n(!f.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:f}})},validate(u,f,h){let{error:d,state:m,prefs:b,schema:B}=f,{options:_}=h,{value:S,errors:q}=l.sort(B,u,_,m,b);if(q)return q;for(let y=0;y<u.length;++y)if(u[y]!==S[y])return d("array.sort",{order:_.order,by:_.by?_.by.key:"value"});return u},convert:!0},sparse:{method(u){let f=u===void 0||!!u;return this._flags.sparse===f?this:(f?this.clone():this.$_addRule("items")).$_setFlag("sparse",f,{clone:!1})}},unique:{method(u){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n(!u||typeof u=="function"||typeof u=="string","comparator must be a function or a string"),i.assertOptions(f,["ignoreUndefined","separator"]);let h={name:"unique",args:{options:f,comparator:u}};if(u)if(typeof u=="string"){let d=i.default(f.separator,".");h.path=d?u.split(d):[u]}else h.comparator=u;return this.$_addRule(h)},validate(u,f,h,d){let{state:m,error:b,schema:B}=f,{comparator:_,options:S}=h,{comparator:q,path:y}=d,w={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},k=q||s,R=S.ignoreUndefined;for(let H=0;H<u.length;++H){let K=y?o(u[H],y):u[H],Z=q?w.custom:w[typeof K];if(n(Z,"Failed to find unique map container for type",typeof K),Z instanceof Map){let F=Z.entries(),p;for(;!(p=F.next()).done;)if(k(p.value[0],K)){let x=m.localize([...m.path,H],[u,...m.ancestors]),I={pos:H,value:u[H],dupePos:p.value[1],dupeValue:u[p.value[1]]};return y&&(I.path=_),b("array.unique",I,x)}Z.set(K,H)}else{if((!R||K!==void 0)&&Z[K]!==void 0){let F={pos:H,value:u[H],dupePos:Z[K],dupeValue:u[Z[K]]};return y&&(F.path=_),b("array.unique",F,m.localize([...m.path,H],[u,...m.ancestors]))}Z[K]=H}}return u},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(u,f)=>new Set(u)}},rebuild(u){u.$_terms._inclusions=[],u.$_terms._exclusions=[],u.$_terms._requireds=[];for(let f of u.$_terms.items)l.validateSingle(f,u),f._flags.presence==="required"?u.$_terms._requireds.push(f):f._flags.presence==="forbidden"?u.$_terms._exclusions.push(f):u.$_terms._inclusions.push(f);for(let f of u.$_terms.ordered)l.validateSingle(f,u)},manifest:{build:(u,f)=>(f.items&&(u=u.items(...f.items)),f.ordered&&(u=u.ordered(...f.ordered)),u)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),l.fillMissedErrors=function(u,f,h,d,m,b){let B=[],_=0;for(let S of h){let q=S._flags.label;q?B.push(q):++_}B.length?_?f.push(u.$_createError("array.includesRequiredBoth",d,{knownMisses:B,unknownMisses:_},m,b)):f.push(u.$_createError("array.includesRequiredKnowns",d,{knownMisses:B},m,b)):f.push(u.$_createError("array.includesRequiredUnknowns",d,{unknownMisses:_},m,b))},l.fillOrderedErrors=function(u,f,h,d,m,b){let B=[];for(let _ of h)_._flags.presence==="required"&&B.push(_);B.length&&l.fillMissedErrors(u,f,B,d,m,b)},l.fillDefault=function(u,f,h,d){let m=[],b=!0;for(let B=u.length-1;B>=0;--B){let _=u[B],S=[f,...h.ancestors],q=_.$_validate(void 0,h.localize(h.path,S,_),d).value;if(b){if(q===void 0)continue;b=!1}m.unshift(q)}m.length&&f.push(...m)},l.fastSplice=function(u,f){let h=f;for(;h<u.length;)u[h++]=u[h];--u.length},l.validateSingle=function(u,f){(u.type==="array"||u._flags._arrayItems)&&(n(!f._flags.single,"Cannot specify array item with single rule enabled"),f.$_setFlag("_arrayItems",!0,{clone:!1}))},l.sort=function(u,f,h,d,m){let b=h.order==="ascending"?1:-1,B=-1*b,_=b,S=(q,y)=>{let w=l.compare(q,y,B,_);if(w!==null||(h.by&&(q=h.by.resolve(q,d,m),y=h.by.resolve(y,d,m)),w=l.compare(q,y,B,_),w!==null))return w;let k=typeof q;if(k!==typeof y)throw u.$_createError("array.sort.mismatching",f,null,d,m);if(k!=="number"&&k!=="string")throw u.$_createError("array.sort.unsupported",f,{type:k},d,m);return k==="number"?(q-y)*b:q<y?B:_};try{return{value:f.slice().sort(S)}}catch(q){return{errors:q}}},l.compare=function(u,f,h,d){return u===f?0:u===void 0?1:f===void 0?-1:u===null?d:f===null?h:null}},4937:(e,t,j)=>{"use strict";let n=j(375),s=j(8068),o=j(8160),a=j(2036),i={isBool:function(c){return typeof c=="boolean"}};e.exports=s.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(c,l){let{schema:u}=l;if(typeof c!="boolean"){if(typeof c=="string"){let f=u._flags.sensitive?c:c.toLowerCase();c=f==="true"||f!=="false"&&c}return typeof c!="boolean"&&(c=u.$_terms.truthy&&u.$_terms.truthy.has(c,null,null,!u._flags.sensitive)||(!u.$_terms.falsy||!u.$_terms.falsy.has(c,null,null,!u._flags.sensitive))&&c),{value:c}}},validate(c,l){let{error:u}=l;if(typeof c!="boolean")return{value:c,errors:u("boolean.base")}},rules:{truthy:{method(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];o.verifyFlat(l,"truthy");let f=this.clone();f.$_terms.truthy=f.$_terms.truthy||new a;for(let h=0;h<l.length;++h){let d=l[h];n(d!==void 0,"Cannot call truthy with undefined"),f.$_terms.truthy.add(d)}return f}},falsy:{method(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];o.verifyFlat(l,"falsy");let f=this.clone();f.$_terms.falsy=f.$_terms.falsy||new a;for(let h=0;h<l.length;++h){let d=l[h];n(d!==void 0,"Cannot call falsy with undefined"),f.$_terms.falsy.add(d)}return f}},sensitive:{method(){let c=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("sensitive",c)}}},cast:{number:{from:i.isBool,to:(c,l)=>c?1:0},string:{from:i.isBool,to:(c,l)=>c?"true":"false"}},manifest:{build:(c,l)=>(l.truthy&&(c=c.truthy(...l.truthy)),l.falsy&&(c=c.falsy(...l.falsy)),c)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(e,t,j)=>{"use strict";let n=j(375),s=j(8068),o=j(8160),a=j(3328),i={isDate:function(c){return c instanceof Date}};e.exports=s.extend({type:"date",coerce:{from:["number","string"],method(c,l){let{schema:u}=l;return{value:i.parse(c,u._flags.format)||c}}},validate(c,l){let{schema:u,error:f,prefs:h}=l;if(c instanceof Date&&!isNaN(c.getTime()))return;let d=u._flags.format;return h.convert&&d&&typeof c=="string"?{value:c,errors:f("date.format",{format:d})}:{value:c,errors:f("date.base")}},rules:{compare:{method:!1,validate(c,l,u,f){let{date:h}=u,{name:d,operator:m,args:b}=f,B=h==="now"?Date.now():h.getTime();return o.compare(c.getTime(),B,m)?c:l.error("date."+d,{limit:b.date,value:c})},args:[{name:"date",ref:!0,normalize:c=>c==="now"?c:i.parse(c),assert:c=>c!==null,message:"must have a valid date format"}]},format:{method(c){return n(["iso","javascript","unix"].includes(c),"Unknown date format",c),this.$_setFlag("format",c)}},greater:{method(c){return this.$_addRule({name:"greater",method:"compare",args:{date:c},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(c){return this.$_addRule({name:"less",method:"compare",args:{date:c},operator:"<"})}},max:{method(c){return this.$_addRule({name:"max",method:"compare",args:{date:c},operator:"<="})}},min:{method(c){return this.$_addRule({name:"min",method:"compare",args:{date:c},operator:">="})}},timestamp:{method(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"javascript";return n(["javascript","unix"].includes(c),'"type" must be one of "javascript, unix"'),this.format(c)}}},cast:{number:{from:i.isDate,to:(c,l)=>c.getTime()},string:{from:i.isDate,to(c,l){let{prefs:u}=l;return a.date(c,u)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),i.parse=function(c,l){if(c instanceof Date)return c;if(typeof c!="string"&&(isNaN(c)||!isFinite(c))||/^\s*$/.test(c))return null;if(l==="iso")return o.isIsoDate(c)?i.date(c.toString()):null;let u=c;if(typeof c=="string"&&/^[+-]?\d+(\.\d+)?$/.test(c)&&(c=parseFloat(c)),l){if(l==="javascript")return i.date(1*c);if(l==="unix")return i.date(1e3*c);if(typeof u=="string")return null}return i.date(c)},i.date=function(c){let l=new Date(c);return isNaN(l.getTime())?null:l}},390:(e,t,j)=>{"use strict";let n=j(375),s=j(7824);e.exports=s.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(o){return n(Number.isSafeInteger(o)&&o>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:o}})},validate(o,a,i){let{n:c}=i;return o.length===c?o:a.error("function.arity",{n:c})}},class:{method(){return this.$_addRule("class")},validate:(o,a)=>/^\s*class\s/.test(o.toString())?o:a.error("function.class",{value:o})},minArity:{method(o){return n(Number.isSafeInteger(o)&&o>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:o}})},validate(o,a,i){let{n:c}=i;return o.length>=c?o:a.error("function.minArity",{n:c})}},maxArity:{method(o){return n(Number.isSafeInteger(o)&&o>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:o}})},validate(o,a,i){let{n:c}=i;return o.length<=c?o:a.error("function.maxArity",{n:c})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(e,t,j)=>{"use strict";let n=j(978),s=j(375),o=j(8571),a=j(3652),i=j(8068),c=j(8160),l=j(3292),u=j(6354),f=j(6133),h=j(3328),d={renameDefaults:{alias:!1,multiple:!1,override:!1}};e.exports=i.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(m,b)=>m.keys(b),validate(m,b){let{schema:B,error:_,state:S,prefs:q}=b;if(!m||typeof m!==B.$_property("typeof")||Array.isArray(m))return{value:m,errors:_("object.base",{type:B.$_property("typeof")})};if(!(B.$_terms.renames||B.$_terms.dependencies||B.$_terms.keys||B.$_terms.patterns||B.$_terms.externals))return;m=d.clone(m,q);let y=[];if(B.$_terms.renames&&!d.rename(B,m,S,q,y))return{value:m,errors:y};if(!B.$_terms.keys&&!B.$_terms.patterns&&!B.$_terms.dependencies)return{value:m,errors:y};let w=new Set(Object.keys(m));if(B.$_terms.keys){let k=[m,...S.ancestors];for(let R of B.$_terms.keys){let H=R.key,K=m[H];w.delete(H);let Z=S.localize([...S.path,H],k,R),F=R.schema.$_validate(K,Z,q);if(F.errors){if(q.abortEarly)return{value:m,errors:F.errors};F.value!==void 0&&(m[H]=F.value),y.push(...F.errors)}else R.schema._flags.result==="strip"||F.value===void 0&&K!==void 0?delete m[H]:F.value!==void 0&&(m[H]=F.value)}}if(w.size||B._flags._hasPatternMatch){let k=d.unknown(B,m,w,y,S,q);if(k)return k}if(B.$_terms.dependencies)for(let k of B.$_terms.dependencies){if(k.key!==null&&d.isPresent(k.options)(k.key.resolve(m,S,q,null,{shadow:!1}))===!1)continue;let R=d.dependencies[k.rel](B,k,m,S,q);if(R){let H=B.$_createError(R.code,m,R.context,S,q);if(q.abortEarly)return{value:m,errors:H};y.push(H)}}return{value:m,errors:y}},rules:{and:{method(){for(var m=arguments.length,b=new Array(m),B=0;B<m;B++)b[B]=arguments[B];return c.verifyFlat(b,"and"),d.dependency(this,"and",null,b)}},append:{method(m){return m==null||Object.keys(m).length===0?this:this.keys(m)}},assert:{method(m,b,B){h.isTemplate(m)||(m=l.ref(m)),s(B===void 0||typeof B=="string","Message must be a string"),b=this.$_compile(b,{appendPath:!0});let _=this.$_addRule({name:"assert",args:{subject:m,schema:b,message:B}});return _.$_mutateRegister(m),_.$_mutateRegister(b),_},validate(m,b,B){let{error:_,prefs:S,state:q}=b,{subject:y,schema:w,message:k}=B,R=y.resolve(m,q,S),H=f.isRef(y)?y.absolute(q):[];return w.$_match(R,q.localize(H,[m,...q.ancestors],w),S)?m:_("object.assert",{subject:y,message:k})},args:["subject","schema","message"],multi:!0},instance:{method(m,b){return s(typeof m=="function","constructor must be a function"),b=b||m.name,this.$_addRule({name:"instance",args:{constructor:m,name:b}})},validate(m,b,B){let{constructor:_,name:S}=B;return m instanceof _?m:b.error("object.instance",{type:S,value:m})},args:["constructor","name"]},keys:{method(m){s(m===void 0||typeof m=="object","Object schema must be a valid object"),s(!c.isSchema(m),"Object schema cannot be a joi schema");let b=this.clone();if(m)if(Object.keys(m).length){b.$_terms.keys=b.$_terms.keys?b.$_terms.keys.filter(B=>!m.hasOwnProperty(B.key)):new d.Keys;for(let B in m)c.tryWithPath(()=>b.$_terms.keys.push({key:B,schema:this.$_compile(m[B])}),B)}else b.$_terms.keys=new d.Keys;else b.$_terms.keys=null;return b.$_mutateRebuild()}},length:{method(m){return this.$_addRule({name:"length",args:{limit:m},operator:"="})},validate(m,b,B,_){let{limit:S}=B,{name:q,operator:y,args:w}=_;return c.compare(Object.keys(m).length,S,y)?m:b.error("object."+q,{limit:w.limit,value:m})},args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method(m){return this.$_addRule({name:"max",method:"length",args:{limit:m},operator:"<="})}},min:{method(m){return this.$_addRule({name:"min",method:"length",args:{limit:m},operator:">="})}},nand:{method(){for(var m=arguments.length,b=new Array(m),B=0;B<m;B++)b[B]=arguments[B];return c.verifyFlat(b,"nand"),d.dependency(this,"nand",null,b)}},or:{method(){for(var m=arguments.length,b=new Array(m),B=0;B<m;B++)b[B]=arguments[B];return c.verifyFlat(b,"or"),d.dependency(this,"or",null,b)}},oxor:{method(){for(var m=arguments.length,b=new Array(m),B=0;B<m;B++)b[B]=arguments[B];return d.dependency(this,"oxor",null,b)}},pattern:{method(m,b){let B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=m instanceof RegExp;_||(m=this.$_compile(m,{appendPath:!0})),s(b!==void 0,"Invalid rule"),c.assertOptions(B,["fallthrough","matches"]),_&&s(!m.flags.includes("g")&&!m.flags.includes("y"),"pattern should not use global or sticky mode"),b=this.$_compile(b,{appendPath:!0});let S=this.clone();S.$_terms.patterns=S.$_terms.patterns||[];let q={[_?"regex":"schema"]:m,rule:b};return B.matches&&(q.matches=this.$_compile(B.matches),q.matches.type!=="array"&&(q.matches=q.matches.$_root.array().items(q.matches)),S.$_mutateRegister(q.matches),S.$_setFlag("_hasPatternMatch",!0,{clone:!1})),B.fallthrough&&(q.fallthrough=!0),S.$_terms.patterns.push(q),S.$_mutateRegister(b),S}},ref:{method(){return this.$_addRule("ref")},validate:(m,b)=>f.isRef(m)?m:b.error("object.refType",{value:m})},regex:{method(){return this.$_addRule("regex")},validate:(m,b)=>m instanceof RegExp?m:b.error("object.regex",{value:m})},rename:{method(m,b){let B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s(typeof m=="string"||m instanceof RegExp,"Rename missing the from argument"),s(typeof b=="string"||b instanceof h,"Invalid rename to argument"),s(b!==m,"Cannot rename key to same name:",m),c.assertOptions(B,["alias","ignoreUndefined","override","multiple"]);let _=this.clone();_.$_terms.renames=_.$_terms.renames||[];for(let S of _.$_terms.renames)s(S.from!==m,"Cannot rename the same key multiple times");return b instanceof h&&_.$_mutateRegister(b),_.$_terms.renames.push({from:m,to:b,options:n(d.renameDefaults,B)}),_}},schema:{method(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"any";return this.$_addRule({name:"schema",args:{type:m}})},validate(m,b,B){let{type:_}=B;return!c.isSchema(m)||_!=="any"&&m.type!==_?b.error("object.schema",{type:_}):m}},unknown:{method(m){return this.$_setFlag("unknown",m!==!1)}},with:{method(m,b){let B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return d.dependency(this,"with",m,b,B)}},without:{method(m,b){let B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return d.dependency(this,"without",m,b,B)}},xor:{method(){for(var m=arguments.length,b=new Array(m),B=0;B<m;B++)b[B]=arguments[B];return c.verifyFlat(b,"xor"),d.dependency(this,"xor",null,b)}}},overrides:{default(m,b){return m===void 0&&(m=c.symbols.deepDefault),this.$_parent("default",m,b)}},rebuild(m){if(m.$_terms.keys){let b=new a.Sorter;for(let B of m.$_terms.keys)c.tryWithPath(()=>b.add(B,{after:B.schema.$_rootReferences(),group:B.key}),B.key);m.$_terms.keys=new d.Keys(...b.nodes)}},manifest:{build(m,b){if(b.keys&&(m=m.keys(b.keys)),b.dependencies)for(let{rel:B,key:_=null,peers:S,options:q}of b.dependencies)m=d.dependency(m,B,_,S,q);if(b.patterns)for(let{regex:B,schema:_,rule:S,fallthrough:q,matches:y}of b.patterns)m=m.pattern(B||_,S,{fallthrough:q,matches:y});if(b.renames)for(let{from:B,to:_,options:S}of b.renames)m=m.rename(B,_,S);return m}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),d.clone=function(m,b){if(typeof m=="object"){if(b.nonEnumerables)return o(m,{shallow:!0});let _=Object.create(Object.getPrototypeOf(m));return Object.assign(_,m),_}let B=function(){for(var _=arguments.length,S=new Array(_),q=0;q<_;q++)S[q]=arguments[q];return m.apply(this,S)};return B.prototype=o(m.prototype),Object.defineProperty(B,"name",{value:m.name,writable:!1}),Object.defineProperty(B,"length",{value:m.length,writable:!1}),Object.assign(B,m),B},d.dependency=function(m,b,B,_,S){s(B===null||typeof B=="string",b,"key must be a strings"),S||(S=_.length>1&&typeof _[_.length-1]=="object"?_.pop():{}),c.assertOptions(S,["separator","isPresent"]),_=[].concat(_);let q=c.default(S.separator,"."),y=[];for(let k of _)s(typeof k=="string",b,"peers must be strings"),y.push(l.ref(k,{separator:q,ancestor:0,prefix:!1}));B!==null&&(B=l.ref(B,{separator:q,ancestor:0,prefix:!1}));let w=m.clone();return w.$_terms.dependencies=w.$_terms.dependencies||[],w.$_terms.dependencies.push(new d.Dependency(b,B,y,_,S)),w},d.dependencies={and(m,b,B,_,S){let q=[],y=[],w=b.peers.length,k=d.isPresent(b.options);for(let R of b.peers)k(R.resolve(B,_,S,null,{shadow:!1}))===!1?q.push(R.key):y.push(R.key);if(q.length!==w&&y.length!==w)return{code:"object.and",context:{present:y,presentWithLabels:d.keysToLabels(m,y),missing:q,missingWithLabels:d.keysToLabels(m,q)}}},nand(m,b,B,_,S){let q=[],y=d.isPresent(b.options);for(let R of b.peers)y(R.resolve(B,_,S,null,{shadow:!1}))&&q.push(R.key);if(q.length!==b.peers.length)return;let w=b.paths[0],k=b.paths.slice(1);return{code:"object.nand",context:{main:w,mainWithLabel:d.keysToLabels(m,w),peers:k,peersWithLabels:d.keysToLabels(m,k)}}},or(m,b,B,_,S){let q=d.isPresent(b.options);for(let y of b.peers)if(q(y.resolve(B,_,S,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:b.paths,peersWithLabels:d.keysToLabels(m,b.paths)}}},oxor(m,b,B,_,S){let q=[],y=d.isPresent(b.options);for(let k of b.peers)y(k.resolve(B,_,S,null,{shadow:!1}))&&q.push(k.key);if(!q.length||q.length===1)return;let w={peers:b.paths,peersWithLabels:d.keysToLabels(m,b.paths)};return w.present=q,w.presentWithLabels=d.keysToLabels(m,q),{code:"object.oxor",context:w}},with(m,b,B,_,S){let q=d.isPresent(b.options);for(let y of b.peers)if(q(y.resolve(B,_,S,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:b.key.key,mainWithLabel:d.keysToLabels(m,b.key.key),peer:y.key,peerWithLabel:d.keysToLabels(m,y.key)}}},without(m,b,B,_,S){let q=d.isPresent(b.options);for(let y of b.peers)if(q(y.resolve(B,_,S,null,{shadow:!1})))return{code:"object.without",context:{main:b.key.key,mainWithLabel:d.keysToLabels(m,b.key.key),peer:y.key,peerWithLabel:d.keysToLabels(m,y.key)}}},xor(m,b,B,_,S){let q=[],y=d.isPresent(b.options);for(let k of b.peers)y(k.resolve(B,_,S,null,{shadow:!1}))&&q.push(k.key);if(q.length===1)return;let w={peers:b.paths,peersWithLabels:d.keysToLabels(m,b.paths)};return q.length===0?{code:"object.missing",context:w}:(w.present=q,w.presentWithLabels=d.keysToLabels(m,q),{code:"object.xor",context:w})}},d.keysToLabels=function(m,b){return Array.isArray(b)?b.map(B=>m.$_mapLabels(B)):m.$_mapLabels(b)},d.isPresent=function(m){return typeof m.isPresent=="function"?m.isPresent:b=>b!==void 0},d.rename=function(m,b,B,_,S){let q={};for(let y of m.$_terms.renames){let w=[],k=typeof y.from!="string";if(k)for(let R in b){if(b[R]===void 0&&y.options.ignoreUndefined||R===y.to)continue;let H=y.from.exec(R);H&&w.push({from:R,to:y.to,match:H})}else!Object.prototype.hasOwnProperty.call(b,y.from)||b[y.from]===void 0&&y.options.ignoreUndefined||w.push(y);for(let R of w){let H=R.from,K=R.to;if(K instanceof h&&(K=K.render(b,B,_,R.match)),H!==K){if(!y.options.multiple&&q[K]&&(S.push(m.$_createError("object.rename.multiple",b,{from:H,to:K,pattern:k},B,_)),_.abortEarly)||Object.prototype.hasOwnProperty.call(b,K)&&!y.options.override&&!q[K]&&(S.push(m.$_createError("object.rename.override",b,{from:H,to:K,pattern:k},B,_)),_.abortEarly))return!1;b[H]===void 0?delete b[K]:b[K]=b[H],q[K]=!0,y.options.alias||delete b[H]}}}return!0},d.unknown=function(m,b,B,_,S,q){if(m.$_terms.patterns){let y=!1,w=m.$_terms.patterns.map(R=>{if(R.matches)return y=!0,[]}),k=[b,...S.ancestors];for(let R of B){let H=b[R],K=[...S.path,R];for(let Z=0;Z<m.$_terms.patterns.length;++Z){let F=m.$_terms.patterns[Z];if(F.regex){let I=F.regex.test(R);if(S.mainstay.tracer.debug(S,"rule",`pattern.${Z}`,I?"pass":"error"),!I)continue}else if(!F.schema.$_match(R,S.nest(F.schema,`pattern.${Z}`),q))continue;B.delete(R);let p=S.localize(K,k,{schema:F.rule,key:R}),x=F.rule.$_validate(H,p,q);if(x.errors){if(q.abortEarly)return{value:b,errors:x.errors};_.push(...x.errors)}if(F.matches&&w[Z].push(R),b[R]=x.value,!F.fallthrough)break}}if(y)for(let R=0;R<w.length;++R){let H=w[R];if(!H)continue;let K=m.$_terms.patterns[R].matches,Z=S.localize(S.path,k,K),F=K.$_validate(H,Z,q);if(F.errors){let p=u.details(F.errors,{override:!1});p.matches=H;let x=m.$_createError("object.pattern.match",b,p,S,q);if(q.abortEarly)return{value:b,errors:x};_.push(x)}}}if(B.size&&(m.$_terms.keys||m.$_terms.patterns)){if(q.stripUnknown&&!m._flags.unknown||q.skipFunctions){let y=!(!q.stripUnknown||q.stripUnknown!==!0&&!q.stripUnknown.objects);for(let w of B)y?(delete b[w],B.delete(w)):typeof b[w]=="function"&&B.delete(w)}if(!c.default(m._flags.unknown,q.allowUnknown))for(let y of B){let w=S.localize([...S.path,y],[]),k=m.$_createError("object.unknown",b[y],{child:y},w,q,{flags:!1});if(q.abortEarly)return{value:b,errors:k};_.push(k)}}},d.Dependency=class{constructor(m,b,B,_,S){this.rel=m,this.key=b,this.peers=B,this.paths=_,this.options=S}describe(){let m={rel:this.rel,peers:this.paths};return this.key!==null&&(m.key=this.key.key),this.peers[0].separator!=="."&&(m.options={...m.options,separator:this.peers[0].separator}),this.options.isPresent&&(m.options={...m.options,isPresent:this.options.isPresent}),m}},d.Keys=class extends Array{concat(m){let b=this.slice(),B=new Map;for(let _=0;_<b.length;++_)B.set(b[_].key,_);for(let _ of m){let S=_.key,q=B.get(S);q!==void 0?b[q]={key:S,schema:b[q].schema.concat(_.schema)}:b.push(_)}return b}}},8785:(e,t,j)=>{"use strict";let n=j(375),s=j(8068),o=j(8160),a=j(3292),i=j(6354),c={};e.exports=s.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(l,u)=>l.ref(u),validate(l,u){let{schema:f,state:h,prefs:d}=u;n(f.$_terms.link,"Uninitialized link schema");let m=c.generate(f,l,h,d),b=f.$_terms.link[0].ref;return m.$_validate(l,h.nest(m,`link:${b.display}:${m.type}`),d)},generate:(l,u,f,h)=>c.generate(l,u,f,h),rules:{ref:{method(l){n(!this.$_terms.link,"Cannot reinitialize schema"),l=a.ref(l),n(l.type==="value"||l.type==="local","Invalid reference type:",l.type),n(l.type==="local"||l.ancestor==="root"||l.ancestor>0,"Link cannot reference itself");let u=this.clone();return u.$_terms.link=[{ref:l}],u}},relative:{method(){let l=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("relative",l)}}},overrides:{concat(l){n(this.$_terms.link,"Uninitialized link schema"),n(o.isSchema(l),"Invalid schema object"),n(l.type!=="link","Cannot merge type link with another link");let u=this.clone();return u.$_terms.whens||(u.$_terms.whens=[]),u.$_terms.whens.push({concat:l}),u.$_mutateRebuild()}},manifest:{build:(l,u)=>(n(u.link,"Invalid link description missing link"),l.ref(u.link))}}),c.generate=function(l,u,f,h){let d=f.mainstay.links.get(l);if(d)return d._generate(u,f,h).schema;let m=l.$_terms.link[0].ref,{perspective:b,path:B}=c.perspective(m,f);c.assert(b,"which is outside of schema boundaries",m,l,f,h);try{d=B.length?b.$_reach(B):b}catch{c.assert(!1,"to non-existing schema",m,l,f,h)}return c.assert(d.type!=="link","which is another link",m,l,f,h),l._flags.relative||f.mainstay.links.set(l,d),d._generate(u,f,h).schema},c.perspective=function(l,u){if(l.type==="local"){for(let{schema:f,key:h}of u.schemas){if((f._flags.id||h)===l.path[0])return{perspective:f,path:l.path.slice(1)};if(f.$_terms.shared){for(let d of f.$_terms.shared)if(d._flags.id===l.path[0])return{perspective:d,path:l.path.slice(1)}}}return{perspective:null,path:null}}return l.ancestor==="root"?{perspective:u.schemas[u.schemas.length-1].schema,path:l.path}:{perspective:u.schemas[l.ancestor]&&u.schemas[l.ancestor].schema,path:l.path}},c.assert=function(l,u,f,h,d,m){l||n(!1,`"${i.label(h._flags,d,m)}" contains link reference "${f.display}" ${u}`)}},3832:(e,t,j)=>{"use strict";let n=j(375),s=j(8068),o=j(8160),a={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/};e.exports=s.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(i,c){let{schema:l,error:u}=c;if(!i.match(a.numberRx))return;i=i.trim();let f={value:parseFloat(i)};if(f.value===0&&(f.value=0),!l._flags.unsafe)if(i.match(/e/i)){if(a.extractSignificantDigits(i)!==a.extractSignificantDigits(String(f.value)))return f.errors=u("number.unsafe"),f}else{let h=f.value.toString();if(h.match(/e/i))return f;if(h!==a.normalizeDecimal(i))return f.errors=u("number.unsafe"),f}return f}},validate(i,c){let{schema:l,error:u,prefs:f}=c;if(i===1/0||i===-1/0)return{value:i,errors:u("number.infinity")};if(!o.isNumber(i))return{value:i,errors:u("number.base")};let h={value:i};if(f.convert){let d=l.$_getRule("precision");if(d){let m=Math.pow(10,d.args.limit);h.value=Math.round(h.value*m)/m}}return h.value===0&&(h.value=0),!l._flags.unsafe&&(i>Number.MAX_SAFE_INTEGER||i<Number.MIN_SAFE_INTEGER)&&(h.errors=u("number.unsafe")),h},rules:{compare:{method:!1,validate(i,c,l,u){let{limit:f}=l,{name:h,operator:d,args:m}=u;return o.compare(i,f,d)?i:c.error("number."+h,{limit:m.limit,value:i})},args:[{name:"limit",ref:!0,assert:o.isNumber,message:"must be a number"}]},greater:{method(i){return this.$_addRule({name:"greater",method:"compare",args:{limit:i},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(i,c)=>Math.trunc(i)-i==0?i:c.error("number.integer")},less:{method(i){return this.$_addRule({name:"less",method:"compare",args:{limit:i},operator:"<"})}},max:{method(i){return this.$_addRule({name:"max",method:"compare",args:{limit:i},operator:"<="})}},min:{method(i){return this.$_addRule({name:"min",method:"compare",args:{limit:i},operator:">="})}},multiple:{method(i){return this.$_addRule({name:"multiple",args:{base:i}})},validate(i,c,l,u){let{base:f}=l;return i*(1/f)%1==0?i:c.error("number.multiple",{multiple:u.args.base,value:i})},args:[{name:"base",ref:!0,assert:i=>typeof i=="number"&&isFinite(i)&&i>0,message:"must be a positive number"}],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(i,c)=>Number.isSafeInteger(i)&&i>=0&&i<=65535?i:c.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(i){return n(Number.isSafeInteger(i),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:i}})},validate(i,c,l){let{limit:u}=l,f=i.toString().match(a.precisionRx);return Math.max((f[1]?f[1].length:0)-(f[2]?parseInt(f[2],10):0),0)<=u?i:c.error("number.precision",{limit:u,value:i})},convert:!0},sign:{method(i){return n(["negative","positive"].includes(i),"Invalid sign",i),this.$_addRule({name:"sign",args:{sign:i}})},validate(i,c,l){let{sign:u}=l;return u==="negative"&&i<0||u==="positive"&&i>0?i:c.error(`number.${u}`)}},unsafe:{method(){let i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return n(typeof i=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",i)}}},cast:{string:{from:i=>typeof i=="number",to:(i,c)=>i.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),a.extractSignificantDigits=function(i){return i.replace(a.exponentialPartRegex,"").replace(a.dotRegex,"").replace(a.trailingZerosRegex,"").replace(a.leadingSignAndZerosRegex,"")},a.normalizeDecimal=function(i){return(i=i.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&i.endsWith("0")&&(i=i.replace(/0+$/,"")),i==="-0"?"0":i}},8966:(e,t,j)=>{"use strict";let n=j(7824);e.exports=n.extend({type:"object",cast:{map:{from:s=>s&&typeof s=="object",to:(s,o)=>new Map(Object.entries(s))}}})},7417:(e,t,j)=>{"use strict";let n=j(375),s=j(5380),o=j(1745),a=j(9959),i=j(6064),c=j(9926),l=j(5752),u=j(8068),f=j(8160),h={tlds:c instanceof Set&&{tlds:{allow:c,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:a.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};e.exports=u.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(d,m){let{schema:b,state:B,prefs:_}=m,S=b.$_getRule("normalize");S&&(d=d.normalize(S.args.form));let q=b.$_getRule("case");q&&(d=q.args.direction==="upper"?d.toLocaleUpperCase():d.toLocaleLowerCase());let y=b.$_getRule("trim");if(y&&y.args.enabled&&(d=d.trim()),b.$_terms.replacements)for(let k of b.$_terms.replacements)d=d.replace(k.pattern,k.replacement);let w=b.$_getRule("hex");if(w&&w.args.options.byteAligned&&d.length%2!=0&&(d=`0${d}`),b.$_getRule("isoDate")){let k=h.isoDate(d);k&&(d=k)}if(b._flags.truncate){let k=b.$_getRule("max");if(k){let R=k.args.limit;if(f.isResolvable(R)&&(R=R.resolve(d,B,_),!f.limit(R)))return{value:d,errors:b.$_createError("any.ref",R,{ref:k.args.limit,arg:"limit",reason:"must be a positive integer"},B,_)};d=d.slice(0,R)}}return{value:d}}},validate(d,m){let{schema:b,error:B}=m;if(typeof d!="string")return{value:d,errors:B("string.base")};if(d===""){let _=b.$_getRule("min");return _&&_.args.limit===0?void 0:{value:d,errors:B("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(d,m)=>/^[a-zA-Z0-9]+$/.test(d)?d:m.error("string.alphanum")},base64:{method(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return f.assertOptions(d,["paddingRequired","urlSafe"]),d={urlSafe:!1,paddingRequired:!0,...d},n(typeof d.paddingRequired=="boolean","paddingRequired must be boolean"),n(typeof d.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:d}})},validate(d,m,b){let{options:B}=b;return h.base64Regex[B.paddingRequired][B.urlSafe].test(d)?d:m.error("string.base64")}},case:{method(d){return n(["lower","upper"].includes(d),"Invalid case:",d),this.$_addRule({name:"case",args:{direction:d}})},validate(d,m,b){let{direction:B}=b;return B==="lower"&&d===d.toLocaleLowerCase()||B==="upper"&&d===d.toLocaleUpperCase()?d:m.error(`string.${B}case`)},convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(d,m){let b=d.length,B=0,_=1;for(;b--;){let S=d.charAt(b)*_;B+=S-9*(S>9),_^=3}return B>0&&B%10==0?d:m.error("string.creditCard")}},dataUri:{method(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return f.assertOptions(d,["paddingRequired"]),d={paddingRequired:!0,...d},n(typeof d.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:d}})},validate(d,m,b){let{options:B}=b,_=d.match(h.dataUriRegex);return _&&(!_[2]||_[2]!=="base64"||h.base64Regex[B.paddingRequired].false.test(_[3]))?d:m.error("string.dataUri")}},domain:{method(d){d&&f.assertOptions(d,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);let m=h.addressOptions(d);return this.$_addRule({name:"domain",args:{options:d},address:m})},validate(d,m,b,B){let{address:_}=B;return s.isValid(d,_)?d:m.error("string.domain")}},email:{method(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f.assertOptions(d,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),n(d.multiple===void 0||typeof d.multiple=="boolean","multiple option must be an boolean");let m=h.addressOptions(d),b=new RegExp(`\\s*[${d.separator?i(d.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:d},regex:b,address:m})},validate(d,m,b,B){let{options:_}=b,{regex:S,address:q}=B,y=_.multiple?d.split(S):[d],w=[];for(let k of y)o.isValid(k,q)||w.push(k);return w.length?m.error("string.email",{value:d,invalids:w}):d}},guid:{alias:"uuid",method(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f.assertOptions(d,["version","separator"]);let m="";if(d.version){let _=[].concat(d.version);n(_.length>=1,"version must have at least 1 valid version specified");let S=new Set;for(let q=0;q<_.length;++q){let y=_[q];n(typeof y=="string","version at position "+q+" must be a string");let w=h.guidVersions[y.toLowerCase()];n(w,"version at position "+q+" must be one of "+Object.keys(h.guidVersions).join(", ")),n(!S.has(w),"version at position "+q+" must not be a duplicate"),m+=w,S.add(w)}}n(h.guidSeparators.has(d.separator),'separator must be one of true, false, "-", or ":"');let b=d.separator===void 0?"[:-]?":d.separator===!0?"[:-]":d.separator===!1?"[]?":`\\${d.separator}`,B=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${b})[0-9A-F]{4}\\2?[${m||"0-9A-F"}][0-9A-F]{3}\\2?[${m?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:d},regex:B})},validate(d,m,b,B){let{regex:_}=B,S=_.exec(d);return S?h.guidBrackets[S[1]]!==S[S.length-1]?m.error("string.guid"):d:m.error("string.guid")}},hex:{method(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return f.assertOptions(d,["byteAligned"]),d={byteAligned:!1,...d},n(typeof d.byteAligned=="boolean","byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:d}})},validate(d,m,b){let{options:B}=b;return h.hexRegex.test(d)?B.byteAligned&&d.length%2!=0?m.error("string.hexAlign"):d:m.error("string.hex")}},hostname:{method(){return this.$_addRule("hostname")},validate:(d,m)=>s.isValid(d,{minDomainSegments:1})||h.ipRegex.test(d)?d:m.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f.assertOptions(d,["cidr","version"]);let{cidr:m,versions:b,regex:B}=a.regex(d),_=d.version?b:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:m,version:_}},regex:B})},validate(d,m,b,B){let{options:_}=b,{regex:S}=B;return S.test(d)?d:_.version?m.error("string.ipVersion",{value:d,cidr:_.cidr,version:_.version}):m.error("string.ip",{value:d,cidr:_.cidr})}},isoDate:{method(){return this.$_addRule("isoDate")},validate(d,m){let{error:b}=m;return h.isoDate(d)?d:b("string.isoDate")}},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(d,m)=>h.isoDurationRegex.test(d)?d:m.error("string.isoDuration")},length:{method(d,m){return h.length(this,"length",d,"=",m)},validate(d,m,b,B){let{limit:_,encoding:S}=b,{name:q,operator:y,args:w}=B,k=!S&&d.length;return f.compare(k,_,y)?d:m.error("string."+q,{limit:w.limit,value:d,encoding:S})},args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(d,m){return h.length(this,"max",d,"<=",m)},args:["limit","encoding"]},min:{method(d,m){return h.length(this,"min",d,">=",m)},args:["limit","encoding"]},normalize:{method(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"NFC";return n(h.normalizationForms.includes(d),"normalization form must be one of "+h.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:d}})},validate(d,m,b){let{error:B}=m,{form:_}=b;return d===d.normalize(_)?d:B("string.normalize",{value:d,form:_})},convert:!0},pattern:{alias:"regex",method(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n(d instanceof RegExp,"regex must be a RegExp"),n(!d.flags.includes("g")&&!d.flags.includes("y"),"regex should not use global or sticky mode"),typeof m=="string"&&(m={name:m}),f.assertOptions(m,["invert","name"]);let b=["string.pattern",m.invert?".invert":"",m.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:d,options:m},errorCode:b})},validate(d,m,b,B){let{regex:_,options:S}=b,{errorCode:q}=B;return _.test(d)^S.invert?d:m.error(q,{name:S.name,regex:_,value:d})},args:["regex","options"],multi:!0},replace:{method(d,m){typeof d=="string"&&(d=new RegExp(i(d),"g")),n(d instanceof RegExp,"pattern must be a RegExp"),n(typeof m=="string","replacement must be a String");let b=this.clone();return b.$_terms.replacements||(b.$_terms.replacements=[]),b.$_terms.replacements.push({pattern:d,replacement:m}),b}},token:{method(){return this.$_addRule("token")},validate:(d,m)=>/^\w+$/.test(d)?d:m.error("string.token")},trim:{method(){let d=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return n(typeof d=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:d}})},validate(d,m,b){let{enabled:B}=b;return B&&d!==d.trim()?m.error("string.trim"):d},convert:!0},truncate:{method(){let d=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return n(typeof d=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",d)}},uppercase:{method(){return this.case("upper")}},uri:{method(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f.assertOptions(d,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),d.domain&&f.assertOptions(d.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);let{regex:m,scheme:b}=l.regex(d),B=d.domain?h.addressOptions(d.domain):null;return this.$_addRule({name:"uri",args:{options:d},regex:m,domain:B,scheme:b})},validate(d,m,b,B){let{options:_}=b,{regex:S,domain:q,scheme:y}=B;if(["http:/","https:/"].includes(d))return m.error("string.uri");let w=S.exec(d);if(w){let k=w[1]||w[2];return!q||_.allowRelative&&!k||s.isValid(k,q)?d:m.error("string.domain",{value:k})}return _.relativeOnly?m.error("string.uriRelativeOnly"):_.scheme?m.error("string.uriCustomScheme",{scheme:y,value:d}):m.error("string.uri")}}},manifest:{build(d,m){if(m.replacements)for(let{pattern:b,replacement:B}of m.replacements)d=d.replace(b,B);return d}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),h.addressOptions=function(d){if(!d||(n(d.minDomainSegments===void 0||Number.isSafeInteger(d.minDomainSegments)&&d.minDomainSegments>0,"minDomainSegments must be a positive integer"),n(d.maxDomainSegments===void 0||Number.isSafeInteger(d.maxDomainSegments)&&d.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),d.tlds===!1))return d;if(d.tlds===!0||d.tlds===void 0)return n(h.tlds,"Built-in TLD list disabled"),Object.assign({},d,h.tlds);n(typeof d.tlds=="object","tlds must be true, false, or an object");let m=d.tlds.deny;if(m)return Array.isArray(m)&&(d=Object.assign({},d,{tlds:{deny:new Set(m)}})),n(d.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),n(!d.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),h.validateTlds(d.tlds.deny,"tlds.deny"),d;let b=d.tlds.allow;return b?b===!0?(n(h.tlds,"Built-in TLD list disabled"),Object.assign({},d,h.tlds)):(Array.isArray(b)&&(d=Object.assign({},d,{tlds:{allow:new Set(b)}})),n(d.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),h.validateTlds(d.tlds.allow,"tlds.allow"),d):d},h.validateTlds=function(d,m){for(let b of d)n(s.isValid(b,{minDomainSegments:1,maxDomainSegments:1}),`${m} must contain valid top level domain names`)},h.isoDate=function(d){if(!f.isIsoDate(d))return null;/.*T.*[+-]\d\d$/.test(d)&&(d+="00");let m=new Date(d);return isNaN(m.getTime())?null:m.toISOString()},h.length=function(d,m,b,B,_){return n(!_||!1,"Invalid encoding:",_),d.$_addRule({name:m,method:"length",args:{limit:b,encoding:_},operator:B})}},8826:(e,t,j)=>{"use strict";let n=j(375),s=j(8068),o={};o.Map=class extends Map{slice(){return new o.Map(this)}},e.exports=s.extend({type:"symbol",terms:{map:{init:new o.Map}},coerce:{method(a,i){let{schema:c,error:l}=i,u=c.$_terms.map.get(a);return u&&(a=u),c._flags.only&&typeof a!="symbol"?{value:a,errors:l("symbol.map",{map:c.$_terms.map})}:{value:a}}},validate(a,i){let{error:c}=i;if(typeof a!="symbol")return{value:a,errors:c("symbol.base")}},rules:{map:{method(a){a&&!a[Symbol.iterator]&&typeof a=="object"&&(a=Object.entries(a)),n(a&&a[Symbol.iterator],"Iterable must be an iterable or object");let i=this.clone(),c=[];for(let l of a){n(l&&l[Symbol.iterator],"Entry must be an iterable");let[u,f]=l;n(typeof u!="object"&&typeof u!="function"&&typeof u!="symbol","Key must not be of type object, function, or Symbol"),n(typeof f=="symbol","Value must be a Symbol"),i.$_terms.map.set(u,f),c.push(f)}return i.valid(...c)}}},manifest:{build:(a,i)=>(i.map&&(a=a.map(i.map)),a)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(e,t,j)=>{"use strict";let n=j(375),s=j(8571),o=j(738),a=j(9621),i=j(8160),c=j(6354),l=j(493),u={result:Symbol("result")};t.entry=function(f,h,d){let m=i.defaults;d&&(n(d.warnings===void 0,"Cannot override warnings preference in synchronous validation"),n(d.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),m=i.preferences(i.defaults,d));let b=u.entry(f,h,m);n(!b.mainstay.externals.length,"Schema with external rules must use validateAsync()");let B={value:b.value};return b.error&&(B.error=b.error),b.mainstay.warnings.length&&(B.warning=c.details(b.mainstay.warnings)),b.mainstay.debug&&(B.debug=b.mainstay.debug),b.mainstay.artifacts&&(B.artifacts=b.mainstay.artifacts),B},t.entryAsync=async function(f,h,d){let m=i.defaults;d&&(m=i.preferences(i.defaults,d));let b=u.entry(f,h,m),B=b.mainstay;if(b.error)throw B.debug&&(b.error.debug=B.debug),b.error;if(B.externals.length){let S=b.value;for(let{method:q,path:y,label:w}of B.externals){let k,R,H=S;y.length&&(k=y[y.length-1],R=a(S,y.slice(0,-1)),H=R[k]);try{let K=await q(H,{prefs:d});if(K===void 0||K===H)continue;R?R[k]=K:S=K}catch(K){throw m.errors.label&&(K.message+=` (${w})`),K}}b.value=S}if(!m.warnings&&!m.debug&&!m.artifacts)return b.value;let _={value:b.value};return B.warnings.length&&(_.warning=c.details(B.warnings)),B.debug&&(_.debug=B.debug),B.artifacts&&(_.artifacts=B.artifacts),_},u.entry=function(f,h,d){let{tracer:m,cleanup:b}=u.tracer(h,d),B={externals:[],warnings:[],tracer:m,debug:d.debug?[]:null,links:h._ids._schemaChain?new Map:null},_=h._ids._schemaChain?[{schema:h}]:null,S=new l([],[],{mainstay:B,schemas:_}),q=t.validate(f,h,S,d);b&&h.$_root.untrace();let y=c.process(q.errors,f,d);return{value:q.value,error:y,mainstay:B}},u.tracer=function(f,h){return f.$_root._tracer?{tracer:f.$_root._tracer._register(f)}:h.debug?(n(f.$_root.trace,"Debug mode not supported"),{tracer:f.$_root.trace()._register(f),cleanup:!0}):{tracer:u.ignore}},t.validate=function(f,h,d,m){let b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(h.$_terms.whens&&(h=h._generate(f,d,m).schema),h._preferences&&(m=u.prefs(h,m)),h._cache&&m.cache){let k=h._cache.get(f);if(d.mainstay.tracer.debug(d,"validate","cached",!!k),k)return k}let B=(k,R,H)=>h.$_createError(k,f,R,H||d,m),_={original:f,prefs:m,schema:h,state:d,error:B,errorsArray:u.errorsArray,warn:(k,R,H)=>d.mainstay.warnings.push(B(k,R,H)),message:(k,R)=>h.$_createError("custom",f,R,d,m,{messages:k})};d.mainstay.tracer.entry(h,d);let S=h._definition;if(S.prepare&&f!==void 0&&m.convert){let k=S.prepare(f,_);if(k){if(d.mainstay.tracer.value(d,"prepare",f,k.value),k.errors)return u.finalize(k.value,[].concat(k.errors),_);f=k.value}}if(S.coerce&&f!==void 0&&m.convert&&(!S.coerce.from||S.coerce.from.includes(typeof f))){let k=S.coerce.method(f,_);if(k){if(d.mainstay.tracer.value(d,"coerced",f,k.value),k.errors)return u.finalize(k.value,[].concat(k.errors),_);f=k.value}}let q=h._flags.empty;q&&q.$_match(u.trim(f,h),d.nest(q),i.defaults)&&(d.mainstay.tracer.value(d,"empty",f,void 0),f=void 0);let y=b.presence||h._flags.presence||(h._flags._endedSwitch?null:m.presence);if(f===void 0){if(y==="forbidden")return u.finalize(f,null,_);if(y==="required")return u.finalize(f,[h.$_createError("any.required",f,null,d,m)],_);if(y==="optional"){if(h._flags.default!==i.symbols.deepDefault)return u.finalize(f,null,_);d.mainstay.tracer.value(d,"default",f,{}),f={}}}else if(y==="forbidden")return u.finalize(f,[h.$_createError("any.unknown",f,null,d,m)],_);let w=[];if(h._valids){let k=h._valids.get(f,d,m,h._flags.insensitive);if(k)return m.convert&&(d.mainstay.tracer.value(d,"valids",f,k.value),f=k.value),d.mainstay.tracer.filter(h,d,"valid",k),u.finalize(f,null,_);if(h._flags.only){let R=h.$_createError("any.only",f,{valids:h._valids.values({display:!0})},d,m);if(m.abortEarly)return u.finalize(f,[R],_);w.push(R)}}if(h._invalids){let k=h._invalids.get(f,d,m,h._flags.insensitive);if(k){d.mainstay.tracer.filter(h,d,"invalid",k);let R=h.$_createError("any.invalid",f,{invalids:h._invalids.values({display:!0})},d,m);if(m.abortEarly)return u.finalize(f,[R],_);w.push(R)}}if(S.validate){let k=S.validate(f,_);if(k&&(d.mainstay.tracer.value(d,"base",f,k.value),f=k.value,k.errors)){if(!Array.isArray(k.errors))return w.push(k.errors),u.finalize(f,w,_);if(k.errors.length)return w.push(...k.errors),u.finalize(f,w,_)}}return h._rules.length?u.rules(f,w,_):u.finalize(f,w,_)},u.rules=function(f,h,d){let{schema:m,state:b,prefs:B}=d;for(let _ of m._rules){let S=m._definition.rules[_.method];if(S.convert&&B.convert){b.mainstay.tracer.log(m,b,"rule",_.name,"full");continue}let q,y=_.args;if(_._resolve.length){y=Object.assign({},y);for(let k of _._resolve){let R=S.argsByName.get(k),H=y[k].resolve(f,b,B),K=R.normalize?R.normalize(H):H,Z=i.validateArg(K,null,R);if(Z){q=m.$_createError("any.ref",H,{arg:k,ref:y[k],reason:Z},b,B);break}y[k]=K}}q=q||S.validate(f,d,y,_);let w=u.rule(q,_);if(w.errors){if(b.mainstay.tracer.log(m,b,"rule",_.name,"error"),_.warn){b.mainstay.warnings.push(...w.errors);continue}if(B.abortEarly)return u.finalize(f,w.errors,d);h.push(...w.errors)}else b.mainstay.tracer.log(m,b,"rule",_.name,"pass"),b.mainstay.tracer.value(b,"rule",f,w.value,_.name),f=w.value}return u.finalize(f,h,d)},u.rule=function(f,h){return f instanceof c.Report?(u.error(f,h),{errors:[f],value:null}):Array.isArray(f)&&f[i.symbols.errors]?(f.forEach(d=>u.error(d,h)),{errors:f,value:null}):{errors:null,value:f}},u.error=function(f,h){return h.message&&f._setTemplate(h.message),f},u.finalize=function(f,h,d){h=h||[];let{schema:m,state:b,prefs:B}=d;if(h.length){let S=u.default("failover",void 0,h,d);S!==void 0&&(b.mainstay.tracer.value(b,"failover",f,S),f=S,h=[])}if(h.length&&m._flags.error)if(typeof m._flags.error=="function"){h=m._flags.error(h),Array.isArray(h)||(h=[h]);for(let S of h)n(S instanceof Error||S instanceof c.Report,"error() must return an Error object")}else h=[m._flags.error];if(f===void 0){let S=u.default("default",f,h,d);b.mainstay.tracer.value(b,"default",f,S),f=S}if(m._flags.cast&&f!==void 0){let S=m._definition.cast[m._flags.cast];if(S.from(f)){let q=S.to(f,d);b.mainstay.tracer.value(b,"cast",f,q,m._flags.cast),f=q}}if(m.$_terms.externals&&B.externals&&B._externals!==!1)for(let{method:S}of m.$_terms.externals)b.mainstay.externals.push({method:S,path:b.path,label:c.label(m._flags,b,B)});let _={value:f,errors:h.length?h:null};return m._flags.result&&(_.value=m._flags.result==="strip"?void 0:d.original,b.mainstay.tracer.value(b,m._flags.result,f,_.value),b.shadow(f,m._flags.result)),m._cache&&B.cache!==!1&&!m._refs.length&&m._cache.set(d.original,_),f===void 0||_.errors||m._flags.artifact===void 0||(b.mainstay.artifacts=b.mainstay.artifacts||new Map,b.mainstay.artifacts.has(m._flags.artifact)||b.mainstay.artifacts.set(m._flags.artifact,[]),b.mainstay.artifacts.get(m._flags.artifact).push(b.path)),_},u.prefs=function(f,h){let d=h===i.defaults;return d&&f._preferences[i.symbols.prefs]?f._preferences[i.symbols.prefs]:(h=i.preferences(h,f._preferences),d&&(f._preferences[i.symbols.prefs]=h),h)},u.default=function(f,h,d,m){let{schema:b,state:B,prefs:_}=m,S=b._flags[f];if(_.noDefaults||S===void 0)return h;if(B.mainstay.tracer.log(b,B,"rule",f,"full"),!S)return S;if(typeof S=="function"){let q=S.length?[s(B.ancestors[0]),m]:[];try{return S(...q)}catch(y){return void d.push(b.$_createError(`any.${f}`,null,{error:y},B,_))}}return typeof S!="object"?S:S[i.symbols.literal]?S.literal:i.isResolvable(S)?S.resolve(h,B,_):s(S)},u.trim=function(f,h){if(typeof f!="string")return f;let d=h.$_getRule("trim");return d&&d.args.enabled?f.trim():f},u.ignore={active:!1,debug:o,entry:o,filter:o,log:o,resolve:o,value:o},u.errorsArray=function(){let f=[];return f[i.symbols.errors]=!0,f}},2036:(e,t,j)=>{"use strict";let n=j(375),s=j(9474),o=j(8160),a={};e.exports=a.Values=class{constructor(i,c){this._values=new Set(i),this._refs=new Set(c),this._lowercase=a.lowercases(i),this._override=!1}get length(){return this._values.size+this._refs.size}add(i,c){o.isResolvable(i)?this._refs.has(i)||(this._refs.add(i),c&&c.register(i)):this.has(i,null,null,!1)||(this._values.add(i),typeof i=="string"&&this._lowercase.set(i.toLowerCase(),i))}static merge(i,c,l){if(i=i||new a.Values,c){if(c._override)return c.clone();for(let u of[...c._values,...c._refs])i.add(u)}if(l)for(let u of[...l._values,...l._refs])i.remove(u);return i.length?i:null}remove(i){o.isResolvable(i)?this._refs.delete(i):(this._values.delete(i),typeof i=="string"&&this._lowercase.delete(i.toLowerCase()))}has(i,c,l,u){return!!this.get(i,c,l,u)}get(i,c,l,u){if(!this.length)return!1;if(this._values.has(i))return{value:i};if(typeof i=="string"&&i&&u){let f=this._lowercase.get(i.toLowerCase());if(f)return{value:f}}if(!this._refs.size&&typeof i!="object")return!1;if(typeof i=="object"){for(let f of this._values)if(s(f,i))return{value:f}}if(c)for(let f of this._refs){let h=f.resolve(i,c,l,null,{in:!0});if(h===void 0)continue;let d=f.in&&typeof h=="object"?Array.isArray(h)?h:Object.keys(h):[h];for(let m of d)if(typeof m==typeof i){if(u&&i&&typeof i=="string"){if(m.toLowerCase()===i.toLowerCase())return{value:m,ref:f}}else if(s(m,i))return{value:m,ref:f}}}return!1}override(){this._override=!0}values(i){if(i&&i.display){let c=[];for(let l of[...this._values,...this._refs])l!==void 0&&c.push(l);return c}return Array.from([...this._values,...this._refs])}clone(){let i=new a.Values(this._values,this._refs);return i._override=this._override,i}concat(i){n(!i._override,"Cannot concat override set of values");let c=new a.Values([...this._values,...i._values],[...this._refs,...i._refs]);return c._override=this._override,c}describe(){let i=[];this._override&&i.push({override:!0});for(let c of this._values.values())i.push(c&&typeof c=="object"?{value:c}:c);for(let c of this._refs.values())i.push(c.describe());return i}},a.Values.prototype[o.symbols.values]=!0,a.Values.prototype.slice=a.Values.prototype.clone,a.lowercases=function(i){let c=new Map;if(i)for(let l of i)typeof l=="string"&&c.set(l.toLowerCase(),l);return c}},978:(e,t,j)=>{"use strict";let n=j(375),s=j(8571),o=j(1687),a=j(9621),i={};e.exports=function(c,l){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n(c&&typeof c=="object","Invalid defaults value: must be an object"),n(!l||l===!0||typeof l=="object","Invalid source value: must be true, falsy or an object"),n(typeof u=="object","Invalid options: must be an object"),!l)return null;if(u.shallow)return i.applyToDefaultsWithShallow(c,l,u);let f=s(c);if(l===!0)return f;let h=u.nullOverride!==void 0&&u.nullOverride;return o(f,l,{nullOverride:h,mergeArrays:!1})},i.applyToDefaultsWithShallow=function(c,l,u){let f=u.shallow;n(Array.isArray(f),"Invalid keys");let h=new Map,d=l===!0?null:new Set;for(let B of f){B=Array.isArray(B)?B:B.split(".");let _=a(c,B);_&&typeof _=="object"?h.set(_,d&&a(l,B)||_):d&&d.add(B)}let m=s(c,{},h);if(!d)return m;for(let B of d)i.reachCopy(m,l,B);let b=u.nullOverride!==void 0&&u.nullOverride;return o(m,l,{nullOverride:b,mergeArrays:!1})},i.reachCopy=function(c,l,u){for(let d of u){if(!(d in l))return;let m=l[d];if(typeof m!="object"||m===null)return;l=m}let f=l,h=c;for(let d=0;d<u.length-1;++d){let m=u[d];typeof h[m]!="object"&&(h[m]={}),h=h[m]}h[u[u.length-1]]=f}},375:(e,t,j)=>{"use strict";let n=j(7916);e.exports=function(s){if(!s){for(var o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];throw a.length===1&&a[0]instanceof Error?a[0]:new n(a)}}},8571:(e,t,j)=>{"use strict";let n=j(9621),s=j(4277),o=j(7043),a={needsProtoHack:new Set([s.set,s.map,s.weakSet,s.weakMap])};e.exports=a.clone=function(i){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof i!="object"||i===null)return i;let u=a.clone,f=l;if(c.shallow){if(c.shallow!==!0)return a.cloneWithShallow(i,c);u=b=>b}else if(f){let b=f.get(i);if(b)return b}else f=new Map;let h=s.getInternalProto(i);if(h===s.buffer)return!1;if(h===s.date)return new Date(i.getTime());if(h===s.regex)return new RegExp(i);let d=a.base(i,h,c);if(d===i)return i;if(f&&f.set(i,d),h===s.set)for(let b of i)d.add(u(b,c,f));else if(h===s.map)for(let[b,B]of i)d.set(b,u(B,c,f));let m=o.keys(i,c);for(let b of m){if(b==="__proto__")continue;if(h===s.array&&b==="length"){d.length=i.length;continue}let B=Object.getOwnPropertyDescriptor(i,b);B?B.get||B.set?Object.defineProperty(d,b,B):B.enumerable?d[b]=u(i[b],c,f):Object.defineProperty(d,b,{enumerable:!1,writable:!0,configurable:!0,value:u(i[b],c,f)}):Object.defineProperty(d,b,{enumerable:!0,writable:!0,configurable:!0,value:u(i[b],c,f)})}return d},a.cloneWithShallow=function(i,c){let l=c.shallow;(c=Object.assign({},c)).shallow=!1;let u=new Map;for(let f of l){let h=n(i,f);typeof h!="object"&&typeof h!="function"||u.set(h,h)}return a.clone(i,c,u)},a.base=function(i,c,l){if(l.prototype===!1)return a.needsProtoHack.has(c)?new c.constructor:c===s.array?[]:{};let u=Object.getPrototypeOf(i);if(u&&u.isImmutable)return i;if(c===s.array){let f=[];return u!==c&&Object.setPrototypeOf(f,u),f}if(a.needsProtoHack.has(c)){let f=new u.constructor;return u!==c&&Object.setPrototypeOf(f,u),f}return Object.create(u)}},9474:(e,t,j)=>{"use strict";let n=j(4277),s={mismatched:null};e.exports=function(o,a,i){return i=Object.assign({prototype:!0},i),!!s.isDeepEqual(o,a,i,[])},s.isDeepEqual=function(o,a,i,c){if(o===a)return o!==0||1/o==1/a;let l=typeof o;if(l!==typeof a||o===null||a===null)return!1;if(l==="function"){if(!i.deepFunction||o.toString()!==a.toString())return!1}else if(l!=="object")return o!=o&&a!=a;let u=s.getSharedType(o,a,!!i.prototype);switch(u){case n.buffer:return!1;case n.promise:return o===a;case n.regex:return o.toString()===a.toString();case s.mismatched:return!1}for(let f=c.length-1;f>=0;--f)if(c[f].isSame(o,a))return!0;c.push(new s.SeenEntry(o,a));try{return!!s.isDeepEqualObj(u,o,a,i,c)}finally{c.pop()}},s.getSharedType=function(o,a,i){if(i)return Object.getPrototypeOf(o)!==Object.getPrototypeOf(a)?s.mismatched:n.getInternalProto(o);let c=n.getInternalProto(o);return c!==n.getInternalProto(a)?s.mismatched:c},s.valueOf=function(o){let a=o.valueOf;if(a===void 0)return o;try{return a.call(o)}catch(i){return i}},s.hasOwnEnumerableProperty=function(o,a){return Object.prototype.propertyIsEnumerable.call(o,a)},s.isSetSimpleEqual=function(o,a){for(let i of Set.prototype.values.call(o))if(!Set.prototype.has.call(a,i))return!1;return!0},s.isDeepEqualObj=function(o,a,i,c,l){let{isDeepEqual:u,valueOf:f,hasOwnEnumerableProperty:h}=s,{keys:d,getOwnPropertySymbols:m}=Object;if(o===n.array){if(!c.part){if(a.length!==i.length)return!1;for(let q=0;q<a.length;++q)if(!u(a[q],i[q],c,l))return!1;return!0}for(let q of a)for(let y of i)if(u(q,y,c,l))return!0}else if(o===n.set){if(a.size!==i.size)return!1;if(!s.isSetSimpleEqual(a,i)){let q=new Set(Set.prototype.values.call(i));for(let y of Set.prototype.values.call(a)){if(q.delete(y))continue;let w=!1;for(let k of q)if(u(y,k,c,l)){q.delete(k),w=!0;break}if(!w)return!1}}}else if(o===n.map){if(a.size!==i.size)return!1;for(let[q,y]of Map.prototype.entries.call(a))if(y===void 0&&!Map.prototype.has.call(i,q)||!u(y,Map.prototype.get.call(i,q),c,l))return!1}else if(o===n.error&&(a.name!==i.name||a.message!==i.message))return!1;let b=f(a),B=f(i);if((a!==b||i!==B)&&!u(b,B,c,l))return!1;let _=d(a);if(!c.part&&_.length!==d(i).length&&!c.skip)return!1;let S=0;for(let q of _)if(c.skip&&c.skip.includes(q))i[q]===void 0&&++S;else if(!h(i,q)||!u(a[q],i[q],c,l))return!1;if(!c.part&&_.length-S!==d(i).length)return!1;if(c.symbols!==!1){let q=m(a),y=new Set(m(i));for(let w of q){if(!c.skip||!c.skip.includes(w)){if(h(a,w)){if(!h(i,w)||!u(a[w],i[w],c,l))return!1}else if(h(i,w))return!1}y.delete(w)}for(let w of y)if(h(i,w))return!1}return!0},s.SeenEntry=class{constructor(o,a){this.obj=o,this.ref=a}isSame(o,a){return this.obj===o&&this.ref===a}}},7916:(e,t,j)=>{"use strict";let n=j(8761);e.exports=class extends Error{constructor(s){super(s.filter(o=>o!=="").map(o=>typeof o=="string"?o:o instanceof Error?o.message:n(o)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,t.assert)}}},5277:e=>{"use strict";let t={};e.exports=function(j){if(!j)return"";let n="";for(let s=0;s<j.length;++s){let o=j.charCodeAt(s);t.isSafe(o)?n+=j[s]:n+=t.escapeHtmlChar(o)}return n},t.escapeHtmlChar=function(j){return t.namedHtml.get(j)||(j>=256?"&#"+j+";":`&#x${j.toString(16).padStart(2,"0")};`)},t.isSafe=function(j){return t.safeCharCodes.has(j)},t.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),t.safeCharCodes=function(){let j=new Set;for(let n=32;n<123;++n)(n>=97||n>=65&&n<=90||n>=48&&n<=57||n===32||n===46||n===44||n===45||n===58||n===95)&&j.add(n);return j}()},6064:e=>{"use strict";e.exports=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:e=>{"use strict";e.exports=function(){}},1687:(e,t,j)=>{"use strict";let n=j(375),s=j(8571),o=j(7043),a={};e.exports=a.merge=function(i,c,l){if(n(i&&typeof i=="object","Invalid target value: must be an object"),n(c==null||typeof c=="object","Invalid source value: must be null, undefined, or an object"),!c)return i;if(l=Object.assign({nullOverride:!0,mergeArrays:!0},l),Array.isArray(c)){n(Array.isArray(i),"Cannot merge array onto an object"),l.mergeArrays||(i.length=0);for(let f=0;f<c.length;++f)i.push(s(c[f],{symbols:l.symbols}));return i}let u=o.keys(c,l);for(let f=0;f<u.length;++f){let h=u[f];if(h==="__proto__"||!Object.prototype.propertyIsEnumerable.call(c,h))continue;let d=c[h];if(d&&typeof d=="object"){if(i[h]===d)continue;!i[h]||typeof i[h]!="object"||Array.isArray(i[h])!==Array.isArray(d)||d instanceof Date||d instanceof RegExp?i[h]=s(d,{symbols:l.symbols}):a.merge(i[h],d,l)}else(d!=null||l.nullOverride)&&(i[h]=d)}return i}},9621:(e,t,j)=>{"use strict";let n=j(375),s={};e.exports=function(o,a,i){if(a===!1||a==null)return o;typeof(i=i||{})=="string"&&(i={separator:i});let c=Array.isArray(a);n(!c||!i.separator,"Separator option is not valid for array-based chain");let l=c?a:a.split(i.separator||"."),u=o;for(let f=0;f<l.length;++f){let h=l[f],d=i.iterables&&s.iterables(u);if(Array.isArray(u)||d==="set"){let m=Number(h);Number.isInteger(m)&&(h=m<0?u.length+m:m)}if(!u||typeof u=="function"&&i.functions===!1||!d&&u[h]===void 0){n(!i.strict||f+1===l.length,"Missing segment",h,"in reach path ",a),n(typeof u=="object"||i.functions===!0||typeof u!="function","Invalid segment",h,"in reach path ",a),u=i.default;break}u=d?d==="set"?[...u][h]:u.get(h):u[h]}return u},s.iterables=function(o){return o instanceof Set?"set":o instanceof Map?"map":void 0}},8761:e=>{"use strict";e.exports=function(){try{return JSON.stringify(...arguments)}catch(t){return"[Cannot display object: "+t.message+"]"}}},4277:(e,t)=>{"use strict";let j={};t=e.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},j.typeMap=new Map([["[object Error]",t.error],["[object Map]",t.map],["[object Promise]",t.promise],["[object Set]",t.set],["[object WeakMap]",t.weakMap],["[object WeakSet]",t.weakSet]]),t.getInternalProto=function(n){if(Array.isArray(n))return t.array;if(n instanceof Date)return t.date;if(n instanceof RegExp)return t.regex;if(n instanceof Error)return t.error;let s=Object.prototype.toString.call(n);return j.typeMap.get(s)||t.generic}},7043:(e,t)=>{"use strict";t.keys=function(j){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).symbols!==!1?Reflect.ownKeys(j):Object.getOwnPropertyNames(j)}},3652:(e,t,j)=>{"use strict";let n=j(375),s={};t.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(o,a){let i=[].concat((a=a||{}).before||[]),c=[].concat(a.after||[]),l=a.group||"?",u=a.sort||0;n(!i.includes(l),`Item cannot come before itself: ${l}`),n(!i.includes("?"),"Item cannot come before unassociated items"),n(!c.includes(l),`Item cannot come after itself: ${l}`),n(!c.includes("?"),"Item cannot come after unassociated items"),Array.isArray(o)||(o=[o]);for(let f of o){let h={seq:this._items.length,sort:u,before:i,after:c,group:l,node:f};this._items.push(h)}if(!a.manual){let f=this._sort();n(f,"item",l!=="?"?`added into group ${l}`:"","created a dependencies error")}return this.nodes}merge(o){Array.isArray(o)||(o=[o]);for(let i of o)if(i)for(let c of i._items)this._items.push(Object.assign({},c));this._items.sort(s.mergeSort);for(let i=0;i<this._items.length;++i)this._items[i].seq=i;let a=this._sort();return n(a,"merge created a dependencies error"),this.nodes}sort(){let o=this._sort();return n(o,"sort created a dependencies error"),this.nodes}_sort(){let o={},a=Object.create(null),i=Object.create(null);for(let h of this._items){let d=h.seq,m=h.group;i[m]=i[m]||[],i[m].push(d),o[d]=h.before;for(let b of h.after)a[b]=a[b]||[],a[b].push(d)}for(let h in o){let d=[];for(let m in o[h]){let b=o[h][m];i[b]=i[b]||[],d.push(...i[b])}o[h]=d}for(let h in a)if(i[h])for(let d of i[h])o[d].push(...a[h]);let c={};for(let h in o){let d=o[h];for(let m of d)c[m]=c[m]||[],c[m].push(h)}let l={},u=[];for(let h=0;h<this._items.length;++h){let d=h;if(c[h]){d=null;for(let m=0;m<this._items.length;++m){if(l[m]===!0)continue;c[m]||(c[m]=[]);let b=c[m].length,B=0;for(let _=0;_<b;++_)l[c[m][_]]&&++B;if(B===b){d=m;break}}}d!==null&&(l[d]=!0,u.push(d))}if(u.length!==this._items.length)return!1;let f={};for(let h of this._items)f[h.seq]=h;this._items=[],this.nodes=[];for(let h of u){let d=f[h];this.nodes.push(d.node),this._items.push(d)}return!0}},s.mergeSort=(o,a)=>o.sort===a.sort?0:o.sort<a.sort?-1:1},5380:(e,t,j)=>{"use strict";let n=j(443),s=j(2178),o={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:n.URL||URL};t.analyze=function(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!a)return s.code("DOMAIN_NON_EMPTY_STRING");if(typeof a!="string")throw new Error("Invalid input: domain must be a string");if(a.length>256)return s.code("DOMAIN_TOO_LONG");if(!!o.nonAsciiRx.test(a)){if(i.allowUnicode===!1)return s.code("DOMAIN_INVALID_UNICODE_CHARS");a=a.normalize("NFC")}if(o.domainControlRx.test(a))return s.code("DOMAIN_INVALID_CHARS");a=o.punycode(a),i.allowFullyQualified&&a[a.length-1]==="."&&(a=a.slice(0,-1));let l=i.minDomainSegments||o.minDomainSegments,u=a.split(".");if(u.length<l)return s.code("DOMAIN_SEGMENTS_COUNT");if(i.maxDomainSegments&&u.length>i.maxDomainSegments)return s.code("DOMAIN_SEGMENTS_COUNT_MAX");let f=i.tlds;if(f){let h=u[u.length-1].toLowerCase();if(f.deny&&f.deny.has(h)||f.allow&&!f.allow.has(h))return s.code("DOMAIN_FORBIDDEN_TLDS")}for(let h=0;h<u.length;++h){let d=u[h];if(!d.length)return s.code("DOMAIN_EMPTY_SEGMENT");if(d.length>63)return s.code("DOMAIN_LONG_SEGMENT");if(h<u.length-1){if(!o.domainSegmentRx.test(d))return s.code("DOMAIN_INVALID_CHARS")}else if(!o.tldSegmentRx.test(d))return s.code("DOMAIN_INVALID_TLDS_CHARS")}return null},t.isValid=function(a,i){return!t.analyze(a,i)},o.punycode=function(a){a.includes("%")&&(a=a.replace(/%/g,"%25"));try{return new o.URL(`http://${a}`).host}catch{return a}}},1745:(e,t,j)=>{"use strict";let n=j(9848),s=j(5380),o=j(2178),a={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(n.TextEncoder||TextEncoder)};t.analyze=function(i,c){return a.email(i,c)},t.isValid=function(i,c){return!a.email(i,c)},a.email=function(i){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof i!="string")throw new Error("Invalid input: email must be a string");if(!i)return o.code("EMPTY_STRING");let l=!a.nonAsciiRx.test(i);if(!l){if(c.allowUnicode===!1)return o.code("FORBIDDEN_UNICODE");i=i.normalize("NFC")}let u=i.split("@");if(u.length!==2)return u.length>2?o.code("MULTIPLE_AT_CHAR"):o.code("MISSING_AT_CHAR");let[f,h]=u;if(!f)return o.code("EMPTY_LOCAL");if(!c.ignoreLength){if(i.length>254)return o.code("ADDRESS_TOO_LONG");if(a.encoder.encode(f).length>64)return o.code("LOCAL_TOO_LONG")}return a.local(f,l)||s.analyze(h,c)},a.local=function(i,c){let l=i.split(".");for(let u of l){if(!u.length)return o.code("EMPTY_LOCAL_SEGMENT");if(c){if(!a.atextRx.test(u))return o.code("INVALID_LOCAL_CHARS")}else for(let f of u){if(a.atextRx.test(f))continue;let h=a.binary(f);if(!a.atomRx.test(h))return o.code("INVALID_LOCAL_CHARS")}}},a.binary=function(i){return Array.from(a.encoder.encode(i)).map(c=>String.fromCharCode(c)).join("")},a.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,a.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(e,t)=>{"use strict";t.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},t.code=function(j){return{code:j,error:t.codes[j]}}},9959:(e,t,j)=>{"use strict";let n=j(375),s=j(5752);t.regex=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n(o.cidr===void 0||typeof o.cidr=="string","options.cidr must be a string");let a=o.cidr?o.cidr.toLowerCase():"optional";n(["required","optional","forbidden"].includes(a),"options.cidr must be one of required, optional, forbidden"),n(o.version===void 0||typeof o.version=="string"||Array.isArray(o.version),"options.version must be a string or an array of string");let i=o.version||["ipv4","ipv6","ipvfuture"];Array.isArray(i)||(i=[i]),n(i.length>=1,"options.version must have at least 1 version specified");for(let f=0;f<i.length;++f)n(typeof i[f]=="string","options.version must only contain strings"),i[f]=i[f].toLowerCase(),n(["ipv4","ipv6","ipvfuture"].includes(i[f]),"options.version contains unknown version "+i[f]+" - must be one of ipv4, ipv6, ipvfuture");i=Array.from(new Set(i));let c=i.map(f=>{if(a==="forbidden")return s.ip[f];let h=`\\/${f==="ipv4"?s.ip.v4Cidr:s.ip.v6Cidr}`;return a==="required"?`${s.ip[f]}${h}`:`${s.ip[f]}(?:${h})?`}),l=`(?:${c.join("|")})`,u=new RegExp(`^${l}$`);return{cidr:a,versions:i,regex:u,raw:l}}},5752:(e,t,j)=>{"use strict";let n=j(375),s=j(6064),o={generate:function(){let a={},i="!\\$&'\\(\\)\\*\\+,;=",c="\\w-\\.~%\\dA-Fa-f"+i+":@",l="["+c+"]",u="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";a.ipv4address="(?:"+u+"\\.){3}"+u;let f="[\\dA-Fa-f]{1,4}",h="(?:"+f+":"+f+"|"+a.ipv4address+")",d="(?:"+f+":){6}"+h,m="::(?:"+f+":){5}"+h,b="(?:"+f+")?::(?:"+f+":){4}"+h,B="(?:(?:"+f+":){0,1}"+f+")?::(?:"+f+":){3}"+h,_="(?:(?:"+f+":){0,2}"+f+")?::(?:"+f+":){2}"+h,S="(?:(?:"+f+":){0,3}"+f+")?::"+f+":"+h,q="(?:(?:"+f+":){0,4}"+f+")?::"+h;a.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",a.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",a.ipv6address="(?:"+d+"|"+m+"|"+b+"|"+B+"|"+_+"|"+S+"|"+q+"|(?:(?:[\\dA-Fa-f]{1,4}:){0,5}[\\dA-Fa-f]{1,4})?::[\\dA-Fa-f]{1,4}|(?:(?:[\\dA-Fa-f]{1,4}:){0,6}[\\dA-Fa-f]{1,4})?::)",a.ipvFuture="v[\\dA-Fa-f]+\\.[\\w-\\.~"+i+":]+",a.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",a.schemeRegex=new RegExp(a.scheme);let y="[\\w-\\.~%\\dA-Fa-f"+i+":]*",w="(?:\\[(?:"+a.ipv6address+"|"+a.ipvFuture+")\\]|"+a.ipv4address+"|[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=]{1,255})",k="(?:"+y+"@)?"+w+"(?::\\d*)?",R="(?:"+y+"@)?("+w+")(?::\\d*)?",H=l+"+",K="(?:\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",Z="\\/(?:"+H+K+")?",F=H+K,p="[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+"+K;return a.hierPart="(?:(?:\\/\\/"+k+K+")|"+Z+"|"+F+"|(?:\\/\\/\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*(?:\\/[\\w-\\.~%\\dA-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*))",a.hierPartCapture="(?:(?:\\/\\/"+R+K+")|"+Z+"|"+F+")",a.relativeRef="(?:(?:\\/\\/"+k+K+")|"+Z+"|"+p+"|)",a.relativeRefCapture="(?:(?:\\/\\/"+R+K+")|"+Z+"|"+p+"|)",a.query="["+c+"\\/\\?]*(?=#|$)",a.queryWithSquareBrackets="["+c+"\\[\\]\\/\\?]*(?=#|$)",a.fragment="["+c+"\\/\\?]*",a}};o.rfc3986=o.generate(),t.ip={v4Cidr:o.rfc3986.ipv4Cidr,v6Cidr:o.rfc3986.ipv6Cidr,ipv4:o.rfc3986.ipv4address,ipv6:o.rfc3986.ipv6address,ipvfuture:o.rfc3986.ipvFuture},o.createRegex=function(a){let i=o.rfc3986,c="(?:\\?"+(a.allowQuerySquareBrackets?i.queryWithSquareBrackets:i.query)+")?(?:#"+i.fragment+")?",l=a.domain?i.relativeRefCapture:i.relativeRef;if(a.relativeOnly)return o.wrap(l+c);let u="";if(a.scheme){n(a.scheme instanceof RegExp||typeof a.scheme=="string"||Array.isArray(a.scheme),"scheme must be a RegExp, String, or Array");let d=[].concat(a.scheme);n(d.length>=1,"scheme must have at least 1 scheme specified");let m=[];for(let b=0;b<d.length;++b){let B=d[b];n(B instanceof RegExp||typeof B=="string","scheme at position "+b+" must be a RegExp or String"),B instanceof RegExp?m.push(B.source.toString()):(n(i.schemeRegex.test(B),"scheme at position "+b+" must be a valid scheme"),m.push(s(B)))}u=m.join("|")}let f="(?:"+(u?"(?:"+u+")":i.scheme)+":"+(a.domain?i.hierPartCapture:i.hierPart)+")",h=a.allowRelative?"(?:"+f+"|"+l+")":f;return o.wrap(h+c,u)},o.wrap=function(a,i){return{raw:a=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${a}`,regex:new RegExp(`^${a}$`),scheme:i}},o.uriRegex=o.createRegex({}),t.regex=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a.scheme||a.allowRelative||a.relativeOnly||a.allowQuerySquareBrackets||a.domain?o.createRegex(a):o.uriRegex}},1447:(e,t)=>{"use strict";let j={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*\.?[0-9]*){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};t.Parser=class{constructor(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!s[j.settings]&&s.constants)for(let o in s.constants){let a=s.constants[o];if(a!==null&&!["boolean","number","string"].includes(typeof a))throw new Error(`Formula constant ${o} contains invalid ${typeof a} value type`)}this.settings=s[j.settings]?s:Object.assign({[j.settings]:!0,constants:{},functions:{}},s),this.single=null,this._parts=null,this._parse(n)}_parse(n){let s=[],o="",a=0,i=!1,c=u=>{if(a)throw new Error("Formula missing closing parenthesis");let f=s.length?s[s.length-1]:null;if(i||o||u){if(f&&f.type==="reference"&&u===")")return f.type="function",f.value=this._subFormula(o,f.value),void(o="");if(u===")"){let h=new t.Parser(o,this.settings);s.push({type:"segment",value:h})}else if(i){if(i==="]")return s.push({type:"reference",value:o}),void(o="");s.push({type:"literal",value:o})}else if(j.operatorCharacters.includes(o))f&&f.type==="operator"&&j.operators.includes(f.value+o)?f.value+=o:s.push({type:"operator",value:o});else if(o.match(j.numberRx))s.push({type:"constant",value:parseFloat(o)});else if(this.settings.constants[o]!==void 0)s.push({type:"constant",value:this.settings.constants[o]});else{if(!o.match(j.tokenRx))throw new Error(`Formula contains invalid token: ${o}`);s.push({type:"reference",value:o})}o=""}};for(let u of n)i?u===i?(c(),i=!1):o+=u:a?u==="("?(o+=u,++a):u===")"?(--a,a?o+=u:c(u)):o+=u:u in j.literals?i=j.literals[u]:u==="("?(c(),++a):j.operatorCharacters.includes(u)?(c(),o=u,c()):u!==" "?o+=u:c();c(),s=s.map((u,f)=>u.type!=="operator"||u.value!=="-"||f&&s[f-1].type!=="operator"?u:{type:"operator",value:"n"});let l=!1;for(let u of s){if(u.type==="operator"){if(j.operatorsPrefix.includes(u.value))continue;if(!l)throw new Error("Formula contains an operator in invalid position");if(!j.operators.includes(u.value))throw new Error(`Formula contains an unknown operator ${u.value}`)}else if(l)throw new Error("Formula missing expected operator");l=!l}if(!l)throw new Error("Formula contains invalid trailing operator");s.length===1&&["reference","literal","constant"].includes(s[0].type)&&(this.single={type:s[0].type==="reference"?"reference":"value",value:s[0].value}),this._parts=s.map(u=>{if(u.type==="operator")return j.operatorsPrefix.includes(u.value)?u:u.value;if(u.type!=="reference")return u.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(u.value))throw new Error(`Formula contains invalid reference ${u.value}`);return this.settings.reference?this.settings.reference(u.value):j.reference(u.value)})}_subFormula(n,s){let o=this.settings.functions[s];if(typeof o!="function")throw new Error(`Formula contains unknown function ${s}`);let a=[];if(n){let i="",c=0,l=!1,u=()=>{if(!i)throw new Error(`Formula contains function ${s} with invalid arguments ${n}`);a.push(i),i=""};for(let f=0;f<n.length;++f){let h=n[f];l?(i+=h,h===l&&(l=!1)):h in j.literals&&!c?(i+=h,l=j.literals[h]):h!==","||c?(i+=h,h==="("?++c:h===")"&&--c):u()}u()}return a=a.map(i=>new t.Parser(i,this.settings)),function(i){let c=[];for(let l of a)c.push(l.evaluate(i));return o.call(i,...c)}}evaluate(n){let s=this._parts.slice();for(let o=s.length-2;o>=0;--o){let a=s[o];if(a&&a.type==="operator"){let i=s[o+1];s.splice(o+1,1);let c=j.evaluate(i,n);s[o]=j.single(a.value,c)}}return j.operatorsOrder.forEach(o=>{for(let a=1;a<s.length-1;)if(o.includes(s[a])){let i=s[a],c=j.evaluate(s[a-1],n),l=j.evaluate(s[a+1],n);s.splice(a,2);let u=j.calculate(i,c,l);s[a-1]=u===0?0:u}else a+=2}),j.evaluate(s[0],n)}},t.Parser.prototype[j.symbol]=!0,j.reference=function(n){return function(s){return s&&s[n]!==void 0?s[n]:null}},j.evaluate=function(n,s){return n===null?null:typeof n=="function"?n(s):n[j.symbol]?n.evaluate(s):n},j.single=function(n,s){if(n==="!")return!s;let o=-s;return o===0?0:o},j.calculate=function(n,s,o){if(n==="??")return j.exists(s)?s:o;if(typeof s=="string"||typeof o=="string"){if(n==="+")return(s=j.exists(s)?s:"")+(j.exists(o)?o:"")}else switch(n){case"^":return Math.pow(s,o);case"*":return s*o;case"/":return s/o;case"%":return s%o;case"+":return s+o;case"-":return s-o}switch(n){case"<":return s<o;case"<=":return s<=o;case">":return s>o;case">=":return s>=o;case"==":return s===o;case"!=":return s!==o;case"&&":return s&&o;case"||":return s||o}return null},j.exists=function(n){return n!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:e=>{"use strict";e.exports={version:"17.7.0"}}},A={},function e(t){var j=A[t];if(j!==void 0)return j.exports;var n=A[t]={exports:{}};return r[t](n,n.exports,e),n.exports}(5107);var r,A})});var Z6="./nucypher_core_wasm_bg-U4ZPTMX6.wasm";var Je=new Array(32).fill(void 0);Je.push(void 0,null,!0,!1);function pA(r){return Je[r]}var is=Je.length;function Sg(r){r<36||(Je[r]=is,is=r)}function bA(r){let A=pA(r);return Sg(r),A}var Pg=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder,Y6=new Pg("utf-8",{ignoreBOM:!0,fatal:!0});Y6.decode();var ya=new Uint8Array;function jn(){return ya.byteLength===0&&(ya=new Uint8Array(as.buffer)),ya}function FA(r,A){return Y6.decode(jn().subarray(r,r+A))}function xA(r){is===Je.length&&Je.push(Je.length+1);let A=is;return is=Je[A],Je[A]=r,A}var wA=0,Fg=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder,li=new Fg("utf-8"),Gg=typeof li.encodeInto=="function"?function(r,A){return li.encodeInto(r,A)}:function(r,A){let e=li.encode(r);return A.set(e),{read:r.length,written:e.length}};function nn(r,A,e){if(e===void 0){let o=li.encode(r),a=A(o.length);return jn().subarray(a,a+o.length).set(o),wA=o.length,a}let t=r.length,j=A(t),n=jn(),s=0;for(;s<t;s++){let o=r.charCodeAt(s);if(o>127)break;n[j+s]=o}if(s!==t){s!==0&&(r=r.slice(s)),j=e(j,t,t=s+r.length*3);let o=jn().subarray(j+s,j+t),a=Gg(r,o);s+=a.written}return wA=s,j}function va(r){return r==null}var Ba=new Int32Array;function D(){return Ba.byteLength===0&&(Ba=new Int32Array(as.buffer)),Ba}var xa=new Float64Array;function Mg(){return xa.byteLength===0&&(xa=new Float64Array(as.buffer)),xa}function _a(r){let A=typeof r;if(A=="number"||A=="boolean"||r==null)return`${r}`;if(A=="string")return`"${r}"`;if(A=="symbol"){let j=r.description;return j==null?"Symbol":`Symbol(${j})`}if(A=="function"){let j=r.name;return typeof j=="string"&&j.length>0?`Function(${j})`:"Function"}if(Array.isArray(r)){let j=r.length,n="[";j>0&&(n+=_a(r[0]));for(let s=1;s<j;s++)n+=", "+_a(r[s]);return n+="]",n}let e=/\[object ([^\]]+)\]/.exec(toString.call(r)),t;if(e.length>1)t=e[1];else return toString.call(r);if(t=="Object")try{return"Object("+JSON.stringify(r)+")"}catch{return"Object"}return r instanceof Error?`${r.name}: ${r.message}
${r.stack}`:t}function ue(r,A){let e=A(r.length*1);return jn().set(r,e/1),wA=r.length,e}function _e(r,A){return jn().subarray(r/1,r/1+A)}function iA(r,A){if(!(r instanceof A))throw new Error(`expected instance of ${A.name}`);return r.ptr}var Hr=32;function os(r){if(Hr==1)throw new Error("out of js stack");return Je[--Hr]=r,Hr}function Af(r,A,e,t,j,n,s){iA(r,he),iA(A,cA),iA(e,Xe);let o=pu(r.ptr,A.ptr,e.ptr,t,j,n,s);return bA(o)}function Qt(r,A){try{return r.apply(this,A)}catch(e){yu(xA(e))}}var ct=class{static __wrap(A){let e=Object.create(ct.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();nl(A)}__getClassname(){try{let t=z(-16);jl(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}constructor(A){try{let n=z(-16),s=ue(A,qA);sl(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return ct.__wrap(e)}finally{z(16)}}toBytes(){try{let j=z(-16);il(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}equals(A){return iA(A,ct),ol(this.ptr,A.ptr)!==0}},St=class{static __wrap(A){let e=Object.create(St.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();Q0(A)}__getClassname(){try{let t=z(-16);X0(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}toBytes(){try{let j=z(-16);Z0(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);Y0(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return St.__wrap(e)}finally{z(16)}}toString(){try{let t=z(-16);Au(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}equals(A){return iA(A,St),eu(this.ptr,A.ptr)!==0}},zr=class{static __wrap(A){let e=Object.create(zr.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();tu(A)}verify(A,e,t,j){try{let a=this.__destroy_into_raw(),i=z(-16);iA(A,St),iA(e,cA),iA(t,cA),iA(j,cA),ru(i,a,A.ptr,e.ptr,t.ptr,j.ptr);var n=D()[i/4+0],s=D()[i/4+1],o=D()[i/4+2];if(o)throw bA(s);return Jr.__wrap(n)}finally{z(16)}}toBytes(){try{let j=z(-16);Ea(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);ju(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return zr.__wrap(e)}finally{z(16)}}toString(){try{let t=z(-16);nu(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}equals(A){return iA(A,zr),su(this.ptr,A.ptr)!==0}},Jt=class{static __wrap(A){let e=Object.create(Jt.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();Al(A)}__getClassname(){try{let t=z(-16);Yf(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}constructor(A){let e=nn(A,qA,Sj),j=el(e,wA);return Jt.__wrap(j)}static fromBytes(A){let e=nn(A,qA,Sj),j=tl(e,wA);return Jt.__wrap(j)}toString(){try{let t=z(-16);rl(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}};var Vr=class{static __wrap(A){let e=Object.create(Vr.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();xl(A)}__getClassname(){try{let t=z(-16);Bl(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}constructor(A,e,t,j){iA(A,Xe),iA(e,cA),iA(t,We),iA(j,br);let n=vl(A.ptr,e.ptr,t.ptr,j.ptr);return Vr.__wrap(n)}decrypt(A,e,t){try{let o=z(-16);iA(A,he),iA(e,We),iA(t,cA),_l(o,this.ptr,A.ptr,e.ptr,t.ptr);var j=D()[o/4+0],n=D()[o/4+1],s=D()[o/4+2];if(s)throw bA(n);return br.__wrap(j)}finally{z(16)}}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);wl(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return Vr.__wrap(e)}finally{z(16)}}toBytes(){try{let j=z(-16);El(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}},Pt=class{static __wrap(A){let e=Object.create(Pt.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();g0(A)}decrypt(A,e){try{let s=z(-16);iA(A,he),iA(e,cA),Cl(s,this.ptr,A.ptr,e.ptr);var t=D()[s/4+0],j=D()[s/4+1],n=D()[s/4+2];if(n)throw bA(j);return Xt.__wrap(t)}finally{z(16)}}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);Tl(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return Pt.__wrap(e)}finally{z(16)}}toBytes(){try{let j=z(-16);Nl(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}};var We=class{static __wrap(A){let e=Object.create(We.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();pl(A)}constructor(A,e,t){iA(A,cA),iA(e,cA);let j=ue(t,qA),n=wA,s=ml(A.ptr,e.ptr,j,n);return We.__wrap(s)}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);gl(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return We.__wrap(e)}finally{z(16)}}toBytes(){try{let j=z(-16);bl(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}toString(){try{let t=z(-16);yl(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}};var Wt=class{static __wrap(A){let e=Object.create(Wt.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();al(A)}constructor(A,e,t){try{let o=z(-16);iA(A,cA);let a=ue(e,qA),i=wA;cl(o,A.ptr,a,i,os(t));var j=D()[o/4+0],n=D()[o/4+1],s=D()[o/4+2];if(s)throw bA(n);return Wt.__wrap(j)}finally{z(16),Je[Hr++]=void 0}}decrypt(A){try{let o=z(-16);iA(A,he),fl(o,this.ptr,A.ptr);var e=D()[o/4+0],t=D()[o/4+1],j=D()[o/4+2],n=D()[o/4+3];if(n)throw bA(j);var s=_e(e,t).slice();return fA(e,t*1),s}finally{z(16)}}get capsule(){let A=wa(this.ptr);return St.__wrap(A)}get conditions(){let A=ll(this.ptr);return A===0?void 0:Jt.__wrap(A)}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);ul(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return Wt.__wrap(e)}finally{z(16)}}toBytes(){try{let j=z(-16);dl(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}decryptReencrypted(A,e,t){try{let i=z(-16);iA(A,he),iA(e,cA),hl(i,this.ptr,A.ptr,e.ptr,os(t));var j=D()[i/4+0],n=D()[i/4+1],s=D()[i/4+2],o=D()[i/4+3];if(o)throw bA(s);var a=_e(j,n).slice();return fA(j,n*1),a}finally{z(16),Je[Hr++]=void 0}}};var qj=class{static __wrap(A){let e=Object.create(qj.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();l0(A)}__getClassname(){try{let t=z(-16);f0(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}constructor(A,e){iA(A,Xe),iA(e,Oj);let t=u0(A.ptr,e.ptr);return qj.__wrap(t)}verify(){return d0(this.ptr)!==0}get payload(){let A=h0(this.ptr);return Oj.__wrap(A)}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);p0(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return qj.__wrap(e)}finally{z(16)}}toBytes(){try{let j=z(-16);m0(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}},Oj=class{static __wrap(A){let e=Object.create(Oj.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();Yl(A)}constructor(A,e,t,j,n,s,o,a,i){try{let f=z(-16);iA(A,ct);let h=nn(e,qA,Sj),d=wA;iA(j,cA),iA(n,cA);let m=ue(s,qA),b=wA,B=nn(o,qA,Sj),_=wA;A0(f,A.ptr,h,d,t,j.ptr,n.ptr,m,b,B,_,a,xA(i));var c=D()[f/4+0],l=D()[f/4+1],u=D()[f/4+2];if(u)throw bA(l);return Oj.__wrap(c)}finally{z(16)}}get staking_provider_address(){let A=e0(this.ptr);return ct.__wrap(A)}get verifyingKey(){let A=t0(this.ptr);return cA.__wrap(A)}get encryptingKey(){let A=r0(this.ptr);return cA.__wrap(A)}get operator_signature(){try{let t=z(-16);j0(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];let j;return A!==0&&(j=_e(A,e).slice(),fA(A,e*1)),j}finally{z(16)}}get domain(){try{let t=z(-16);n0(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}get host(){try{let t=z(-16);s0(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}get port(){return i0(this.ptr)}get timestampEpoch(){return o0(this.ptr)>>>0}get certificate_der(){try{let j=z(-16);a0(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}deriveOperatorAddress(){try{let j=z(-16);c0(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=D()[j/4+2];if(t)throw bA(e);return ct.__wrap(A)}finally{z(16)}}},cA=class{static __wrap(A){let e=Object.create(cA.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();F0(A)}__getClassname(){try{let t=z(-16);P0(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}toBytes(){try{let j=z(-16);G0(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);M0(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return cA.__wrap(e)}finally{z(16)}}toString(){try{let t=z(-16);R0(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}equals(A){return iA(A,cA),C0(this.ptr,A.ptr)!==0}};var gr=class{static __wrap(A){let e=Object.create(gr.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();Dl(A)}constructor(A,e,t){try{let o=z(-16);iA(A,St),Ul(o,A.ptr,os(e),os(t));var j=D()[o/4+0],n=D()[o/4+1],s=D()[o/4+2];if(s)throw bA(n);return gr.__wrap(j)}finally{z(16),Je[Hr++]=void 0,Je[Hr++]=void 0}}static fromMessageKit(A){iA(A,Wt);let e=Ll(A.ptr);return gr.__wrap(e)}get capsule(){let A=wa(this.ptr);return St.__wrap(A)}get queriedAddresses(){let A=Kl(this.ptr);return bA(A)}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);Hl(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return gr.__wrap(e)}finally{z(16)}}toBytes(){try{let j=z(-16);zl(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}get conditions(){let A=Vl(this.ptr);return A===0?void 0:Jt.__wrap(A)}},$j=class{static __wrap(A){let e=Object.create($j.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();Jl(A)}constructor(A,e,t){try{let o=z(-16);iA(A,Xe),iA(e,ct),iA(t,Vr),Wl(o,A.ptr,e.ptr,t.ptr);var j=D()[o/4+0],n=D()[o/4+1],s=D()[o/4+2];if(s)throw bA(n);return $j.__wrap(j)}finally{z(16)}}verify(A){try{let n=z(-16);iA(A,cA),Xl(n,this.ptr,A.ptr);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return bA(e)}finally{z(16)}}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);Ql(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return $j.__wrap(e)}finally{z(16)}}toBytes(){try{let j=z(-16);Zl(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}},he=class{static __wrap(A){let e=Object.create(he.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();b0(A)}static random(){let A=y0();return he.__wrap(A)}publicKey(){let A=B0(this.ptr);return cA.__wrap(A)}toSecretBytes(){try{let j=z(-16);x0(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);v0(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return he.__wrap(e)}finally{z(16)}}toString(){try{let t=z(-16);_0(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}},Vt=class{static __wrap(A){let e=Object.create(Vt.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();w0(A)}static random(){let A=E0();return Vt.__wrap(A)}static seedSize(){return bu()>>>0}static fromSecureRandomness(A){try{let n=z(-16),s=ue(A,qA);k0(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return Vt.__wrap(e)}finally{z(16)}}makeKey(A){let e=ue(A,qA),t=wA,j=q0(this.ptr,e,t);return he.__wrap(j)}makeFactory(A){let e=ue(A,qA),t=wA,j=$0(this.ptr,e,t);return Vt.__wrap(j)}toSecretBytes(){try{let j=z(-16);I0(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);O0(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return Vt.__wrap(e)}finally{z(16)}}toString(){try{let t=z(-16);S0(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}},Ij=class{static __wrap(A){let e=Object.create(Ij.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();K0(A)}verify(A,e){iA(A,cA);let t=ue(e,qA),j=wA;return H0(this.ptr,A.ptr,t,j)!==0}toBytes(){try{let j=z(-16);z0(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);V0(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return Ij.__wrap(e)}finally{z(16)}}toString(){try{let t=z(-16);J0(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}equals(A){return iA(A,Ij),W0(this.ptr,A.ptr)!==0}},Xe=class{static __wrap(A){let e=Object.create(Xe.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();T0(A)}constructor(A){iA(A,he);let e=N0(A.ptr);return Xe.__wrap(e)}sign(A){let e=ue(A,qA),t=wA,j=D0(this.ptr,e,t);return Ij.__wrap(j)}verifyingKey(){let A=U0(this.ptr);return cA.__wrap(A)}toString(){try{let t=z(-16);L0(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}},Xt=class{static __wrap(A){let e=Object.create(Xt.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();kl(A)}constructor(A,e,t,j,n){try{let i=z(-16);iA(A,Xe),iA(e,We),iA(t,cA),ql(i,A.ptr,e.ptr,t.ptr,os(j),n);var s=D()[i/4+0],o=D()[i/4+1],a=D()[i/4+2];if(a)throw bA(o);return Xt.__wrap(s)}finally{z(16),Je[Hr++]=void 0}}encrypt(A,e){iA(A,Xe),iA(e,cA);let t=$l(this.ptr,A.ptr,e.ptr);return Pt.__wrap(t)}get destinations(){let A=Il(this.ptr);return bA(A)}makeRevocationOrders(A){iA(A,Xe);let e=Ol(this.ptr,A.ptr);return bA(e)}get hrac(){let A=Sl(this.ptr);return We.__wrap(A)}get threshold(){return Pl(this.ptr)}get policyEncryptingKey(){let A=Fl(this.ptr);return cA.__wrap(A)}get publisherVerifyingKey(){let A=Gl(this.ptr);return cA.__wrap(A)}static fromBytes(A){try{let n=z(-16),s=ue(A,qA);Ml(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return Xt.__wrap(e)}finally{z(16)}}toBytes(){try{let j=z(-16);Rl(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}},Jr=class{static __wrap(A){let e=Object.create(Jr.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();mu(A)}__getClassname(){try{let t=z(-16);iu(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}static fromVerifiedBytes(A){try{let n=z(-16),s=ue(A,qA);ou(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return Jr.__wrap(e)}finally{z(16)}}toBytes(){try{let j=z(-16);Ea(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}toString(){try{let t=z(-16);au(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}equals(A){return iA(A,Jr),cu(this.ptr,A.ptr)!==0}},br=class{static __wrap(A){let e=Object.create(br.prototype);return e.ptr=A,e}__destroy_into_raw(){let A=this.ptr;return this.ptr=0,A}free(){let A=this.__destroy_into_raw();gu(A)}__getClassname(){try{let t=z(-16);fu(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}static fromVerifiedBytes(A){try{let n=z(-16),s=ue(A,qA);lu(n,s,wA);var e=D()[n/4+0],t=D()[n/4+1],j=D()[n/4+2];if(j)throw bA(t);return br.__wrap(e)}finally{z(16)}}toBytes(){try{let j=z(-16);uu(j,this.ptr);var A=D()[j/4+0],e=D()[j/4+1],t=_e(A,e).slice();return fA(A,e*1),t}finally{z(16)}}toString(){try{let t=z(-16);du(t,this.ptr);var A=D()[t/4+0],e=D()[t/4+1];return FA(A,e)}finally{z(16),fA(A,e)}}equals(A){return iA(A,br),hu(this.ptr,A.ptr)!==0}};function ef(r){let A=ct.__wrap(r);return xA(A)}function tf(r){let A=Vr.__wrap(r);return xA(A)}function rf(r){bA(r)}function jf(r){return pA(r)===null}function nf(r){let A=pA(r);return typeof A=="object"&&A!==null}function sf(r,A){let e=FA(r,A);return xA(e)}function of(r){return pA(r)===void 0}function af(r){return typeof pA(r)=="function"}function cf(r,A){let e=pA(A),t=typeof e=="string"?e:void 0;var j=va(t)?0:nn(t,qA,Sj),n=wA;D()[r/4+1]=n,D()[r/4+0]=j}function ff(r,A){let e=pA(A),t=typeof e=="number"?e:void 0;Mg()[r/8+1]=va(t)?0:t,D()[r/4+0]=!va(t)}function lf(r){let A=$j.__wrap(r);return xA(A)}function uf(r){let A=qj.__wrap(r);return xA(A)}function df(r){let A=St.__wrap(r);return xA(A)}function hf(r){let A=br.__wrap(r);return xA(A)}function pf(r){let A=Jr.__wrap(r);return xA(A)}function mf(){return Qt(function(r,A,e){pA(r).randomFillSync(_e(A,e))},arguments)}function gf(){return Qt(function(r,A){pA(r).getRandomValues(pA(A))},arguments)}function bf(r){let A=pA(r).process;return xA(A)}function yf(r){let A=pA(r).versions;return xA(A)}function Bf(r){let A=pA(r).node;return xA(A)}function xf(r){return typeof pA(r)=="string"}function vf(){let r=module;return xA(r)}function _f(){return Qt(function(r,A,e){let t=pA(r).require(FA(A,e));return xA(t)},arguments)}function wf(r){let A=pA(r).crypto;return xA(A)}function Ef(r){let A=pA(r).msCrypto;return xA(A)}function kf(r,A){let e=pA(r)[A>>>0];return xA(e)}function qf(r){return pA(r).length}function $f(){let r=new Array;return xA(r)}function If(r,A){let e=new Function(FA(r,A));return xA(e)}function Of(){return Qt(function(r,A){let e=Reflect.get(pA(r),pA(A));return xA(e)},arguments)}function Sf(){return Qt(function(r,A){let e=pA(r).call(pA(A));return xA(e)},arguments)}function Pf(r){let A=pA(r);return xA(A)}function Ff(){return Qt(function(){let r=self.self;return xA(r)},arguments)}function Gf(){return Qt(function(){let r=window.window;return xA(r)},arguments)}function Mf(){return Qt(function(){let r=globalThis.globalThis;return xA(r)},arguments)}function Rf(){return Qt(function(){let r=global.global;return xA(r)},arguments)}function Cf(r){return Array.isArray(pA(r))}function Tf(r,A){return pA(r).push(pA(A))}function Nf(r,A){let e=new Error(FA(r,A));return xA(e)}function Df(r){let A=pA(r).buffer;return xA(A)}function Uf(r,A,e){let t=new Uint8Array(pA(r),A>>>0,e>>>0);return xA(t)}function Lf(r){let A=new Uint8Array(pA(r));return xA(A)}function Kf(r,A,e){pA(r).set(pA(A),e>>>0)}function Hf(r){return pA(r).length}function zf(r){let A;try{A=pA(r)instanceof Uint8Array}catch{A=!1}return A}function Vf(r){let A=new Uint8Array(r>>>0);return xA(A)}function Jf(r,A,e){let t=pA(r).subarray(A>>>0,e>>>0);return xA(t)}function Wf(){return Qt(function(r,A,e){let t=Reflect.apply(pA(r),pA(A),pA(e));return xA(t)},arguments)}function Xf(r,A){let e=_a(pA(A)),t=nn(e,qA,Sj),j=wA;D()[r/4+1]=j,D()[r/4+0]=t}function Qf(r,A){throw new Error(FA(r,A))}function Zf(){return xA(as)}var Fb={["./nucypher_core_wasm_bg.js"]:{__wbg_address_new:ef,__wbg_encryptedkeyfrag_new:tf,__wbindgen_object_drop_ref:rf,__wbindgen_is_null:jf,__wbindgen_is_object:nf,__wbindgen_string_new:sf,__wbindgen_is_undefined:of,__wbindgen_is_function:af,__wbindgen_string_get:cf,__wbindgen_number_get:ff,__wbg_revocationorder_new:lf,__wbg_nodemetadata_new:uf,__wbg_capsule_new:df,__wbg_verifiedkeyfrag_new:hf,__wbg_verifiedcapsulefrag_new:pf,__wbg_randomFillSync_065afffde01daa66:mf,__wbg_getRandomValues_b99eec4244a475bb:gf,__wbg_process_0cc2ada8524d6f83:bf,__wbg_versions_c11acceab27a6c87:yf,__wbg_node_7ff1ce49caf23815:Bf,__wbindgen_is_string:xf,__wbg_static_accessor_NODE_MODULE_cf6401cc1091279e:vf,__wbg_require_a746e79b322b9336:_f,__wbg_crypto_2036bed7c44c25e7:wf,__wbg_msCrypto_a21fc88caf1ecdc8:Ef,__wbg_get_57245cc7d7c7619d:kf,__wbg_length_6e3bbe7c8bd4dbd8:qf,__wbg_new_1d9a920c6bfc44a8:$f,__wbg_newnoargs_b5b063fc6c2f0376:If,__wbg_get_765201544a2b6869:Of,__wbg_call_97ae9d8645dc388b:Sf,__wbindgen_object_clone_ref:Pf,__wbg_self_6d479506f72c6a71:Ff,__wbg_window_f2557cc78490aceb:Gf,__wbg_globalThis_7f206bda628d5286:Mf,__wbg_global_ba75c50d1cf384f4:Rf,__wbg_isArray_27c46c67f498e15d:Cf,__wbg_push_740e4b286702d964:Tf,__wbg_new_8d2af00bc1e329ee:Nf,__wbg_buffer_3f3d764d4747d564:Df,__wbg_newwithbyteoffsetandlength_d9aa266703cb98be:Uf,__wbg_new_8c3f0052272a457a:Lf,__wbg_set_83db9690f9353e79:Kf,__wbg_length_9e1ae1900cb0fbd5:Hf,__wbg_instanceof_Uint8Array_971eeda69eb75003:zf,__wbg_newwithlength_f5933855e4f48a19:Vf,__wbg_subarray_58ad4efbb5bcb886:Jf,__wbg_apply_75f7334893eef4ad:Wf,__wbindgen_debug_string:Xf,__wbindgen_throw:Qf,__wbindgen_memory:Zf}};async function Gb(r,A){if(typeof r=="string"){r.startsWith("./")&&(r=new URL(r,import.meta.url).href);let e=await fetch(r);if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,A)}catch(t){if(e.headers.get("Content-Type")!="application/wasm")console.warn(t);else throw t}r=await e.arrayBuffer()}return await WebAssembly.instantiate(r,A)}var{instance:T,module:lw}=await Gb(Z6,Fb),as=T.exports.memory,Yf=T.exports.conditions___getClassname,Al=T.exports.__wbg_conditions_free,el=T.exports.conditions_new,tl=T.exports.conditions_fromBytes,rl=T.exports.conditions_toString,Rg=T.exports.context___getClassname,Cg=T.exports.context_new,Tg=T.exports.context_fromBytes,Ng=T.exports.context_toString,jl=T.exports.address___getClassname,nl=T.exports.__wbg_address_free,sl=T.exports.address_new,il=T.exports.address_toBytes,ol=T.exports.address_equals,al=T.exports.__wbg_messagekit_free,cl=T.exports.messagekit_new,fl=T.exports.messagekit_decrypt,wa=T.exports.messagekit_capsule,ll=T.exports.messagekit_conditions,ul=T.exports.messagekit_fromBytes,dl=T.exports.messagekit_toBytes,hl=T.exports.messagekit_decryptReencrypted,pl=T.exports.__wbg_hrac_free,ml=T.exports.hrac_new,gl=T.exports.hrac_fromBytes,bl=T.exports.hrac_toBytes,yl=T.exports.hrac_toString,Bl=T.exports.encryptedkeyfrag___getClassname,xl=T.exports.__wbg_encryptedkeyfrag_free,vl=T.exports.encryptedkeyfrag_new,_l=T.exports.encryptedkeyfrag_decrypt,wl=T.exports.encryptedkeyfrag_fromBytes,El=T.exports.encryptedkeyfrag_toBytes,kl=T.exports.__wbg_treasuremap_free,ql=T.exports.treasuremap_new,$l=T.exports.treasuremap_encrypt,Il=T.exports.treasuremap_destinations,Ol=T.exports.treasuremap_makeRevocationOrders,Sl=T.exports.treasuremap_hrac,Pl=T.exports.treasuremap_threshold,Fl=T.exports.treasuremap_policyEncryptingKey,Gl=T.exports.treasuremap_publisherVerifyingKey,Ml=T.exports.treasuremap_fromBytes,Rl=T.exports.treasuremap_toBytes,Cl=T.exports.encryptedtreasuremap_decrypt,Tl=T.exports.encryptedtreasuremap_fromBytes,Nl=T.exports.encryptedtreasuremap_toBytes,Dg=T.exports.__wbg_reencryptionrequest_free,Ug=T.exports.reencryptionrequest_new,Lg=T.exports.reencryptionrequest_hrac,Kg=T.exports.reencryptionrequest_publisherVerifyingKey,Hg=T.exports.reencryptionrequest_bobVerifyingKey,zg=T.exports.reencryptionrequest_encryptedKfrag,Vg=T.exports.reencryptionrequest_capsules,Jg=T.exports.reencryptionrequest_fromBytes,Wg=T.exports.reencryptionrequest_toBytes,Xg=T.exports.reencryptionrequest_conditions,Qg=T.exports.reencryptionrequest_context,Zg=T.exports.__wbg_reencryptionresponse_free,Yg=T.exports.reencryptionresponse_new,Ab=T.exports.reencryptionresponse_fromBytes,eb=T.exports.reencryptionresponse_toBytes,tb=T.exports.reencryptionresponse_verify,Dl=T.exports.__wbg_retrievalkit_free,Ul=T.exports.retrievalkit_new,Ll=T.exports.retrievalkit_fromMessageKit,Kl=T.exports.retrievalkit_queriedAddresses,Hl=T.exports.retrievalkit_fromBytes,zl=T.exports.retrievalkit_toBytes,Vl=T.exports.retrievalkit_conditions,Jl=T.exports.__wbg_revocationorder_free,Wl=T.exports.revocationorder_new,Xl=T.exports.revocationorder_verify,Ql=T.exports.revocationorder_fromBytes,Zl=T.exports.revocationorder_toBytes,Yl=T.exports.__wbg_nodemetadatapayload_free,A0=T.exports.nodemetadatapayload_new,e0=T.exports.nodemetadatapayload_staking_provider_address,t0=T.exports.nodemetadatapayload_verifyingKey,r0=T.exports.nodemetadatapayload_encryptingKey,j0=T.exports.nodemetadatapayload_operator_signature,n0=T.exports.nodemetadatapayload_domain,s0=T.exports.nodemetadatapayload_host,i0=T.exports.nodemetadatapayload_port,o0=T.exports.nodemetadatapayload_timestampEpoch,a0=T.exports.nodemetadatapayload_certificate_der,c0=T.exports.nodemetadatapayload_deriveOperatorAddress,f0=T.exports.nodemetadata___getClassname,l0=T.exports.__wbg_nodemetadata_free,u0=T.exports.nodemetadata_new,d0=T.exports.nodemetadata_verify,h0=T.exports.nodemetadata_payload,p0=T.exports.nodemetadata_fromBytes,m0=T.exports.nodemetadata_toBytes,rb=T.exports.__wbg_fleetstatechecksum_free,jb=T.exports.fleetstatechecksum_new,nb=T.exports.fleetstatechecksum_toBytes,sb=T.exports.fleetstatechecksum_toString,ib=T.exports.__wbg_metadatarequest_free,ob=T.exports.metadatarequest_new,ab=T.exports.metadatarequest_fleetStateChecksum,cb=T.exports.metadatarequest_announceNodes,fb=T.exports.metadatarequest_fromBytes,lb=T.exports.metadatarequest_toBytes,ub=T.exports.__wbg_metadataresponsepayload_free,db=T.exports.metadataresponsepayload_new,hb=T.exports.metadataresponsepayload_timestamp_epoch,pb=T.exports.metadataresponsepayload_announceNodes,mb=T.exports.__wbg_metadataresponse_free,gb=T.exports.metadataresponse_new,bb=T.exports.metadataresponse_verify,yb=T.exports.metadataresponse_fromBytes,Bb=T.exports.metadataresponse_toBytes,xb=T.exports.__wbg_context_free,g0=T.exports.__wbg_encryptedtreasuremap_free,uw=T.exports.retrievalkit_capsule,b0=T.exports.__wbg_secretkey_free,y0=T.exports.secretkey_random,B0=T.exports.secretkey_publicKey,x0=T.exports.secretkey_toSecretBytes,v0=T.exports.secretkey_fromBytes,_0=T.exports.secretkey_toString,w0=T.exports.__wbg_secretkeyfactory_free,E0=T.exports.secretkeyfactory_random,k0=T.exports.secretkeyfactory_fromSecureRandomness,q0=T.exports.secretkeyfactory_makeKey,$0=T.exports.secretkeyfactory_makeFactory,I0=T.exports.secretkeyfactory_toSecretBytes,O0=T.exports.secretkeyfactory_fromBytes,S0=T.exports.secretkeyfactory_toString,P0=T.exports.publickey___getClassname,F0=T.exports.__wbg_publickey_free,G0=T.exports.publickey_toBytes,M0=T.exports.publickey_fromBytes,R0=T.exports.publickey_toString,C0=T.exports.publickey_equals,T0=T.exports.__wbg_signer_free,N0=T.exports.signer_new,D0=T.exports.signer_sign,U0=T.exports.signer_verifyingKey,L0=T.exports.signer_toString,K0=T.exports.__wbg_signature_free,H0=T.exports.signature_verify,z0=T.exports.signature_toBytes,V0=T.exports.signature_fromBytes,J0=T.exports.signature_toString,W0=T.exports.signature_equals,X0=T.exports.capsule___getClassname,Q0=T.exports.__wbg_capsule_free,Z0=T.exports.capsule_toBytes,Y0=T.exports.capsule_fromBytes,Au=T.exports.capsule_toString,eu=T.exports.capsule_equals,tu=T.exports.__wbg_capsulefrag_free,ru=T.exports.capsulefrag_verify,Ea=T.exports.capsulefrag_toBytes,ju=T.exports.capsulefrag_fromBytes,nu=T.exports.capsulefrag_toString,su=T.exports.capsulefrag_equals,iu=T.exports.verifiedcapsulefrag___getClassname,ou=T.exports.verifiedcapsulefrag_fromVerifiedBytes,au=T.exports.verifiedcapsulefrag_toString,cu=T.exports.verifiedcapsulefrag_equals,vb=T.exports.encrypt,_b=T.exports.decryptOriginal,wb=T.exports.decryptReencrypted,Eb=T.exports.__wbg_keyfrag_free,kb=T.exports.keyfrag_verify,qb=T.exports.keyfrag_toBytes,$b=T.exports.keyfrag_fromBytes,Ib=T.exports.keyfrag_toString,Ob=T.exports.keyfrag_equals,fu=T.exports.verifiedkeyfrag___getClassname,lu=T.exports.verifiedkeyfrag_fromVerifiedBytes,uu=T.exports.verifiedkeyfrag_toBytes,du=T.exports.verifiedkeyfrag_toString,hu=T.exports.verifiedkeyfrag_equals,pu=T.exports.generateKFrags,Sb=T.exports.reencrypt,dw=T.exports.verifiedcapsulefrag_toBytes,mu=T.exports.__wbg_verifiedcapsulefrag_free,gu=T.exports.__wbg_verifiedkeyfrag_free,bu=T.exports.secretkeyfactory_seedSize,qA=T.exports.__wbindgen_malloc,Sj=T.exports.__wbindgen_realloc,z=T.exports.__wbindgen_add_to_stack_pointer,fA=T.exports.__wbindgen_free,yu=T.exports.__wbindgen_exn_store;var Ft=class{constructor(A={},e={}){this.cFrags=A;this.errors=e}static empty(){return new Ft}get addresses(){return Object.keys(this.cFrags)}withResult(A){let e=Object.assign(this.cFrags,A.cFrags);return new Ft(e)}};var yt=class{constructor(A,e,t,j){this.policyEncryptingKey=A;this.threshold=e;this.result=t;this.messageKit=j}static fromMessageKit(A,e,t){return new yt(e,t,Ft.empty(),A)}get capsule(){return this.messageKit.capsule}decryptReencrypted(A,e){let t=Object.values(this.result.cFrags);if(!t)throw Error("Failed to attach any capsule fragments.");return this.messageKit.decryptReencrypted(A,e,t)}asRetrievalKit(){return gr.fromMessageKit(this.messageKit)}isDecryptableByReceiver(){return!!this.result.cFrags&&Object.keys(this.result.cFrags).length>=this.threshold}get errors(){return this.result.errors}toBytes(){return this.messageKit.toBytes()}withResult(A){return new yt(this.policyEncryptingKey,this.threshold,A,this.messageKit)}};var sn=r=>new TextEncoder().encode(r),ui=r=>{let A=r.match(/.{1,2}/g)??[];return new Uint8Array(A.map(e=>parseInt(e,16)))},di=r=>r.reduce((A,e)=>A+e.toString(16).padStart(2,"0"),""),hi=r=>Buffer.from(r).toString("base64"),ka=r=>Buffer.from(r,"base64"),cs=(r,A)=>typeof A=="string"&&A.startsWith("base64:")?ka(A.split("base64:")[1]):A,fs=(r,A)=>A instanceof Uint8Array?`base64:${hi(A)}`:A,on=(r,A)=>r.map((e,t)=>[e,A[t]]),qa=r=>r.getTime()/1e3|0;var Gt=class{constructor(A){this.secretKey=A}get signer(){return new Xe(this.secretKey)}get publicKey(){return this.secretKey.publicKey()}generateKFrags(A,e,t,j,n){let s=this.getSecretKeyFromLabel(t),o=s.publicKey(),a=Af(s,A,e,j,n,!1,!1);return{delegatingKey:o,verifiedKFrags:a}}getPublicKeyFromLabel(A){return this.getSecretKeyFromLabel(A).publicKey()}getSecretKeyFromLabel(A){return Vt.fromSecureRandomness(this.secretKey.toSecretBytes()).makeKey(sn(A))}decrypt(A){if(A instanceof yt){if(!A.isDecryptableByReceiver())throw Error("Unable to decrypt");return A.decryptReencrypted(this.secretKey,A.policyEncryptingKey)}else return A.decrypt(this.secretKey)}};var t6={};rn(t6,{BaseContract:()=>On,BigNumber:()=>X,Contract:()=>$r,ContractFactory:()=>Lj,FixedNumber:()=>me,Signer:()=>et,VoidSigner:()=>wr,Wallet:()=>Dt,Wordlist:()=>It,constants:()=>Fi,errors:()=>tt,getDefaultProvider:()=>ko,logger:()=>jp,providers:()=>qo,utils:()=>Ot,version:()=>Io,wordlists:()=>Hj});var Fu=bt(Ia());var vu="logger/5.7.0";var _u=!1,wu=!1,pi={debug:1,default:2,info:2,warning:3,error:4,off:5},Eu=pi.default,Oa=null;function Mb(){try{let r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(A=>{try{if("test".normalize(A)!=="test")throw new Error("bad normalize")}catch{r.push(A)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}var ku=Mb(),Sa;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Sa||(Sa={}));var tt;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(tt||(tt={}));var qu="0123456789abcdef",C=class{constructor(A){Object.defineProperty(this,"version",{enumerable:!0,value:A,writable:!1})}_log(A,e){let t=A.toLowerCase();pi[t]==null&&this.throwArgumentError("invalid log level name","logLevel",A),!(Eu>pi[t])&&console.log.apply(console,e)}debug(...A){this._log(C.levels.DEBUG,A)}info(...A){this._log(C.levels.INFO,A)}warn(...A){this._log(C.levels.WARNING,A)}makeError(A,e,t){if(wu)return this.makeError("censored error",e,{});e||(e=C.errors.UNKNOWN_ERROR),t||(t={});let j=[];Object.keys(t).forEach(a=>{let i=t[a];try{if(i instanceof Uint8Array){let c="";for(let l=0;l<i.length;l++)c+=qu[i[l]>>4],c+=qu[i[l]&15];j.push(a+"=Uint8Array(0x"+c+")")}else j.push(a+"="+JSON.stringify(i))}catch{j.push(a+"="+JSON.stringify(t[a].toString()))}}),j.push(`code=${e}`),j.push(`version=${this.version}`);let n=A,s="";switch(e){case tt.NUMERIC_FAULT:{s="NUMERIC_FAULT";let a=A;switch(a){case"overflow":case"underflow":case"division-by-zero":s+="-"+a;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case tt.CALL_EXCEPTION:case tt.INSUFFICIENT_FUNDS:case tt.MISSING_NEW:case tt.NONCE_EXPIRED:case tt.REPLACEMENT_UNDERPRICED:case tt.TRANSACTION_REPLACED:case tt.UNPREDICTABLE_GAS_LIMIT:s=e;break}s&&(A+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),j.length&&(A+=" ("+j.join(", ")+")");let o=new Error(A);return o.reason=n,o.code=e,Object.keys(t).forEach(function(a){o[a]=t[a]}),o}throwError(A,e,t){throw this.makeError(A,e,t)}throwArgumentError(A,e,t){return this.throwError(A,C.errors.INVALID_ARGUMENT,{argument:e,value:t})}assert(A,e,t,j){A||this.throwError(e,t,j)}assertArgument(A,e,t,j){A||this.throwArgumentError(e,t,j)}checkNormalize(A){A==null&&(A="platform missing String.prototype.normalize"),ku&&this.throwError("platform missing String.prototype.normalize",C.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ku})}checkSafeUint53(A,e){typeof A=="number"&&(e==null&&(e="value not safe"),(A<0||A>=9007199254740991)&&this.throwError(e,C.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:A}),A%1&&this.throwError(e,C.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:A}))}checkArgumentCount(A,e,t){t?t=": "+t:t="",A<e&&this.throwError("missing argument"+t,C.errors.MISSING_ARGUMENT,{count:A,expectedCount:e}),A>e&&this.throwError("too many arguments"+t,C.errors.UNEXPECTED_ARGUMENT,{count:A,expectedCount:e})}checkNew(A,e){(A===Object||A==null)&&this.throwError("missing new",C.errors.MISSING_NEW,{name:e.name})}checkAbstract(A,e){A===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",C.errors.UNSUPPORTED_OPERATION,{name:A.name,operation:"new"}):(A===Object||A==null)&&this.throwError("missing new",C.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Oa||(Oa=new C(vu)),Oa}static setCensorship(A,e){if(!A&&e&&this.globalLogger().throwError("cannot permanently disable censorship",C.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_u){if(!A)return;this.globalLogger().throwError("error censorship permanent",C.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}wu=!!A,_u=!!e}static setLogLevel(A){let e=pi[A.toLowerCase()];if(e==null){C.globalLogger().warn("invalid log level - "+A);return}Eu=e}static from(A){return new C(A)}};C.errors=tt;C.levels=Sa;var $u="bytes/5.7.0";var we=new C($u);function Ou(r){return!!r.toHexString}function an(r){return r.slice||(r.slice=function(){let A=Array.prototype.slice.call(arguments);return an(new Uint8Array(Array.prototype.slice.apply(r,A)))}),r}function yr(r){return sA(r)&&!(r.length%2)||Bt(r)}function Iu(r){return typeof r=="number"&&r==r&&r%1===0}function Bt(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Iu(r.length)||r.length<0)return!1;for(let A=0;A<r.length;A++){let e=r[A];if(!Iu(e)||e<0||e>=256)return!1}return!0}function J(r,A){if(A||(A={}),typeof r=="number"){we.checkSafeUint53(r,"invalid arrayify value");let e=[];for(;r;)e.unshift(r&255),r=parseInt(String(r/256));return e.length===0&&e.push(0),an(new Uint8Array(e))}if(A.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Ou(r)&&(r=r.toHexString()),sA(r)){let e=r.substring(2);e.length%2&&(A.hexPad==="left"?e="0"+e:A.hexPad==="right"?e+="0":we.throwArgumentError("hex data is odd-length","value",r));let t=[];for(let j=0;j<e.length;j+=2)t.push(parseInt(e.substring(j,j+2),16));return an(new Uint8Array(t))}return Bt(r)?an(new Uint8Array(r)):we.throwArgumentError("invalid arrayify value","value",r)}function uA(r){let A=r.map(j=>J(j)),e=A.reduce((j,n)=>j+n.length,0),t=new Uint8Array(e);return A.reduce((j,n)=>(t.set(n,j),j+n.length),0),an(t)}function ft(r){let A=J(r);if(A.length===0)return A;let e=0;for(;e<A.length&&A[e]===0;)e++;return e&&(A=A.slice(e)),A}function Pj(r,A){r=J(r),r.length>A&&we.throwArgumentError("value out of range","value",arguments[0]);let e=new Uint8Array(A);return e.set(r,A-r.length),an(e)}function sA(r,A){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||A&&r.length!==2+2*A)}var Pa="0123456789abcdef";function Q(r,A){if(A||(A={}),typeof r=="number"){we.checkSafeUint53(r,"invalid hexlify value");let e="";for(;r;)e=Pa[r&15]+e,r=Math.floor(r/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(A.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),Ou(r))return r.toHexString();if(sA(r))return r.length%2&&(A.hexPad==="left"?r="0x0"+r.substring(2):A.hexPad==="right"?r+="0":we.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(Bt(r)){let e="0x";for(let t=0;t<r.length;t++){let j=r[t];e+=Pa[(j&240)>>4]+Pa[j&15]}return e}return we.throwArgumentError("invalid hexlify value","value",r)}function Te(r){if(typeof r!="string")r=Q(r);else if(!sA(r)||r.length%2)return null;return(r.length-2)/2}function IA(r,A,e){return typeof r!="string"?r=Q(r):(!sA(r)||r.length%2)&&we.throwArgumentError("invalid hexData","value",r),A=2+2*A,e!=null?"0x"+r.substring(A,2+2*e):"0x"+r.substring(A)}function Ee(r){let A="0x";return r.forEach(e=>{A+=Q(e).substring(2)}),A}function Zt(r){let A=Fa(Q(r,{hexPad:"left"}));return A==="0x"?"0x0":A}function Fa(r){typeof r!="string"&&(r=Q(r)),sA(r)||we.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let A=0;for(;A<r.length&&r[A]==="0";)A++;return"0x"+r.substring(A)}function mA(r,A){for(typeof r!="string"?r=Q(r):sA(r)||we.throwArgumentError("invalid hex string","value",r),r.length>2*A+2&&we.throwArgumentError("value out of range","value",arguments[1]);r.length<2*A+2;)r="0x0"+r.substring(2);return r}function Yt(r){let A={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(yr(r)){let e=J(r);e.length===64?(A.v=27+(e[32]>>7),e[32]&=127,A.r=Q(e.slice(0,32)),A.s=Q(e.slice(32,64))):e.length===65?(A.r=Q(e.slice(0,32)),A.s=Q(e.slice(32,64)),A.v=e[64]):we.throwArgumentError("invalid signature string","signature",r),A.v<27&&(A.v===0||A.v===1?A.v+=27:we.throwArgumentError("signature invalid v byte","signature",r)),A.recoveryParam=1-A.v%2,A.recoveryParam&&(e[32]|=128),A._vs=Q(e.slice(32,64))}else{if(A.r=r.r,A.s=r.s,A.v=r.v,A.recoveryParam=r.recoveryParam,A._vs=r._vs,A._vs!=null){let j=Pj(J(A._vs),32);A._vs=Q(j);let n=j[0]>=128?1:0;A.recoveryParam==null?A.recoveryParam=n:A.recoveryParam!==n&&we.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),j[0]&=127;let s=Q(j);A.s==null?A.s=s:A.s!==s&&we.throwArgumentError("signature v mismatch _vs","signature",r)}if(A.recoveryParam==null)A.v==null?we.throwArgumentError("signature missing v and recoveryParam","signature",r):A.v===0||A.v===1?A.recoveryParam=A.v:A.recoveryParam=1-A.v%2;else if(A.v==null)A.v=27+A.recoveryParam;else{let j=A.v===0||A.v===1?A.v:1-A.v%2;A.recoveryParam!==j&&we.throwArgumentError("signature recoveryParam mismatch v","signature",r)}A.r==null||!sA(A.r)?we.throwArgumentError("signature missing or invalid r","signature",r):A.r=mA(A.r,32),A.s==null||!sA(A.s)?we.throwArgumentError("signature missing or invalid s","signature",r):A.s=mA(A.s,32);let e=J(A.s);e[0]>=128&&we.throwArgumentError("signature s out of range","signature",r),A.recoveryParam&&(e[0]|=128);let t=Q(e);A._vs&&(sA(A._vs)||we.throwArgumentError("signature invalid _vs","signature",r),A._vs=mA(A._vs,32)),A._vs==null?A._vs=t:A._vs!==t&&we.throwArgumentError("signature _vs mismatch v and s","signature",r)}return A.yParityAndS=A._vs,A.compact=A.r+A.yParityAndS.substring(2),A}function ls(r){return r=Yt(r),Q(uA([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}var mi="bignumber/5.7.0";var us=Fu.default.BN,Br=new C(mi),Ga={},Su=9007199254740991;function Gu(r){return r!=null&&(X.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||sA(r)||typeof r=="bigint"||Bt(r))}var Pu=!1,X=class{constructor(A,e){A!==Ga&&Br.throwError("cannot call constructor directly; use BigNumber.from",C.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(A){return rt(yA(this).fromTwos(A))}toTwos(A){return rt(yA(this).toTwos(A))}abs(){return this._hex[0]==="-"?X.from(this._hex.substring(1)):this}add(A){return rt(yA(this).add(yA(A)))}sub(A){return rt(yA(this).sub(yA(A)))}div(A){return X.from(A).isZero()&&xt("division-by-zero","div"),rt(yA(this).div(yA(A)))}mul(A){return rt(yA(this).mul(yA(A)))}mod(A){let e=yA(A);return e.isNeg()&&xt("division-by-zero","mod"),rt(yA(this).umod(e))}pow(A){let e=yA(A);return e.isNeg()&&xt("negative-power","pow"),rt(yA(this).pow(e))}and(A){let e=yA(A);return(this.isNegative()||e.isNeg())&&xt("unbound-bitwise-result","and"),rt(yA(this).and(e))}or(A){let e=yA(A);return(this.isNegative()||e.isNeg())&&xt("unbound-bitwise-result","or"),rt(yA(this).or(e))}xor(A){let e=yA(A);return(this.isNegative()||e.isNeg())&&xt("unbound-bitwise-result","xor"),rt(yA(this).xor(e))}mask(A){return(this.isNegative()||A<0)&&xt("negative-width","mask"),rt(yA(this).maskn(A))}shl(A){return(this.isNegative()||A<0)&&xt("negative-width","shl"),rt(yA(this).shln(A))}shr(A){return(this.isNegative()||A<0)&&xt("negative-width","shr"),rt(yA(this).shrn(A))}eq(A){return yA(this).eq(yA(A))}lt(A){return yA(this).lt(yA(A))}lte(A){return yA(this).lte(yA(A))}gt(A){return yA(this).gt(yA(A))}gte(A){return yA(this).gte(yA(A))}isNegative(){return this._hex[0]==="-"}isZero(){return yA(this).isZero()}toNumber(){try{return yA(this).toNumber()}catch{xt("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Br.throwError("this platform does not support BigInt",C.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Pu||(Pu=!0,Br.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Br.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",C.errors.UNEXPECTED_ARGUMENT,{}):Br.throwError("BigNumber.toString does not accept parameters",C.errors.UNEXPECTED_ARGUMENT,{})),yA(this).toString(10)}toHexString(){return this._hex}toJSON(A){return{type:"BigNumber",hex:this.toHexString()}}static from(A){if(A instanceof X)return A;if(typeof A=="string")return A.match(/^-?0x[0-9a-f]+$/i)?new X(Ga,ds(A)):A.match(/^-?[0-9]+$/)?new X(Ga,ds(new us(A))):Br.throwArgumentError("invalid BigNumber string","value",A);if(typeof A=="number")return A%1&&xt("underflow","BigNumber.from",A),(A>=Su||A<=-Su)&&xt("overflow","BigNumber.from",A),X.from(String(A));let e=A;if(typeof e=="bigint")return X.from(e.toString());if(Bt(e))return X.from(Q(e));if(e)if(e.toHexString){let t=e.toHexString();if(typeof t=="string")return X.from(t)}else{let t=e._hex;if(t==null&&e.type==="BigNumber"&&(t=e.hex),typeof t=="string"&&(sA(t)||t[0]==="-"&&sA(t.substring(1))))return X.from(t)}return Br.throwArgumentError("invalid BigNumber value","value",A)}static isBigNumber(A){return!!(A&&A._isBigNumber)}};function ds(r){if(typeof r!="string")return ds(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Br.throwArgumentError("invalid hex","value",r),r=ds(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function rt(r){return X.from(ds(r))}function yA(r){let A=X.from(r).toHexString();return A[0]==="-"?new us("-"+A.substring(3),16):new us(A.substring(2),16)}function xt(r,A,e){let t={fault:r,operation:A};return e!=null&&(t.value=e),Br.throwError(r,C.errors.NUMERIC_FAULT,t)}function Ma(r){return new us(r,36).toString(16)}function Ra(r){return new us(r,16).toString(36)}var Qe=new C(mi),hs={},Ru=X.from(0),Cu=X.from(-1);function Tu(r,A,e,t){let j={fault:A,operation:e};return t!==void 0&&(j.value=t),Qe.throwError(r,C.errors.NUMERIC_FAULT,j)}var ps="0";for(;ps.length<256;)ps+=ps;function Ca(r){if(typeof r!="number")try{r=X.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+ps.substring(0,r):Qe.throwArgumentError("invalid decimal size","decimals",r)}function cn(r,A){A==null&&(A=0);let e=Ca(A);r=X.from(r);let t=r.lt(Ru);t&&(r=r.mul(Cu));let j=r.mod(e).toString();for(;j.length<e.length-1;)j="0"+j;j=j.match(/^([0-9]*[1-9]|0)(0*)/)[1];let n=r.div(e).toString();return e.length===1?r=n:r=n+"."+j,t&&(r="-"+r),r}function vt(r,A){A==null&&(A=0);let e=Ca(A);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&Qe.throwArgumentError("invalid decimal value","value",r);let t=r.substring(0,1)==="-";t&&(r=r.substring(1)),r==="."&&Qe.throwArgumentError("missing value","value",r);let j=r.split(".");j.length>2&&Qe.throwArgumentError("too many decimal points","value",r);let n=j[0],s=j[1];for(n||(n="0"),s||(s="0");s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(s.length>e.length-1&&Tu("fractional component exceeds decimals","underflow","parseFixed"),s===""&&(s="0");s.length<e.length-1;)s+="0";let o=X.from(n),a=X.from(s),i=o.mul(e).add(a);return t&&(i=i.mul(Cu)),i}var xr=class{constructor(A,e,t,j){A!==hs&&Qe.throwError("cannot use FixedFormat constructor; use FixedFormat.from",C.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=t,this.decimals=j,this.name=(e?"":"u")+"fixed"+String(t)+"x"+String(j),this._multiplier=Ca(j),Object.freeze(this)}static from(A){if(A instanceof xr)return A;typeof A=="number"&&(A=`fixed128x${A}`);let e=!0,t=128,j=18;if(typeof A=="string"){if(A!=="fixed")if(A==="ufixed")e=!1;else{let n=A.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||Qe.throwArgumentError("invalid fixed format","format",A),e=n[1]!=="u",t=parseInt(n[2]),j=parseInt(n[3])}}else if(A){let n=(s,o,a)=>A[s]==null?a:(typeof A[s]!==o&&Qe.throwArgumentError("invalid fixed format ("+s+" not "+o+")","format."+s,A[s]),A[s]);e=n("signed","boolean",e),t=n("width","number",t),j=n("decimals","number",j)}return t%8&&Qe.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",t),j>80&&Qe.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",j),new xr(hs,e,t,j)}},me=class{constructor(A,e,t,j){A!==hs&&Qe.throwError("cannot use FixedNumber constructor; use FixedNumber.from",C.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=j,this._hex=e,this._value=t,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(A){this.format.name!==A.format.name&&Qe.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",A)}addUnsafe(A){this._checkFormat(A);let e=vt(this._value,this.format.decimals),t=vt(A._value,A.format.decimals);return me.fromValue(e.add(t),this.format.decimals,this.format)}subUnsafe(A){this._checkFormat(A);let e=vt(this._value,this.format.decimals),t=vt(A._value,A.format.decimals);return me.fromValue(e.sub(t),this.format.decimals,this.format)}mulUnsafe(A){this._checkFormat(A);let e=vt(this._value,this.format.decimals),t=vt(A._value,A.format.decimals);return me.fromValue(e.mul(t).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(A){this._checkFormat(A);let e=vt(this._value,this.format.decimals),t=vt(A._value,A.format.decimals);return me.fromValue(e.mul(this.format._multiplier).div(t),this.format.decimals,this.format)}floor(){let A=this.toString().split(".");A.length===1&&A.push("0");let e=me.from(A[0],this.format),t=!A[1].match(/^(0*)$/);return this.isNegative()&&t&&(e=e.subUnsafe(Mu.toFormat(e.format))),e}ceiling(){let A=this.toString().split(".");A.length===1&&A.push("0");let e=me.from(A[0],this.format),t=!A[1].match(/^(0*)$/);return!this.isNegative()&&t&&(e=e.addUnsafe(Mu.toFormat(e.format))),e}round(A){A==null&&(A=0);let e=this.toString().split(".");if(e.length===1&&e.push("0"),(A<0||A>80||A%1)&&Qe.throwArgumentError("invalid decimal count","decimals",A),e[1].length<=A)return this;let t=me.from("1"+ps.substring(0,A),this.format),j=Rb.toFormat(this.format);return this.mulUnsafe(t).addUnsafe(j).floor().divUnsafe(t)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(A){if(A==null)return this._hex;A%8&&Qe.throwArgumentError("invalid byte width","width",A);let e=X.from(this._hex).fromTwos(this.format.width).toTwos(A).toHexString();return mA(e,A/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(A){return me.fromString(this._value,A)}static fromValue(A,e,t){return t==null&&e!=null&&!Gu(e)&&(t=e,e=null),e==null&&(e=0),t==null&&(t="fixed"),me.fromString(cn(A,e),xr.from(t))}static fromString(A,e){e==null&&(e="fixed");let t=xr.from(e),j=vt(A,t.decimals);!t.signed&&j.lt(Ru)&&Tu("unsigned value cannot be negative","overflow","value",A);let n=null;t.signed?n=j.toTwos(t.width).toHexString():(n=j.toHexString(),n=mA(n,t.width/8));let s=cn(j,t.decimals);return new me(hs,n,s,t)}static fromBytes(A,e){e==null&&(e="fixed");let t=xr.from(e);if(J(A).length>t.width/8)throw new Error("overflow");let j=X.from(A);t.signed&&(j=j.fromTwos(t.width));let n=j.toTwos((t.signed?0:1)+t.width).toHexString(),s=cn(j,t.decimals);return new me(hs,n,s,t)}static from(A,e){if(typeof A=="string")return me.fromString(A,e);if(Bt(A))return me.fromBytes(A,e);try{return me.fromValue(A,0,e)}catch(t){if(t.code!==C.errors.INVALID_ARGUMENT)throw t}return Qe.throwArgumentError("invalid FixedNumber value","value",A)}static isFixedNumber(A){return!!(A&&A._isFixedNumber)}},Mu=me.from(1),Rb=me.from("0.5");var Nu="properties/5.7.0";var Cb=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},gi=new C(Nu);function L(r,A,e){Object.defineProperty(r,A,{enumerable:!0,value:e,writable:!1})}function be(r,A){for(let e=0;e<32;e++){if(r[A])return r[A];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function OA(r){return Cb(this,void 0,void 0,function*(){let A=Object.keys(r).map(t=>{let j=r[t];return Promise.resolve(j).then(n=>({key:t,value:n}))});return(yield Promise.all(A)).reduce((t,j)=>(t[j.key]=j.value,t),{})})}function fn(r,A){(!r||typeof r!="object")&&gi.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(e=>{A[e]||gi.throwArgumentError("invalid object key - "+e,"transaction:"+e,r)})}function EA(r){let A={};for(let e in r)A[e]=r[e];return A}var Tb={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Du(r){if(r==null||Tb[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;let A=Object.keys(r);for(let e=0;e<A.length;e++){let t=null;try{t=r[A[e]]}catch{continue}if(!Du(t))return!1}return!0}return gi.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Nb(r){if(Du(r))return r;if(Array.isArray(r))return Object.freeze(r.map(A=>ge(A)));if(typeof r=="object"){let A={};for(let e in r){let t=r[e];t!==void 0&&L(A,e,ge(t))}return A}return gi.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function ge(r){return Nb(r)}var lt=class{constructor(A){for(let e in A)this[e]=ge(A[e])}};var Ar="abi/5.7.0";var vA=new C(Ar),Fj={},Uu={calldata:!0,memory:!0,storage:!0},Db={calldata:!0,memory:!0};function bi(r,A){if(r==="bytes"||r==="string"){if(Uu[A])return!0}else if(r==="address"){if(A==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&Db[A])return!0;return(Uu[A]||A==="payable")&&vA.throwArgumentError("invalid modifier","name",A),!1}function Ub(r,A){let e=r;function t(o){vA.throwArgumentError(`unexpected character at position ${o}`,"param",r)}r=r.replace(/\s/g," ");function j(o){let a={type:"",name:"",parent:o,state:{allowType:!0}};return A&&(a.indexed=!1),a}let n={type:"",name:"",state:{allowType:!0}},s=n;for(let o=0;o<r.length;o++){let a=r[o];switch(a){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||t(o),s.state.allowType=!1,s.type=ln(s.type),s.components=[j(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(A||t(o),s.indexed=!0,s.name=""),bi(s.type,s.name)&&(s.name=""),s.type=ln(s.type);let i=s;s=s.parent,s||t(o),delete i.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(A||t(o),s.indexed=!0,s.name=""),bi(s.type,s.name)&&(s.name=""),s.type=ln(s.type);let c=j(s.parent);s.parent.components.push(c),delete s.parent,s=c;break;case" ":s.state.allowType&&s.type!==""&&(s.type=ln(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(A||t(o),s.indexed&&t(o),s.indexed=!0,s.name=""):bi(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||t(o),s.type+=a,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||t(o),s.type+=a,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=a,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=a,delete s.state.allowArray):s.state.readArray?s.type+=a:t(o)}}return s.parent&&vA.throwArgumentError("unexpected eof","param",r),delete n.state,s.name==="indexed"?(A||t(e.length-7),s.indexed&&t(e.length-7),s.indexed=!0,s.name=""):bi(s.type,s.name)&&(s.name=""),n.type=ln(n.type),n}function yi(r,A){for(let e in A)L(r,e,A[e])}var BA=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Lb=new RegExp(/^(.*)\[([0-9]*)\]$/),de=class{constructor(A,e){A!==Fj&&vA.throwError("use fromString",C.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),yi(this,e);let t=this.type.match(Lb);t?yi(this,{arrayLength:parseInt(t[2]||"-1"),arrayChildren:de.fromObject({type:t[1],components:this.components}),baseType:"array"}):yi(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(A){if(A||(A=BA.sighash),BA[A]||vA.throwArgumentError("invalid format type","format",A),A===BA.json){let t={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(j=>JSON.parse(j.format(A)))),JSON.stringify(t)}let e="";return this.baseType==="array"?(e+=this.arrayChildren.format(A),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(A!==BA.sighash&&(e+=this.type),e+="("+this.components.map(t=>t.format(A)).join(A===BA.full?", ":",")+")"):e+=this.type,A!==BA.sighash&&(this.indexed===!0&&(e+=" indexed"),A===BA.full&&this.name&&(e+=" "+this.name)),e}static from(A,e){return typeof A=="string"?de.fromString(A,e):de.fromObject(A)}static fromObject(A){return de.isParamType(A)?A:new de(Fj,{name:A.name||null,type:ln(A.type),indexed:A.indexed==null?null:!!A.indexed,components:A.components?A.components.map(de.fromObject):null})}static fromString(A,e){function t(j){return de.fromObject({name:j.name,type:j.type,indexed:j.indexed,components:j.components})}return t(Ub(A,!!e))}static isParamType(A){return!!(A!=null&&A._isParamType)}};function ms(r,A){return Hb(r).map(e=>de.fromString(e,A))}var Ye=class{constructor(A,e){A!==Fj&&vA.throwError("use a static from method",C.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),yi(this,e),this._isFragment=!0,Object.freeze(this)}static from(A){return Ye.isFragment(A)?A:typeof A=="string"?Ye.fromString(A):Ye.fromObject(A)}static fromObject(A){if(Ye.isFragment(A))return A;switch(A.type){case"function":return De.fromObject(A);case"event":return Ze.fromObject(A);case"constructor":return Ne.fromObject(A);case"error":return ut.fromObject(A);case"fallback":case"receive":return null}return vA.throwArgumentError("invalid fragment object","value",A)}static fromString(A){return A=A.replace(/\s/g," "),A=A.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),A=A.trim(),A.split(" ")[0]==="event"?Ze.fromString(A.substring(5).trim()):A.split(" ")[0]==="function"?De.fromString(A.substring(8).trim()):A.split("(")[0].trim()==="constructor"?Ne.fromString(A.trim()):A.split(" ")[0]==="error"?ut.fromString(A.substring(5).trim()):vA.throwArgumentError("unsupported fragment","value",A)}static isFragment(A){return!!(A&&A._isFragment)}},Ze=class extends Ye{format(A){if(A||(A=BA.sighash),BA[A]||vA.throwArgumentError("invalid format type","format",A),A===BA.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(A)))});let e="";return A!==BA.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map(t=>t.format(A)).join(A===BA.full?", ":",")+") ",A!==BA.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(A){return typeof A=="string"?Ze.fromString(A):Ze.fromObject(A)}static fromObject(A){if(Ze.isEventFragment(A))return A;A.type!=="event"&&vA.throwArgumentError("invalid event object","value",A);let e={name:gs(A.name),anonymous:A.anonymous,inputs:A.inputs?A.inputs.map(de.fromObject):[],type:"event"};return new Ze(Fj,e)}static fromString(A){let e=A.match(bs);e||vA.throwArgumentError("invalid event string","value",A);let t=!1;return e[3].split(" ").forEach(j=>{switch(j.trim()){case"anonymous":t=!0;break;case"":break;default:vA.warn("unknown modifier: "+j)}}),Ze.fromObject({name:e[1].trim(),anonymous:t,inputs:ms(e[2],!0),type:"event"})}static isEventFragment(A){return A&&A._isFragment&&A.type==="event"}};function Ku(r,A){A.gas=null;let e=r.split("@");return e.length!==1?(e.length>2&&vA.throwArgumentError("invalid human-readable ABI signature","value",r),e[1].match(/^[0-9]+$/)||vA.throwArgumentError("invalid human-readable ABI signature gas","value",r),A.gas=X.from(e[1]),e[0]):r}function Hu(r,A){A.constant=!1,A.payable=!1,A.stateMutability="nonpayable",r.split(" ").forEach(e=>{switch(e.trim()){case"constant":A.constant=!0;break;case"payable":A.payable=!0,A.stateMutability="payable";break;case"nonpayable":A.payable=!1,A.stateMutability="nonpayable";break;case"pure":A.constant=!0,A.stateMutability="pure";break;case"view":A.constant=!0,A.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function zu(r){let A={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(A.stateMutability=r.stateMutability,A.constant=A.stateMutability==="view"||A.stateMutability==="pure",r.constant!=null&&!!r.constant!==A.constant&&vA.throwArgumentError("cannot have constant function with mutability "+A.stateMutability,"value",r),A.payable=A.stateMutability==="payable",r.payable!=null&&!!r.payable!==A.payable&&vA.throwArgumentError("cannot have payable function with mutability "+A.stateMutability,"value",r)):r.payable!=null?(A.payable=!!r.payable,r.constant==null&&!A.payable&&r.type!=="constructor"&&vA.throwArgumentError("unable to determine stateMutability","value",r),A.constant=!!r.constant,A.constant?A.stateMutability="view":A.stateMutability=A.payable?"payable":"nonpayable",A.payable&&A.constant&&vA.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(A.constant=!!r.constant,A.payable=!A.constant,A.stateMutability=A.constant?"view":"payable"):r.type!=="constructor"&&vA.throwArgumentError("unable to determine stateMutability","value",r),A}var Ne=class extends Ye{format(A){if(A||(A=BA.sighash),BA[A]||vA.throwArgumentError("invalid format type","format",A),A===BA.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(A)))});A===BA.sighash&&vA.throwError("cannot format a constructor for sighash",C.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map(t=>t.format(A)).join(A===BA.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(e+=this.stateMutability+" "),e.trim()}static from(A){return typeof A=="string"?Ne.fromString(A):Ne.fromObject(A)}static fromObject(A){if(Ne.isConstructorFragment(A))return A;A.type!=="constructor"&&vA.throwArgumentError("invalid constructor object","value",A);let e=zu(A);e.constant&&vA.throwArgumentError("constructor cannot be constant","value",A);let t={name:null,type:A.type,inputs:A.inputs?A.inputs.map(de.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:A.gas?X.from(A.gas):null};return new Ne(Fj,t)}static fromString(A){let e={type:"constructor"};A=Ku(A,e);let t=A.match(bs);return(!t||t[1].trim()!=="constructor")&&vA.throwArgumentError("invalid constructor string","value",A),e.inputs=ms(t[2].trim(),!1),Hu(t[3].trim(),e),Ne.fromObject(e)}static isConstructorFragment(A){return A&&A._isFragment&&A.type==="constructor"}},De=class extends Ne{format(A){if(A||(A=BA.sighash),BA[A]||vA.throwArgumentError("invalid format type","format",A),A===BA.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(A))),outputs:this.outputs.map(t=>JSON.parse(t.format(A)))});let e="";return A!==BA.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map(t=>t.format(A)).join(A===BA.full?", ":",")+") ",A!==BA.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map(t=>t.format(A)).join(", ")+") "),this.gas!=null&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(A){return typeof A=="string"?De.fromString(A):De.fromObject(A)}static fromObject(A){if(De.isFunctionFragment(A))return A;A.type!=="function"&&vA.throwArgumentError("invalid function object","value",A);let e=zu(A),t={type:A.type,name:gs(A.name),constant:e.constant,inputs:A.inputs?A.inputs.map(de.fromObject):[],outputs:A.outputs?A.outputs.map(de.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:A.gas?X.from(A.gas):null};return new De(Fj,t)}static fromString(A){let e={type:"function"};A=Ku(A,e);let t=A.split(" returns ");t.length>2&&vA.throwArgumentError("invalid function string","value",A);let j=t[0].match(bs);if(j||vA.throwArgumentError("invalid function signature","value",A),e.name=j[1].trim(),e.name&&gs(e.name),e.inputs=ms(j[2],!1),Hu(j[3].trim(),e),t.length>1){let n=t[1].match(bs);(n[1].trim()!=""||n[3].trim()!="")&&vA.throwArgumentError("unexpected tokens","value",A),e.outputs=ms(n[2],!1)}else e.outputs=[];return De.fromObject(e)}static isFunctionFragment(A){return A&&A._isFragment&&A.type==="function"}};function Lu(r){let A=r.format();return(A==="Error(string)"||A==="Panic(uint256)")&&vA.throwArgumentError(`cannot specify user defined ${A} error`,"fragment",r),r}var ut=class extends Ye{format(A){if(A||(A=BA.sighash),BA[A]||vA.throwArgumentError("invalid format type","format",A),A===BA.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(A)))});let e="";return A!==BA.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map(t=>t.format(A)).join(A===BA.full?", ":",")+") ",e.trim()}static from(A){return typeof A=="string"?ut.fromString(A):ut.fromObject(A)}static fromObject(A){if(ut.isErrorFragment(A))return A;A.type!=="error"&&vA.throwArgumentError("invalid error object","value",A);let e={type:A.type,name:gs(A.name),inputs:A.inputs?A.inputs.map(de.fromObject):[]};return Lu(new ut(Fj,e))}static fromString(A){let e={type:"error"},t=A.match(bs);return t||vA.throwArgumentError("invalid error signature","value",A),e.name=t[1].trim(),e.name&&gs(e.name),e.inputs=ms(t[2],!1),Lu(ut.fromObject(e))}static isErrorFragment(A){return A&&A._isFragment&&A.type==="error"}};function ln(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}var Kb=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function gs(r){return(!r||!r.match(Kb))&&vA.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}var bs=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Hb(r){r=r.trim();let A=[],e="",t=0;for(let j=0;j<r.length;j++){let n=r[j];n===","&&t===0?(A.push(e),e=""):(e+=n,n==="("?t++:n===")"&&(t--,t===-1&&vA.throwArgumentError("unbalanced parenthesis","value",r)))}return e&&A.push(e),A}var Ta=new C(Ar);function un(r){let A=[],e=function(t,j){if(Array.isArray(j))for(let n in j){let s=t.slice();s.push(n);try{e(s,j[n])}catch(o){A.push({path:s,error:o})}}};return e([],r),A}var ke=class{constructor(A,e,t,j){this.name=A,this.type=e,this.localName=t,this.dynamic=j}_throwError(A,e){Ta.throwArgumentError(A,this.localName,e)}},Gj=class{constructor(A){L(this,"wordSize",A||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(A)}get data(){return Ee(this._data)}get length(){return this._dataLength}_writeData(A){return this._data.push(A),this._dataLength+=A.length,A.length}appendWriter(A){return this._writeData(uA(A._data))}writeBytes(A){let e=J(A),t=e.length%this.wordSize;return t&&(e=uA([e,this._padding.slice(t)])),this._writeData(e)}_getValue(A){let e=J(X.from(A));return e.length>this.wordSize&&Ta.throwError("value out-of-bounds",C.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=uA([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(A){return this._writeData(this._getValue(A))}writeUpdatableValue(){let A=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[A]=this._getValue(e)}}},Mj=class{constructor(A,e,t,j){L(this,"_data",J(A)),L(this,"wordSize",e||32),L(this,"_coerceFunc",t),L(this,"allowLoose",j),this._offset=0}get data(){return Q(this._data)}get consumed(){return this._offset}static coerce(A,e){let t=A.match("^u?int([0-9]+)$");return t&&parseInt(t[1])<=48&&(e=e.toNumber()),e}coerce(A,e){return this._coerceFunc?this._coerceFunc(A,e):Mj.coerce(A,e)}_peekBytes(A,e,t){let j=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+j>this._data.length&&(this.allowLoose&&t&&this._offset+e<=this._data.length?j=e:Ta.throwError("data out-of-bounds",C.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+j})),this._data.slice(this._offset,this._offset+j)}subReader(A){return new Mj(this._data.slice(this._offset+A),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(A,e){let t=this._peekBytes(0,A,!!e);return this._offset+=t.length,t.slice(0,A)}readValue(){return X.from(this.readBytes(this.wordSize))}};var Ju=bt(Vu());function dA(r){return"0x"+Ju.default.keccak_256(J(r))}var xi={};rn(xi,{decode:()=>ys,encode:()=>vr});var Wu="rlp/5.7.0";var er=new C(Wu);function Xu(r){let A=[];for(;r;)A.unshift(r&255),r>>=8;return A}function Qu(r,A,e){let t=0;for(let j=0;j<e;j++)t=t*256+r[A+j];return t}function Yu(r){if(Array.isArray(r)){let t=[];if(r.forEach(function(n){t=t.concat(Yu(n))}),t.length<=55)return t.unshift(192+t.length),t;let j=Xu(t.length);return j.unshift(247+j.length),j.concat(t)}yr(r)||er.throwArgumentError("RLP object must be BytesLike","object",r);let A=Array.prototype.slice.call(J(r));if(A.length===1&&A[0]<=127)return A;if(A.length<=55)return A.unshift(128+A.length),A;let e=Xu(A.length);return e.unshift(183+e.length),e.concat(A)}function vr(r){return Q(Yu(r))}function Zu(r,A,e,t){let j=[];for(;e<A+1+t;){let n=A7(r,e);j.push(n.result),e+=n.consumed,e>A+1+t&&er.throwError("child data too short",C.errors.BUFFER_OVERRUN,{})}return{consumed:1+t,result:j}}function A7(r,A){if(r.length===0&&er.throwError("data too short",C.errors.BUFFER_OVERRUN,{}),r[A]>=248){let e=r[A]-247;A+1+e>r.length&&er.throwError("data short segment too short",C.errors.BUFFER_OVERRUN,{});let t=Qu(r,A+1,e);return A+1+e+t>r.length&&er.throwError("data long segment too short",C.errors.BUFFER_OVERRUN,{}),Zu(r,A,A+1+e,e+t)}else if(r[A]>=192){let e=r[A]-192;return A+1+e>r.length&&er.throwError("data array too short",C.errors.BUFFER_OVERRUN,{}),Zu(r,A,A+1,e)}else if(r[A]>=184){let e=r[A]-183;A+1+e>r.length&&er.throwError("data array too short",C.errors.BUFFER_OVERRUN,{});let t=Qu(r,A+1,e);A+1+e+t>r.length&&er.throwError("data array too short",C.errors.BUFFER_OVERRUN,{});let j=Q(r.slice(A+1+e,A+1+e+t));return{consumed:1+e+t,result:j}}else if(r[A]>=128){let e=r[A]-128;A+1+e>r.length&&er.throwError("data too short",C.errors.BUFFER_OVERRUN,{});let t=Q(r.slice(A+1,A+1+e));return{consumed:1+e,result:t}}return{consumed:1,result:Q(r[A])}}function ys(r){let A=J(r),e=A7(A,0);return e.consumed!==A.length&&er.throwArgumentError("invalid rlp data","data",r),e.result}var e7="address/5.7.0";var Wr=new C(e7);function t7(r){sA(r,20)||Wr.throwArgumentError("invalid address","address",r),r=r.toLowerCase();let A=r.substring(2).split(""),e=new Uint8Array(40);for(let j=0;j<40;j++)e[j]=A[j].charCodeAt(0);let t=J(dA(e));for(let j=0;j<40;j+=2)t[j>>1]>>4>=8&&(A[j]=A[j].toUpperCase()),(t[j>>1]&15)>=8&&(A[j+1]=A[j+1].toUpperCase());return"0x"+A.join("")}var zb=9007199254740991;function Vb(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}var Na={};for(let r=0;r<10;r++)Na[String(r)]=String(r);for(let r=0;r<26;r++)Na[String.fromCharCode(65+r)]=String(10+r);var r7=Math.floor(Vb(zb));function j7(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let A=r.split("").map(t=>Na[t]).join("");for(;A.length>=r7;){let t=A.substring(0,r7);A=parseInt(t,10)%97+A.substring(t.length)}let e=String(98-parseInt(A,10)%97);for(;e.length<2;)e="0"+e;return e}function hA(r){let A=null;if(typeof r!="string"&&Wr.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),A=t7(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&A!==r&&Wr.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==j7(r)&&Wr.throwArgumentError("bad icap checksum","address",r),A=Ma(r.substring(4));A.length<40;)A="0"+A;A=t7("0x"+A)}else Wr.throwArgumentError("invalid address","address",r);return A}function n7(r){try{return hA(r),!0}catch{}return!1}function s7(r){let A=Ra(hA(r).substring(2)).toUpperCase();for(;A.length<30;)A="0"+A;return"XE"+j7("XE00"+A)+A}function Rj(r){let A=null;try{A=hA(r.from)}catch{Wr.throwArgumentError("missing from address","transaction",r)}let e=ft(J(X.from(r.nonce).toHexString()));return hA(IA(dA(vr([A,e])),12))}function i7(r,A,e){return Te(A)!==32&&Wr.throwArgumentError("salt must be 32 bytes","salt",A),Te(e)!==32&&Wr.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",e),hA(IA(dA(uA(["0xff",hA(r),A,e])),12))}var vi=class extends ke{constructor(A){super("address","address",A,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(A,e){try{e=hA(e)}catch(t){this._throwError(t.message,e)}return A.writeValue(e)}decode(A){return hA(mA(A.readValue().toHexString(),20))}};var _i=class extends ke{constructor(A){super(A.name,A.type,void 0,A.dynamic),this.coder=A}defaultValue(){return this.coder.defaultValue()}encode(A,e){return this.coder.encode(A,e)}decode(A){return this.coder.decode(A)}};var dn=new C(Ar);function Da(r,A,e){let t=null;if(Array.isArray(e))t=e;else if(e&&typeof e=="object"){let a={};t=A.map(i=>{let c=i.localName;return c||dn.throwError("cannot encode object for signature with missing names",C.errors.INVALID_ARGUMENT,{argument:"values",coder:i,value:e}),a[c]&&dn.throwError("cannot encode object for signature with duplicate names",C.errors.INVALID_ARGUMENT,{argument:"values",coder:i,value:e}),a[c]=!0,e[c]})}else dn.throwArgumentError("invalid tuple value","tuple",e);A.length!==t.length&&dn.throwArgumentError("types/value length mismatch","tuple",e);let j=new Gj(r.wordSize),n=new Gj(r.wordSize),s=[];A.forEach((a,i)=>{let c=t[i];if(a.dynamic){let l=n.length;a.encode(n,c);let u=j.writeUpdatableValue();s.push(f=>{u(f+l)})}else a.encode(j,c)}),s.forEach(a=>{a(j.length)});let o=r.appendWriter(j);return o+=r.appendWriter(n),o}function Ua(r,A){let e=[],t=r.subReader(0);A.forEach(n=>{let s=null;if(n.dynamic){let o=r.readValue(),a=t.subReader(o.toNumber());try{s=n.decode(a)}catch(i){if(i.code===C.errors.BUFFER_OVERRUN)throw i;s=i,s.baseType=n.name,s.name=n.localName,s.type=n.type}}else try{s=n.decode(r)}catch(o){if(o.code===C.errors.BUFFER_OVERRUN)throw o;s=o,s.baseType=n.name,s.name=n.localName,s.type=n.type}s!=null&&e.push(s)});let j=A.reduce((n,s)=>{let o=s.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});A.forEach((n,s)=>{let o=n.localName;if(!o||j[o]!==1||(o==="length"&&(o="_length"),e[o]!=null))return;let a=e[s];a instanceof Error?Object.defineProperty(e,o,{enumerable:!0,get:()=>{throw a}}):e[o]=a});for(let n=0;n<e.length;n++){let s=e[n];s instanceof Error&&Object.defineProperty(e,n,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(e)}var wi=class extends ke{constructor(A,e,t){let j=A.type+"["+(e>=0?e:"")+"]",n=e===-1||A.dynamic;super("array",j,t,n),this.coder=A,this.length=e}defaultValue(){let A=this.coder.defaultValue(),e=[];for(let t=0;t<this.length;t++)e.push(A);return e}encode(A,e){Array.isArray(e)||this._throwError("expected array value",e);let t=this.length;t===-1&&(t=e.length,A.writeValue(e.length)),dn.checkArgumentCount(e.length,t,"coder array"+(this.localName?" "+this.localName:""));let j=[];for(let n=0;n<e.length;n++)j.push(this.coder);return Da(A,j,e)}decode(A){let e=this.length;e===-1&&(e=A.readValue().toNumber(),e*32>A._data.length&&dn.throwError("insufficient data length",C.errors.BUFFER_OVERRUN,{length:A._data.length,count:e}));let t=[];for(let j=0;j<e;j++)t.push(new _i(this.coder));return A.coerce(this.name,Ua(A,t))}};var Ei=class extends ke{constructor(A){super("bool","bool",A,!1)}defaultValue(){return!1}encode(A,e){return A.writeValue(e?1:0)}decode(A){return A.coerce(this.type,!A.readValue().isZero())}};var Bs=class extends ke{constructor(A,e){super(A,A,e,!0)}defaultValue(){return"0x"}encode(A,e){e=J(e);let t=A.writeValue(e.length);return t+=A.writeBytes(e),t}decode(A){return A.readBytes(A.readValue().toNumber(),!0)}},ki=class extends Bs{constructor(A){super("bytes",A)}decode(A){return A.coerce(this.name,Q(super.decode(A)))}};var qi=class extends ke{constructor(A,e){let t="bytes"+String(A);super(t,t,e,!1),this.size=A}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(A,e){let t=J(e);return t.length!==this.size&&this._throwError("incorrect data length",e),A.writeBytes(t)}decode(A){return A.coerce(this.name,Q(A.readBytes(this.size)))}};var $i=class extends ke{constructor(A){super("null","",A,!1)}defaultValue(){return null}encode(A,e){return e!=null&&this._throwError("not null",e),A.writeBytes([])}decode(A){return A.readBytes(0),A.coerce(this.name,null)}};var Fi={};rn(Fi,{AddressZero:()=>Ii,EtherSymbol:()=>l7,HashZero:()=>pn,MaxInt256:()=>f7,MaxUint256:()=>Pi,MinInt256:()=>c7,NegativeOne:()=>Oi,One:()=>Si,Two:()=>o7,WeiPerEther:()=>a7,Zero:()=>hn});var Ii="0x0000000000000000000000000000000000000000";var Oi=X.from(-1),hn=X.from(0),Si=X.from(1),o7=X.from(2),a7=X.from("1000000000000000000"),Pi=X.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),c7=X.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),f7=X.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var pn="0x0000000000000000000000000000000000000000000000000000000000000000";var l7="\u039E";var Gi=class extends ke{constructor(A,e,t){let j=(e?"int":"uint")+A*8;super(j,j,t,!1),this.size=A,this.signed=e}defaultValue(){return 0}encode(A,e){let t=X.from(e),j=Pi.mask(A.wordSize*8);if(this.signed){let n=j.mask(this.size*8-1);(t.gt(n)||t.lt(n.add(Si).mul(Oi)))&&this._throwError("value out-of-bounds",e)}else(t.lt(hn)||t.gt(j.mask(this.size*8)))&&this._throwError("value out-of-bounds",e);return t=t.toTwos(this.size*8).mask(this.size*8),this.signed&&(t=t.fromTwos(this.size*8).toTwos(8*A.wordSize)),A.writeValue(t)}decode(A){let e=A.readValue().mask(this.size*8);return this.signed&&(e=e.fromTwos(this.size*8)),A.coerce(this.name,e)}};var u7="strings/5.7.0";var d7=new C(u7),At;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(At||(At={}));var Ue;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(Ue||(Ue={}));function Jb(r,A,e,t,j){return d7.throwArgumentError(`invalid codepoint at offset ${A}; ${r}`,"bytes",e)}function h7(r,A,e,t,j){if(r===Ue.BAD_PREFIX||r===Ue.UNEXPECTED_CONTINUE){let n=0;for(let s=A+1;s<e.length&&e[s]>>6===2;s++)n++;return n}return r===Ue.OVERRUN?e.length-A-1:0}function Wb(r,A,e,t,j){return r===Ue.OVERLONG?(t.push(j),0):(t.push(65533),h7(r,A,e,t,j))}var Mi=Object.freeze({error:Jb,ignore:h7,replace:Wb});function Ka(r,A){A==null&&(A=Mi.error),r=J(r);let e=[],t=0;for(;t<r.length;){let j=r[t++];if(!(j>>7)){e.push(j);continue}let n=null,s=null;if((j&224)===192)n=1,s=127;else if((j&240)===224)n=2,s=2047;else if((j&248)===240)n=3,s=65535;else{(j&192)===128?t+=A(Ue.UNEXPECTED_CONTINUE,t-1,r,e):t+=A(Ue.BAD_PREFIX,t-1,r,e);continue}if(t-1+n>=r.length){t+=A(Ue.OVERRUN,t-1,r,e);continue}let o=j&(1<<8-n-1)-1;for(let a=0;a<n;a++){let i=r[t];if((i&192)!=128){t+=A(Ue.MISSING_CONTINUE,t,r,e),o=null;break}o=o<<6|i&63,t++}if(o!==null){if(o>1114111){t+=A(Ue.OUT_OF_RANGE,t-1-n,r,e,o);continue}if(o>=55296&&o<=57343){t+=A(Ue.UTF16_SURROGATE,t-1-n,r,e,o);continue}if(o<=s){t+=A(Ue.OVERLONG,t-1-n,r,e,o);continue}e.push(o)}}return e}function _A(r,A=At.current){A!=At.current&&(d7.checkNormalize(),r=r.normalize(A));let e=[];for(let t=0;t<r.length;t++){let j=r.charCodeAt(t);if(j<128)e.push(j);else if(j<2048)e.push(j>>6|192),e.push(j&63|128);else if((j&64512)==55296){t++;let n=r.charCodeAt(t);if(t>=r.length||(n&64512)!==56320)throw new Error("invalid utf-8 string");let s=65536+((j&1023)<<10)+(n&1023);e.push(s>>18|240),e.push(s>>12&63|128),e.push(s>>6&63|128),e.push(s&63|128)}else e.push(j>>12|224),e.push(j>>6&63|128),e.push(j&63|128)}return J(e)}function La(r){let A="0000"+r.toString(16);return"\\u"+A.substring(A.length-4)}function Ha(r,A){return'"'+Ka(r,A).map(e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?La(e):(e-=65536,La((e>>10&1023)+55296)+La((e&1023)+56320))}).join("")+'"'}function Ri(r){return r.map(A=>A<=65535?String.fromCharCode(A):(A-=65536,String.fromCharCode((A>>10&1023)+55296,(A&1023)+56320))).join("")}function jt(r,A){return Ri(Ka(r,A))}function Xr(r,A=At.current){return Ka(_A(r,A))}function za(r){let A=_A(r);if(A.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Q(uA([A,pn]).slice(0,32))}function Va(r){let A=J(r);if(A.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(A[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let e=31;for(;A[e-1]===0;)e--;return jt(A.slice(0,e))}function Xb(r){if(r.length%4!==0)throw new Error("bad data");let A=[];for(let e=0;e<r.length;e+=4)A.push(parseInt(r.substring(e,e+4),16));return A}function Ja(r,A){A||(A=function(j){return[parseInt(j,16)]});let e=0,t={};return r.split(",").forEach(j=>{let n=j.split(":");e+=parseInt(n[0],16),t[e]=A(n[1])}),t}function p7(r){let A=0;return r.split(",").map(e=>{let t=e.split("-");t.length===1?t[1]="0":t[1]===""&&(t[1]="1");let j=A+parseInt(t[0],16);return A=parseInt(t[1],16),{l:j,h:A}})}function Wa(r,A){let e=0;for(let t=0;t<A.length;t++){let j=A[t];if(e+=j.l,r>=e&&r<=e+j.h&&(r-e)%(j.d||1)===0){if(j.e&&j.e.indexOf(r-e)!==-1)continue;return j}}return null}var Qb=p7("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Zb="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),Yb=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Ay=Ja("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),ey=Ja("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),ty=Ja("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Xb),ry=p7("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function jy(r){return r.reduce((A,e)=>(e.forEach(t=>{A.push(t)}),A),[])}function ny(r){return!!Wa(r,Qb)}function sy(r){let A=Wa(r,Yb);if(A)return[r+A.s];let e=Ay[r];if(e)return e;let t=ey[r];if(t)return[r+t[0]];let j=ty[r];return j||null}function iy(r){return!!Wa(r,ry)}function Xa(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let A=Xr(r);A=jy(A.map(t=>{if(Zb.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let j=sy(t);return j||[t]})),A=Xr(Ri(A),At.NFKC),A.forEach(t=>{if(iy(t))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),A.forEach(t=>{if(ny(t))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let e=Ri(A);if(e.substring(0,1)==="-"||e.substring(2,4)==="--"||e.substring(e.length-1)==="-")throw new Error("invalid hyphen");return e}var Ci=class extends Bs{constructor(A){super("string",A)}defaultValue(){return""}encode(A,e){return super.encode(A,_A(e))}decode(A){return jt(super.decode(A))}};var Cj=class extends ke{constructor(A,e){let t=!1,j=[];A.forEach(s=>{s.dynamic&&(t=!0),j.push(s.type)});let n="tuple("+j.join(",")+")";super("tuple",n,e,t),this.coders=A}defaultValue(){let A=[];this.coders.forEach(t=>{A.push(t.defaultValue())});let e=this.coders.reduce((t,j)=>{let n=j.localName;return n&&(t[n]||(t[n]=0),t[n]++),t},{});return this.coders.forEach((t,j)=>{let n=t.localName;!n||e[n]!==1||(n==="length"&&(n="_length"),A[n]==null&&(A[n]=A[j]))}),Object.freeze(A)}encode(A,e){return Da(A,this.coders,e)}decode(A){return A.coerce(this.name,Ua(A,this.coders))}};var Ti=new C(Ar),oy=new RegExp(/^bytes([0-9]*)$/),ay=new RegExp(/^(u?int)([0-9]*)$/),mn=class{constructor(A){L(this,"coerceFunc",A||null)}_getCoder(A){switch(A.baseType){case"address":return new vi(A.name);case"bool":return new Ei(A.name);case"string":return new Ci(A.name);case"bytes":return new ki(A.name);case"array":return new wi(this._getCoder(A.arrayChildren),A.arrayLength,A.name);case"tuple":return new Cj((A.components||[]).map(t=>this._getCoder(t)),A.name);case"":return new $i(A.name)}let e=A.type.match(ay);if(e){let t=parseInt(e[2]||"256");return(t===0||t>256||t%8!==0)&&Ti.throwArgumentError("invalid "+e[1]+" bit length","param",A),new Gi(t/8,e[1]==="int",A.name)}if(e=A.type.match(oy),e){let t=parseInt(e[1]);return(t===0||t>32)&&Ti.throwArgumentError("invalid bytes length","param",A),new qi(t,A.name)}return Ti.throwArgumentError("invalid type","type",A.type)}_getWordSize(){return 32}_getReader(A,e){return new Mj(A,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new Gj(this._getWordSize())}getDefaultValue(A){let e=A.map(j=>this._getCoder(de.from(j)));return new Cj(e,"_").defaultValue()}encode(A,e){A.length!==e.length&&Ti.throwError("types/values length mismatch",C.errors.INVALID_ARGUMENT,{count:{types:A.length,values:e.length},value:{types:A,values:e}});let t=A.map(s=>this._getCoder(de.from(s))),j=new Cj(t,"_"),n=this._getWriter();return j.encode(n,e),n.data}decode(A,e,t){let j=A.map(s=>this._getCoder(de.from(s)));return new Cj(j,"_").decode(this._getReader(J(e),t))}},xs=new mn;function dt(r){return dA(_A(r))}var Ni="hash/5.7.0";var Qa={};rn(Qa,{decode:()=>gn,encode:()=>bn});function gn(r){r=atob(r);let A=[];for(let e=0;e<r.length;e++)A.push(r.charCodeAt(e));return J(A)}function bn(r){r=J(r);let A="";for(let e=0;e<r.length;e++)A+=String.fromCharCode(r[e]);return btoa(A)}function g7(r,A){A==null&&(A=1);let e=[],t=e.forEach,j=function(n,s){t.call(n,function(o){s>0&&Array.isArray(o)?j(o,s-1):e.push(o)})};return j(r,A),e}function cy(r){let A={};for(let e=0;e<r.length;e++){let t=r[e];A[t[0]]=t[1]}return A}function fy(r){let A=0;function e(){return r[A++]<<8|r[A++]}let t=e(),j=1,n=[0,1];for(let q=1;q<t;q++)n.push(j+=e());let s=e(),o=A;A+=s;let a=0,i=0;function c(){return a==0&&(i=i<<8|r[A++],a=8),i>>--a&1}let l=31,u=Math.pow(2,l),f=u>>>1,h=f>>1,d=u-1,m=0;for(let q=0;q<l;q++)m=m<<1|c();let b=[],B=0,_=u;for(;;){let q=Math.floor(((m-B+1)*j-1)/_),y=0,w=t;for(;w-y>1;){let H=y+w>>>1;q<n[H]?w=H:y=H}if(y==0)break;b.push(y);let k=B+Math.floor(_*n[y]/j),R=B+Math.floor(_*n[y+1]/j)-1;for(;!((k^R)&f);)m=m<<1&d|c(),k=k<<1&d,R=R<<1&d|1;for(;k&~R&h;)m=m&f|m<<1&d>>>1|c(),k=k<<1^f,R=(R^f)<<1|f|1;B=k,_=1+R-k}let S=t-4;return b.map(q=>{switch(q-S){case 3:return S+65792+(r[o++]<<16|r[o++]<<8|r[o++]);case 2:return S+256+(r[o++]<<8|r[o++]);case 1:return S+r[o++];default:return q-1}})}function ly(r){let A=0;return()=>r[A++]}function b7(r){return ly(fy(r))}function uy(r){return r&1?~r>>1:r>>1}function dy(r,A){let e=Array(r);for(let t=0;t<r;t++)e[t]=1+A();return e}function m7(r,A){let e=Array(r);for(let t=0,j=-1;t<r;t++)e[t]=j+=1+A();return e}function hy(r,A){let e=Array(r);for(let t=0,j=0;t<r;t++)e[t]=j+=uy(A());return e}function vs(r,A){let e=m7(r(),r),t=r(),j=m7(t,r),n=dy(t,r);for(let s=0;s<t;s++)for(let o=0;o<n[s];o++)e.push(j[s]+o);return A?e.map(s=>A[s]):e}function y7(r){let A=[];for(;;){let e=r();if(e==0)break;A.push(my(e,r))}for(;;){let e=r()-1;if(e<0)break;A.push(gy(e,r))}return cy(g7(A))}function py(r){let A=[];for(;;){let e=r();if(e==0)break;A.push(e)}return A}function B7(r,A,e){let t=Array(r).fill(void 0).map(()=>[]);for(let j=0;j<A;j++)hy(r,e).forEach((n,s)=>t[s].push(n));return t}function my(r,A){let e=1+A(),t=A(),j=py(A),n=B7(j.length,1+r,A);return g7(n.map((s,o)=>{let a=s[0],i=s.slice(1);return Array(j[o]).fill(void 0).map((c,l)=>{let u=l*t;return[a+l*e,i.map(f=>f+u)]})}))}function gy(r,A){let e=1+A();return B7(e,1+r,A).map(j=>[j[0],j.slice(1)])}function x7(r){let A=vs(r).sort((t,j)=>t-j);return e();function e(){let t=[];for(;;){let i=vs(r,A);if(i.length==0)break;t.push({set:new Set(i),node:e()})}t.sort((i,c)=>c.set.size-i.set.size);let j=r(),n=j%3;j=j/3|0;let s=!!(j&1);j>>=1;let o=j==1,a=j==2;return{branches:t,valid:n,fe0f:s,save:o,check:a}}}function v7(){return b7(gn("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}var Di=v7(),by=new Set(vs(Di)),yy=new Set(vs(Di)),By=y7(Di),xy=x7(Di),_7=45,w7=95;function E7(r){return Xr(r)}function vy(r){return r.filter(A=>A!=65039)}function k7(r){for(let A of r.split(".")){let e=E7(A);try{for(let t=e.lastIndexOf(w7)-1;t>=0;t--)if(e[t]!==w7)throw new Error("underscore only allowed at start");if(e.length>=4&&e.every(t=>t<128)&&e[2]===_7&&e[3]===_7)throw new Error("invalid label extension")}catch(t){throw new Error(`Invalid label "${A}": ${t.message}`)}}return r}function q7(r){return k7(_y(r,vy))}function _y(r,A){let e=E7(r).reverse(),t=[];for(;e.length;){let j=Ey(e);if(j){t.push(...A(j));continue}let n=e.pop();if(by.has(n)){t.push(n);continue}if(yy.has(n))continue;let s=By[n];if(s){t.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${n.toString(16).toUpperCase()}`)}return k7(wy(String.fromCodePoint(...t)))}function wy(r){return r.normalize("NFC")}function Ey(r,A){var e;let t=xy,j,n,s=[],o=r.length;for(A&&(A.length=0);o;){let a=r[--o];if(t=(e=t.branches.find(i=>i.set.has(a)))===null||e===void 0?void 0:e.node,!t)break;if(t.save)n=a;else if(t.check&&a===n)break;s.push(a),t.fe0f&&(s.push(65039),o>0&&r[o-1]==65039&&o--),t.valid&&(j=s.slice(),t.valid==2&&j.splice(1,1),A&&A.push(...r.slice(o).reverse()),r.length=o)}return j}var ky=new C(Ni),I7=new Uint8Array(32);I7.fill(0);function $7(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function Za(r){let A=_A(q7(r)),e=[];if(r.length===0)return e;let t=0;for(let j=0;j<A.length;j++)A[j]===46&&(e.push($7(A.slice(t,j))),t=j+1);if(t>=A.length)throw new Error("invalid ENS name; empty component");return e.push($7(A.slice(t))),e}function Ya(r){try{return Za(r).length!==0}catch{}return!1}function Qr(r){typeof r!="string"&&ky.throwArgumentError("invalid ENS name; not a string","name",r);let A=I7,e=Za(r);for(;e.length;)A=dA(uA([A,dA(e.pop())]));return Q(A)}function _s(r){return Q(uA(Za(r).map(A=>{if(A.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");let e=new Uint8Array(A.length+1);return e.set(A,1),e[0]=e.length-1,e})))+"00"}var O7=`Ethereum Signed Message:
`;function yn(r){return typeof r=="string"&&(r=_A(r)),dA(uA([_A(O7),_A(String(r.length)),r]))}var qy=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},ye=new C(Ni),G7=new Uint8Array(32);G7.fill(0);var $y=X.from(-1),M7=X.from(0),R7=X.from(1),Iy=X.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Oy(r){let A=J(r),e=A.length%32;return e?Ee([A,G7.slice(e)]):Q(A)}var Sy=mA(R7.toHexString(),32),Py=mA(M7.toHexString(),32),S7={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ac=["name","version","chainId","verifyingContract","salt"];function P7(r){return function(A){return typeof A!="string"&&ye.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,A),A}}var Fy={name:P7("name"),version:P7("version"),chainId:function(r){try{return X.from(r).toString()}catch{}return ye.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return hA(r).toLowerCase()}catch{}return ye.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{let A=J(r);if(A.length!==32)throw new Error("bad length");return Q(A)}catch{}return ye.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function ec(r){{let A=r.match(/^(u?)int(\d*)$/);if(A){let e=A[1]==="",t=parseInt(A[2]||"256");(t%8!==0||t>256||A[2]&&A[2]!==String(t))&&ye.throwArgumentError("invalid numeric width","type",r);let j=Iy.mask(e?t-1:t),n=e?j.add(R7).mul($y):M7;return function(s){let o=X.from(s);return(o.lt(n)||o.gt(j))&&ye.throwArgumentError(`value out-of-bounds for ${r}`,"value",s),mA(o.toTwos(256).toHexString(),32)}}}{let A=r.match(/^bytes(\d+)$/);if(A){let e=parseInt(A[1]);return(e===0||e>32||A[1]!==String(e))&&ye.throwArgumentError("invalid bytes width","type",r),function(t){return J(t).length!==e&&ye.throwArgumentError(`invalid length for ${r}`,"value",t),Oy(t)}}}switch(r){case"address":return function(A){return mA(hA(A),32)};case"bool":return function(A){return A?Sy:Py};case"bytes":return function(A){return dA(A)};case"string":return function(A){return dt(A)}}return null}function F7(r,A){return`${r}(${A.map(({name:e,type:t})=>t+" "+e).join(",")})`}var Be=class{constructor(A){L(this,"types",Object.freeze(ge(A))),L(this,"_encoderCache",{}),L(this,"_types",{});let e={},t={},j={};Object.keys(A).forEach(o=>{e[o]={},t[o]=[],j[o]={}});for(let o in A){let a={};A[o].forEach(i=>{a[i.name]&&ye.throwArgumentError(`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(o)}`,"types",A),a[i.name]=!0;let c=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];c===o&&ye.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",A),!ec(c)&&(t[c]||ye.throwArgumentError(`unknown type ${JSON.stringify(c)}`,"types",A),t[c].push(o),e[o][c]=!0)})}let n=Object.keys(t).filter(o=>t[o].length===0);n.length===0?ye.throwArgumentError("missing primary type","types",A):n.length>1&&ye.throwArgumentError(`ambiguous primary types or unused types: ${n.map(o=>JSON.stringify(o)).join(", ")}`,"types",A),L(this,"primaryType",n[0]);function s(o,a){a[o]&&ye.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",A),a[o]=!0,Object.keys(e[o]).forEach(i=>{t[i]&&(s(i,a),Object.keys(a).forEach(c=>{j[c][i]=!0}))}),delete a[o]}s(this.primaryType,{});for(let o in j){let a=Object.keys(j[o]);a.sort(),this._types[o]=F7(o,A[o])+a.map(i=>F7(i,A[i])).join("")}}getEncoder(A){let e=this._encoderCache[A];return e||(e=this._encoderCache[A]=this._getEncoder(A)),e}_getEncoder(A){{let j=ec(A);if(j)return j}let e=A.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){let j=e[1],n=this.getEncoder(j),s=parseInt(e[3]);return o=>{s>=0&&o.length!==s&&ye.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let a=o.map(n);return this._types[j]&&(a=a.map(dA)),dA(Ee(a))}}let t=this.types[A];if(t){let j=dt(this._types[A]);return n=>{let s=t.map(({name:o,type:a})=>{let i=this.getEncoder(a)(n[o]);return this._types[a]?dA(i):i});return s.unshift(j),Ee(s)}}return ye.throwArgumentError(`unknown type: ${A}`,"type",A)}encodeType(A){let e=this._types[A];return e||ye.throwArgumentError(`unknown type: ${JSON.stringify(A)}`,"name",A),e}encodeData(A,e){return this.getEncoder(A)(e)}hashStruct(A,e){return dA(this.encodeData(A,e))}encode(A){return this.encodeData(this.primaryType,A)}hash(A){return this.hashStruct(this.primaryType,A)}_visit(A,e,t){if(ec(A))return t(A,e);let j=A.match(/^(.*)(\x5b(\d*)\x5d)$/);if(j){let s=j[1],o=parseInt(j[3]);return o>=0&&e.length!==o&&ye.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map(a=>this._visit(s,a,t))}let n=this.types[A];return n?n.reduce((s,{name:o,type:a})=>(s[o]=this._visit(a,e[o],t),s),{}):ye.throwArgumentError(`unknown type: ${A}`,"type",A)}visit(A,e){return this._visit(this.primaryType,A,e)}static from(A){return new Be(A)}static getPrimaryType(A){return Be.from(A).primaryType}static hashStruct(A,e,t){return Be.from(e).hashStruct(A,t)}static hashDomain(A){let e=[];for(let t in A){let j=S7[t];j||ye.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(t)}`,"domain",A),e.push({name:t,type:j})}return e.sort((t,j)=>Ac.indexOf(t.name)-Ac.indexOf(j.name)),Be.hashStruct("EIP712Domain",{EIP712Domain:e},A)}static encode(A,e,t){return Ee(["0x1901",Be.hashDomain(A),Be.from(e).hash(t)])}static hash(A,e,t){return dA(Be.encode(A,e,t))}static resolveNames(A,e,t,j){return qy(this,void 0,void 0,function*(){A=EA(A);let n={};A.verifyingContract&&!sA(A.verifyingContract,20)&&(n[A.verifyingContract]="0x");let s=Be.from(e);s.visit(t,(o,a)=>(o==="address"&&!sA(a,20)&&(n[a]="0x"),a));for(let o in n)n[o]=yield j(o);return A.verifyingContract&&n[A.verifyingContract]&&(A.verifyingContract=n[A.verifyingContract]),t=s.visit(t,(o,a)=>o==="address"&&n[a]?n[a]:a),{domain:A,value:t}})}static getPayload(A,e,t){Be.hashDomain(A);let j={},n=[];Ac.forEach(a=>{let i=A[a];i!=null&&(j[a]=Fy[a](i),n.push({name:a,type:S7[a]}))});let s=Be.from(e),o=EA(e);return o.EIP712Domain?ye.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):o.EIP712Domain=n,s.encode(t),{types:o,domain:j,primaryType:s.primaryType,message:s.visit(t,(a,i)=>{if(a.match(/^bytes(\d*)/))return Q(J(i));if(a.match(/^u?int/))return X.from(i).toString();switch(a){case"address":return i.toLowerCase();case"bool":return!!i;case"string":return typeof i!="string"&&ye.throwArgumentError("invalid string","value",i),i}return ye.throwArgumentError("unsupported type","type",a)})}}};var xe=new C(Ar);var Bn=class extends lt{},xn=class extends lt{},tc=class extends lt{},_r=class extends lt{static isIndexed(A){return!!(A&&A._isIndexed)}},Gy={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function C7(r,A){let e=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return e.error=A,e}var Zr=class{constructor(A){let e=[];typeof A=="string"?e=JSON.parse(A):e=A,L(this,"fragments",e.map(t=>Ye.from(t)).filter(t=>t!=null)),L(this,"_abiCoder",be(new.target,"getAbiCoder")()),L(this,"functions",{}),L(this,"errors",{}),L(this,"events",{}),L(this,"structs",{}),this.fragments.forEach(t=>{let j=null;switch(t.type){case"constructor":if(this.deploy){xe.warn("duplicate definition - constructor");return}L(this,"deploy",t);return;case"function":j=this.functions;break;case"event":j=this.events;break;case"error":j=this.errors;break;default:return}let n=t.format();if(j[n]){xe.warn("duplicate definition - "+n);return}j[n]=t}),this.deploy||L(this,"deploy",Ne.from({payable:!1,type:"constructor"})),L(this,"_isInterface",!0)}format(A){A||(A=BA.full),A===BA.sighash&&xe.throwArgumentError("interface does not support formatting sighash","format",A);let e=this.fragments.map(t=>t.format(A));return A===BA.json?JSON.stringify(e.map(t=>JSON.parse(t))):e}static getAbiCoder(){return xs}static getAddress(A){return hA(A)}static getSighash(A){return IA(dt(A.format()),0,4)}static getEventTopic(A){return dt(A.format())}getFunction(A){if(sA(A)){for(let t in this.functions)if(A===this.getSighash(t))return this.functions[t];xe.throwArgumentError("no matching function","sighash",A)}if(A.indexOf("(")===-1){let t=A.trim(),j=Object.keys(this.functions).filter(n=>n.split("(")[0]===t);return j.length===0?xe.throwArgumentError("no matching function","name",t):j.length>1&&xe.throwArgumentError("multiple matching functions","name",t),this.functions[j[0]]}let e=this.functions[De.fromString(A).format()];return e||xe.throwArgumentError("no matching function","signature",A),e}getEvent(A){if(sA(A)){let t=A.toLowerCase();for(let j in this.events)if(t===this.getEventTopic(j))return this.events[j];xe.throwArgumentError("no matching event","topichash",t)}if(A.indexOf("(")===-1){let t=A.trim(),j=Object.keys(this.events).filter(n=>n.split("(")[0]===t);return j.length===0?xe.throwArgumentError("no matching event","name",t):j.length>1&&xe.throwArgumentError("multiple matching events","name",t),this.events[j[0]]}let e=this.events[Ze.fromString(A).format()];return e||xe.throwArgumentError("no matching event","signature",A),e}getError(A){if(sA(A)){let t=be(this.constructor,"getSighash");for(let j in this.errors){let n=this.errors[j];if(A===t(n))return this.errors[j]}xe.throwArgumentError("no matching error","sighash",A)}if(A.indexOf("(")===-1){let t=A.trim(),j=Object.keys(this.errors).filter(n=>n.split("(")[0]===t);return j.length===0?xe.throwArgumentError("no matching error","name",t):j.length>1&&xe.throwArgumentError("multiple matching errors","name",t),this.errors[j[0]]}let e=this.errors[De.fromString(A).format()];return e||xe.throwArgumentError("no matching error","signature",A),e}getSighash(A){if(typeof A=="string")try{A=this.getFunction(A)}catch(e){try{A=this.getError(A)}catch{throw e}}return be(this.constructor,"getSighash")(A)}getEventTopic(A){return typeof A=="string"&&(A=this.getEvent(A)),be(this.constructor,"getEventTopic")(A)}_decodeParams(A,e){return this._abiCoder.decode(A,e)}_encodeParams(A,e){return this._abiCoder.encode(A,e)}encodeDeploy(A){return this._encodeParams(this.deploy.inputs,A||[])}decodeErrorResult(A,e){typeof A=="string"&&(A=this.getError(A));let t=J(e);return Q(t.slice(0,4))!==this.getSighash(A)&&xe.throwArgumentError(`data signature does not match error ${A.name}.`,"data",Q(t)),this._decodeParams(A.inputs,t.slice(4))}encodeErrorResult(A,e){return typeof A=="string"&&(A=this.getError(A)),Q(uA([this.getSighash(A),this._encodeParams(A.inputs,e||[])]))}decodeFunctionData(A,e){typeof A=="string"&&(A=this.getFunction(A));let t=J(e);return Q(t.slice(0,4))!==this.getSighash(A)&&xe.throwArgumentError(`data signature does not match function ${A.name}.`,"data",Q(t)),this._decodeParams(A.inputs,t.slice(4))}encodeFunctionData(A,e){return typeof A=="string"&&(A=this.getFunction(A)),Q(uA([this.getSighash(A),this._encodeParams(A.inputs,e||[])]))}decodeFunctionResult(A,e){typeof A=="string"&&(A=this.getFunction(A));let t=J(e),j=null,n="",s=null,o=null,a=null;switch(t.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(A.outputs,t)}catch{}break;case 4:{let i=Q(t.slice(0,4)),c=Gy[i];if(c)s=this._abiCoder.decode(c.inputs,t.slice(4)),o=c.name,a=c.signature,c.reason&&(j=s[0]),o==="Error"?n=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:o==="Panic"&&(n=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{let l=this.getError(i);s=this._abiCoder.decode(l.inputs,t.slice(4)),o=l.name,a=l.format()}catch{}break}}return xe.throwError("call revert exception"+n,C.errors.CALL_EXCEPTION,{method:A.format(),data:Q(e),errorArgs:s,errorName:o,errorSignature:a,reason:j})}encodeFunctionResult(A,e){return typeof A=="string"&&(A=this.getFunction(A)),Q(this._abiCoder.encode(A.outputs,e||[]))}encodeFilterTopics(A,e){typeof A=="string"&&(A=this.getEvent(A)),e.length>A.inputs.length&&xe.throwError("too many arguments for "+A.format(),C.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let t=[];A.anonymous||t.push(this.getEventTopic(A));let j=(n,s)=>n.type==="string"?dt(s):n.type==="bytes"?dA(Q(s)):(n.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),n.type.match(/^u?int/)&&(s=X.from(s).toHexString()),n.type==="address"&&this._abiCoder.encode(["address"],[s]),mA(Q(s),32));for(e.forEach((n,s)=>{let o=A.inputs[s];if(!o.indexed){n!=null&&xe.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,n);return}n==null?t.push(null):o.baseType==="array"||o.baseType==="tuple"?xe.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,n):Array.isArray(n)?t.push(n.map(a=>j(o,a))):t.push(j(o,n))});t.length&&t[t.length-1]===null;)t.pop();return t}encodeEventLog(A,e){typeof A=="string"&&(A=this.getEvent(A));let t=[],j=[],n=[];return A.anonymous||t.push(this.getEventTopic(A)),e.length!==A.inputs.length&&xe.throwArgumentError("event arguments/values mismatch","values",e),A.inputs.forEach((s,o)=>{let a=e[o];if(s.indexed)if(s.type==="string")t.push(dt(a));else if(s.type==="bytes")t.push(dA(a));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");t.push(this._abiCoder.encode([s.type],[a]))}else j.push(s),n.push(a)}),{data:this._abiCoder.encode(j,n),topics:t}}decodeEventLog(A,e,t){if(typeof A=="string"&&(A=this.getEvent(A)),t!=null&&!A.anonymous){let u=this.getEventTopic(A);(!sA(t[0],32)||t[0].toLowerCase()!==u)&&xe.throwError("fragment/topic mismatch",C.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:u,value:t[0]}),t=t.slice(1)}let j=[],n=[],s=[];A.inputs.forEach((u,f)=>{u.indexed?u.type==="string"||u.type==="bytes"||u.baseType==="tuple"||u.baseType==="array"?(j.push(de.fromObject({type:"bytes32",name:u.name})),s.push(!0)):(j.push(u),s.push(!1)):(n.push(u),s.push(!1))});let o=t!=null?this._abiCoder.decode(j,uA(t)):null,a=this._abiCoder.decode(n,e,!0),i=[],c=0,l=0;A.inputs.forEach((u,f)=>{if(u.indexed)if(o==null)i[f]=new _r({_isIndexed:!0,hash:null});else if(s[f])i[f]=new _r({_isIndexed:!0,hash:o[l++]});else try{i[f]=o[l++]}catch(h){i[f]=h}else try{i[f]=a[c++]}catch(h){i[f]=h}if(u.name&&i[u.name]==null){let h=i[f];h instanceof Error?Object.defineProperty(i,u.name,{enumerable:!0,get:()=>{throw C7(`property ${JSON.stringify(u.name)}`,h)}}):i[u.name]=h}});for(let u=0;u<i.length;u++){let f=i[u];f instanceof Error&&Object.defineProperty(i,u,{enumerable:!0,get:()=>{throw C7(`index ${u}`,f)}})}return Object.freeze(i)}parseTransaction(A){let e=this.getFunction(A.data.substring(0,10).toLowerCase());return e?new xn({args:this._abiCoder.decode(e.inputs,"0x"+A.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:X.from(A.value||"0")}):null}parseLog(A){let e=this.getEvent(A.topics[0]);return!e||e.anonymous?null:new Bn({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,A.data,A.topics)})}parseError(A){let e=Q(A),t=this.getError(e.substring(0,10).toLowerCase());return t?new tc({args:this._abiCoder.decode(t.inputs,"0x"+e.substring(10)),errorFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t)}):null}static isInterface(A){return!!(A&&A._isInterface)}};var T7="abstract-provider/5.7.0";var My=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},Ry=new C(T7),Ui=class extends lt{static isForkEvent(A){return!!(A&&A._isForkEvent)}};var nt=class{constructor(){Ry.checkAbstract(new.target,nt),L(this,"_isProvider",!0)}getFeeData(){return My(this,void 0,void 0,function*(){let{block:A,gasPrice:e}=yield OA({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)}),t=null,j=null,n=null;return A&&A.baseFeePerGas&&(t=A.baseFeePerGas,n=X.from("1500000000"),j=A.baseFeePerGas.mul(2).add(n)),{lastBaseFeePerGas:t,maxFeePerGas:j,maxPriorityFeePerGas:n,gasPrice:e}})}addListener(A,e){return this.on(A,e)}removeListener(A,e){return this.off(A,e)}static isProvider(A){return!!(A&&A._isProvider)}};var N7="abstract-signer/5.7.0";var Mt=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},_t=new C(N7),Cy=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Ty=[C.errors.INSUFFICIENT_FUNDS,C.errors.NONCE_EXPIRED,C.errors.REPLACEMENT_UNDERPRICED],et=class{constructor(){_t.checkAbstract(new.target,et),L(this,"_isSigner",!0)}getBalance(A){return Mt(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),A)})}getTransactionCount(A){return Mt(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),A)})}estimateGas(A){return Mt(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let e=yield OA(this.checkTransaction(A));return yield this.provider.estimateGas(e)})}call(A,e){return Mt(this,void 0,void 0,function*(){this._checkProvider("call");let t=yield OA(this.checkTransaction(A));return yield this.provider.call(t,e)})}sendTransaction(A){return Mt(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let e=yield this.populateTransaction(A),t=yield this.signTransaction(e);return yield this.provider.sendTransaction(t)})}getChainId(){return Mt(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Mt(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Mt(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(A){return Mt(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(A)})}checkTransaction(A){for(let t in A)Cy.indexOf(t)===-1&&_t.throwArgumentError("invalid transaction key: "+t,"transaction",A);let e=EA(A);return e.from==null?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&_t.throwArgumentError("from address mismatch","transaction",A),t[0])),e}populateTransaction(A){return Mt(this,void 0,void 0,function*(){let e=yield OA(this.checkTransaction(A));e.to!=null&&(e.to=Promise.resolve(e.to).then(j=>Mt(this,void 0,void 0,function*(){if(j==null)return null;let n=yield this.resolveName(j);return n==null&&_t.throwArgumentError("provided ENS name resolves to null","tx.to",j),n})),e.to.catch(j=>{}));let t=e.maxFeePerGas!=null||e.maxPriorityFeePerGas!=null;if(e.gasPrice!=null&&(e.type===2||t)?_t.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",A):(e.type===0||e.type===1)&&t&&_t.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",A),(e.type===2||e.type==null)&&e.maxFeePerGas!=null&&e.maxPriorityFeePerGas!=null)e.type=2;else if(e.type===0||e.type===1)e.gasPrice==null&&(e.gasPrice=this.getGasPrice());else{let j=yield this.getFeeData();if(e.type==null)if(j.maxFeePerGas!=null&&j.maxPriorityFeePerGas!=null)if(e.type=2,e.gasPrice!=null){let n=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=n,e.maxPriorityFeePerGas=n}else e.maxFeePerGas==null&&(e.maxFeePerGas=j.maxFeePerGas),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=j.maxPriorityFeePerGas);else j.gasPrice!=null?(t&&_t.throwError("network does not support EIP-1559",C.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),e.gasPrice==null&&(e.gasPrice=j.gasPrice),e.type=0):_t.throwError("failed to get consistent fee data",C.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else e.type===2&&(e.maxFeePerGas==null&&(e.maxFeePerGas=j.maxFeePerGas),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=j.maxPriorityFeePerGas))}return e.nonce==null&&(e.nonce=this.getTransactionCount("pending")),e.gasLimit==null&&(e.gasLimit=this.estimateGas(e).catch(j=>{if(Ty.indexOf(j.code)>=0)throw j;return _t.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",C.errors.UNPREDICTABLE_GAS_LIMIT,{error:j,tx:e})})),e.chainId==null?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then(j=>(j[1]!==0&&j[0]!==j[1]&&_t.throwArgumentError("chainId address mismatch","transaction",A),j[0])),yield OA(e)})}_checkProvider(A){this.provider||_t.throwError("missing provider",C.errors.UNSUPPORTED_OPERATION,{operation:A||"_checkProvider"})}static isSigner(A){return!!(A&&A._isSigner)}},wr=class extends et{constructor(A,e){super(),L(this,"address",A),L(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(A,e){return Promise.resolve().then(()=>{_t.throwError(A,C.errors.UNSUPPORTED_OPERATION,{operation:e})})}signMessage(A){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(A){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(A,e,t){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(A){return new wr(this.address,A)}};var lA=bt(Ia()),or=bt(lc());function In(r,A,e){return e={path:A,exports:{},require:function(t,j){return ox(t,j??e.path)}},r(e,e.exports),e.exports}function ox(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var pc=_d;function _d(r,A){if(!r)throw new Error(A||"Assertion failed")}_d.equal=function(A,e,t){if(A!=e)throw new Error(t||"Assertion failed: "+A+" != "+e)};var Nt=In(function(r,A){"use strict";var e=A;function t(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var i=0;i<s.length;i++)a[i]=s[i]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var i=0;i<s.length;i+=2)a.push(parseInt(s[i]+s[i+1],16))}else for(var i=0;i<s.length;i++){var c=s.charCodeAt(i),l=c>>8,u=c&255;l?a.push(l,u):a.push(u)}return a}e.toArray=t;function j(s){return s.length===1?"0"+s:s}e.zero2=j;function n(s){for(var o="",a=0;a<s.length;a++)o+=j(s[a].toString(16));return o}e.toHex=n,e.encode=function(o,a){return a==="hex"?n(o):o}}),ht=In(function(r,A){"use strict";var e=A;e.assert=pc,e.toArray=Nt.toArray,e.zero2=Nt.zero2,e.toHex=Nt.toHex,e.encode=Nt.encode;function t(a,i,c){var l=new Array(Math.max(a.bitLength(),c)+1);l.fill(0);for(var u=1<<i+1,f=a.clone(),h=0;h<l.length;h++){var d,m=f.andln(u-1);f.isOdd()?(m>(u>>1)-1?d=(u>>1)-m:d=m,f.isubn(d)):d=0,l[h]=d,f.iushrn(1)}return l}e.getNAF=t;function j(a,i){var c=[[],[]];a=a.clone(),i=i.clone();for(var l=0,u=0,f;a.cmpn(-l)>0||i.cmpn(-u)>0;){var h=a.andln(3)+l&3,d=i.andln(3)+u&3;h===3&&(h=-1),d===3&&(d=-1);var m;h&1?(f=a.andln(7)+l&7,(f===3||f===5)&&d===2?m=-h:m=h):m=0,c[0].push(m);var b;d&1?(f=i.andln(7)+u&7,(f===3||f===5)&&h===2?b=-d:b=d):b=0,c[1].push(b),2*l===m+1&&(l=1-l),2*u===b+1&&(u=1-u),a.iushrn(1),i.iushrn(1)}return c}e.getJSF=j;function n(a,i,c){var l="_"+i;a.prototype[i]=function(){return this[l]!==void 0?this[l]:this[l]=c.call(this)}}e.cachedProperty=n;function s(a){return typeof a=="string"?e.toArray(a,"hex"):a}e.parseBytes=s;function o(a){return new lA.default(a,"hex","le")}e.intFromLE=o}),Vi=ht.getNAF,ax=ht.getJSF,Ji=ht.assert;function ej(r,A){this.type=r,this.p=new lA.default(A.p,16),this.red=A.prime?lA.default.red(A.prime):lA.default.mont(this.p),this.zero=new lA.default(0).toRed(this.red),this.one=new lA.default(1).toRed(this.red),this.two=new lA.default(2).toRed(this.red),this.n=A.n&&new lA.default(A.n,16),this.g=A.g&&this.pointFromJSON(A.g,A.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var e=this.n&&this.p.div(this.n);!e||e.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Nj=ej;ej.prototype.point=function(){throw new Error("Not implemented")};ej.prototype.validate=function(){throw new Error("Not implemented")};ej.prototype._fixedNafMul=function(A,e){Ji(A.precomputed);var t=A._getDoubles(),j=Vi(e,1,this._bitLength),n=(1<<t.step+1)-(t.step%2===0?2:1);n/=3;var s=[],o,a;for(o=0;o<j.length;o+=t.step){a=0;for(var i=o+t.step-1;i>=o;i--)a=(a<<1)+j[i];s.push(a)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),u=n;u>0;u--){for(o=0;o<s.length;o++)a=s[o],a===u?l=l.mixedAdd(t.points[o]):a===-u&&(l=l.mixedAdd(t.points[o].neg()));c=c.add(l)}return c.toP()};ej.prototype._wnafMul=function(A,e){var t=4,j=A._getNAFPoints(t);t=j.wnd;for(var n=j.points,s=Vi(e,t,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var i=0;a>=0&&s[a]===0;a--)i++;if(a>=0&&i++,o=o.dblp(i),a<0)break;var c=s[a];Ji(c!==0),A.type==="affine"?c>0?o=o.mixedAdd(n[c-1>>1]):o=o.mixedAdd(n[-c-1>>1].neg()):c>0?o=o.add(n[c-1>>1]):o=o.add(n[-c-1>>1].neg())}return A.type==="affine"?o.toP():o};ej.prototype._wnafMulAdd=function(A,e,t,j,n){var s=this._wnafT1,o=this._wnafT2,a=this._wnafT3,i=0,c,l,u;for(c=0;c<j;c++){u=e[c];var f=u._getNAFPoints(A);s[c]=f.wnd,o[c]=f.points}for(c=j-1;c>=1;c-=2){var h=c-1,d=c;if(s[h]!==1||s[d]!==1){a[h]=Vi(t[h],s[h],this._bitLength),a[d]=Vi(t[d],s[d],this._bitLength),i=Math.max(a[h].length,i),i=Math.max(a[d].length,i);continue}var m=[e[h],null,null,e[d]];e[h].y.cmp(e[d].y)===0?(m[1]=e[h].add(e[d]),m[2]=e[h].toJ().mixedAdd(e[d].neg())):e[h].y.cmp(e[d].y.redNeg())===0?(m[1]=e[h].toJ().mixedAdd(e[d]),m[2]=e[h].add(e[d].neg())):(m[1]=e[h].toJ().mixedAdd(e[d]),m[2]=e[h].toJ().mixedAdd(e[d].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],B=ax(t[h],t[d]);for(i=Math.max(B[0].length,i),a[h]=new Array(i),a[d]=new Array(i),l=0;l<i;l++){var _=B[0][l]|0,S=B[1][l]|0;a[h][l]=b[(_+1)*3+(S+1)],a[d][l]=0,o[h]=m}}var q=this.jpoint(null,null,null),y=this._wnafT4;for(c=i;c>=0;c--){for(var w=0;c>=0;){var k=!0;for(l=0;l<j;l++)y[l]=a[l][c]|0,y[l]!==0&&(k=!1);if(!k)break;w++,c--}if(c>=0&&w++,q=q.dblp(w),c<0)break;for(l=0;l<j;l++){var R=y[l];R!==0&&(R>0?u=o[l][R-1>>1]:R<0&&(u=o[l][-R-1>>1].neg()),u.type==="affine"?q=q.mixedAdd(u):q=q.add(u))}}for(c=0;c<j;c++)o[c]=null;return n?q:q.toP()};function Et(r,A){this.curve=r,this.type=A,this.precomputed=null}ej.BasePoint=Et;Et.prototype.eq=function(){throw new Error("Not implemented")};Et.prototype.validate=function(){return this.curve.validate(this)};ej.prototype.decodePoint=function(A,e){A=ht.toArray(A,e);var t=this.p.byteLength();if((A[0]===4||A[0]===6||A[0]===7)&&A.length-1===2*t){A[0]===6?Ji(A[A.length-1]%2===0):A[0]===7&&Ji(A[A.length-1]%2===1);var j=this.point(A.slice(1,1+t),A.slice(1+t,1+2*t));return j}else if((A[0]===2||A[0]===3)&&A.length-1===t)return this.pointFromX(A.slice(1,1+t),A[0]===3);throw new Error("Unknown point format")};Et.prototype.encodeCompressed=function(A){return this.encode(A,!0)};Et.prototype._encode=function(A){var e=this.curve.p.byteLength(),t=this.getX().toArray("be",e);return A?[this.getY().isEven()?2:3].concat(t):[4].concat(t,this.getY().toArray("be",e))};Et.prototype.encode=function(A,e){return ht.encode(this._encode(e),A)};Et.prototype.precompute=function(A){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,A),e.beta=this._getBeta(),this.precomputed=e,this};Et.prototype._hasDoubles=function(A){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return e?e.points.length>=Math.ceil((A.bitLength()+1)/e.step):!1};Et.prototype._getDoubles=function(A,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var t=[this],j=this,n=0;n<e;n+=A){for(var s=0;s<A;s++)j=j.dbl();t.push(j)}return{step:A,points:t}};Et.prototype._getNAFPoints=function(A){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],t=(1<<A)-1,j=t===1?null:this.dbl(),n=1;n<t;n++)e[n]=e[n-1].add(j);return{wnd:A,points:e}};Et.prototype._getBeta=function(){return null};Et.prototype.dblp=function(A){for(var e=this,t=0;t<A;t++)e=e.dbl();return e};var mc=In(function(r){typeof Object.create=="function"?r.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(e,t){if(t){e.super_=t;var j=function(){};j.prototype=t.prototype,e.prototype=new j,e.prototype.constructor=e}}}),cx=ht.assert;function kt(r){Nj.call(this,"short",r),this.a=new lA.default(r.a,16).toRed(this.red),this.b=new lA.default(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}mc(kt,Nj);var fx=kt;kt.prototype._getEndomorphism=function(A){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var e,t;if(A.beta)e=new lA.default(A.beta,16).toRed(this.red);else{var j=this._getEndoRoots(this.p);e=j[0].cmp(j[1])<0?j[0]:j[1],e=e.toRed(this.red)}if(A.lambda)t=new lA.default(A.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(e))===0?t=n[0]:(t=n[1],cx(this.g.mul(t).x.cmp(this.g.x.redMul(e))===0))}var s;return A.basis?s=A.basis.map(function(o){return{a:new lA.default(o.a,16),b:new lA.default(o.b,16)}}):s=this._getEndoBasis(t),{beta:e,lambda:t,basis:s}}};kt.prototype._getEndoRoots=function(A){var e=A===this.p?this.red:lA.default.mont(A),t=new lA.default(2).toRed(e).redInvm(),j=t.redNeg(),n=new lA.default(3).toRed(e).redNeg().redSqrt().redMul(t),s=j.redAdd(n).fromRed(),o=j.redSub(n).fromRed();return[s,o]};kt.prototype._getEndoBasis=function(A){for(var e=this.n.ushrn(Math.floor(this.n.bitLength()/2)),t=A,j=this.n.clone(),n=new lA.default(1),s=new lA.default(0),o=new lA.default(0),a=new lA.default(1),i,c,l,u,f,h,d,m=0,b,B;t.cmpn(0)!==0;){var _=j.div(t);b=j.sub(_.mul(t)),B=o.sub(_.mul(n));var S=a.sub(_.mul(s));if(!l&&b.cmp(e)<0)i=d.neg(),c=n,l=b.neg(),u=B;else if(l&&++m===2)break;d=b,j=t,t=b,o=n,n=B,a=s,s=S}f=b.neg(),h=B;var q=l.sqr().add(u.sqr()),y=f.sqr().add(h.sqr());return y.cmp(q)>=0&&(f=i,h=c),l.negative&&(l=l.neg(),u=u.neg()),f.negative&&(f=f.neg(),h=h.neg()),[{a:l,b:u},{a:f,b:h}]};kt.prototype._endoSplit=function(A){var e=this.endo.basis,t=e[0],j=e[1],n=j.b.mul(A).divRound(this.n),s=t.b.neg().mul(A).divRound(this.n),o=n.mul(t.a),a=s.mul(j.a),i=n.mul(t.b),c=s.mul(j.b),l=A.sub(o).sub(a),u=i.add(c).neg();return{k1:l,k2:u}};kt.prototype.pointFromX=function(A,e){A=new lA.default(A,16),A.red||(A=A.toRed(this.red));var t=A.redSqr().redMul(A).redIAdd(A.redMul(this.a)).redIAdd(this.b),j=t.redSqrt();if(j.redSqr().redSub(t).cmp(this.zero)!==0)throw new Error("invalid point");var n=j.fromRed().isOdd();return(e&&!n||!e&&n)&&(j=j.redNeg()),this.point(A,j)};kt.prototype.validate=function(A){if(A.inf)return!0;var e=A.x,t=A.y,j=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(j).redIAdd(this.b);return t.redSqr().redISub(n).cmpn(0)===0};kt.prototype._endoWnafMulAdd=function(A,e,t){for(var j=this._endoWnafT1,n=this._endoWnafT2,s=0;s<A.length;s++){var o=this._endoSplit(e[s]),a=A[s],i=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),i=i.neg(!0)),j[s*2]=a,j[s*2+1]=i,n[s*2]=o.k1,n[s*2+1]=o.k2}for(var c=this._wnafMulAdd(1,j,n,s*2,t),l=0;l<s*2;l++)j[l]=null,n[l]=null;return c};function Ie(r,A,e,t){Nj.BasePoint.call(this,r,"affine"),A===null&&e===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new lA.default(A,16),this.y=new lA.default(e,16),t&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}mc(Ie,Nj.BasePoint);kt.prototype.point=function(A,e,t){return new Ie(this,A,e,t)};kt.prototype.pointFromJSON=function(A,e){return Ie.fromJSON(this,A,e)};Ie.prototype._getBeta=function(){if(this.curve.endo){var A=this.precomputed;if(A&&A.beta)return A.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(A){var t=this.curve,j=function(n){return t.point(n.x.redMul(t.endo.beta),n.y)};A.beta=e,e.precomputed={beta:null,naf:A.naf&&{wnd:A.naf.wnd,points:A.naf.points.map(j)},doubles:A.doubles&&{step:A.doubles.step,points:A.doubles.points.map(j)}}}return e}};Ie.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ie.fromJSON=function(A,e,t){typeof e=="string"&&(e=JSON.parse(e));var j=A.point(e[0],e[1],t);if(!e[2])return j;function n(o){return A.point(o[0],o[1],t)}var s=e[2];return j.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[j].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[j].concat(s.naf.points.map(n))}},j};Ie.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ie.prototype.isInfinity=function(){return this.inf};Ie.prototype.add=function(A){if(this.inf)return A;if(A.inf)return this;if(this.eq(A))return this.dbl();if(this.neg().eq(A))return this.curve.point(null,null);if(this.x.cmp(A.x)===0)return this.curve.point(null,null);var e=this.y.redSub(A.y);e.cmpn(0)!==0&&(e=e.redMul(this.x.redSub(A.x).redInvm()));var t=e.redSqr().redISub(this.x).redISub(A.x),j=e.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,j)};Ie.prototype.dbl=function(){if(this.inf)return this;var A=this.y.redAdd(this.y);if(A.cmpn(0)===0)return this.curve.point(null,null);var e=this.curve.a,t=this.x.redSqr(),j=A.redInvm(),n=t.redAdd(t).redIAdd(t).redIAdd(e).redMul(j),s=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};Ie.prototype.getX=function(){return this.x.fromRed()};Ie.prototype.getY=function(){return this.y.fromRed()};Ie.prototype.mul=function(A){return A=new lA.default(A,16),this.isInfinity()?this:this._hasDoubles(A)?this.curve._fixedNafMul(this,A):this.curve.endo?this.curve._endoWnafMulAdd([this],[A]):this.curve._wnafMul(this,A)};Ie.prototype.mulAdd=function(A,e,t){var j=[this,e],n=[A,t];return this.curve.endo?this.curve._endoWnafMulAdd(j,n):this.curve._wnafMulAdd(1,j,n,2)};Ie.prototype.jmulAdd=function(A,e,t){var j=[this,e],n=[A,t];return this.curve.endo?this.curve._endoWnafMulAdd(j,n,!0):this.curve._wnafMulAdd(1,j,n,2,!0)};Ie.prototype.eq=function(A){return this===A||this.inf===A.inf&&(this.inf||this.x.cmp(A.x)===0&&this.y.cmp(A.y)===0)};Ie.prototype.neg=function(A){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(A&&this.precomputed){var t=this.precomputed,j=function(n){return n.neg()};e.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(j)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(j)}}}return e};Ie.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var A=this.curve.jpoint(this.x,this.y,this.curve.one);return A};function Ge(r,A,e,t){Nj.BasePoint.call(this,r,"jacobian"),A===null&&e===null&&t===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new lA.default(0)):(this.x=new lA.default(A,16),this.y=new lA.default(e,16),this.z=new lA.default(t,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}mc(Ge,Nj.BasePoint);kt.prototype.jpoint=function(A,e,t){return new Ge(this,A,e,t)};Ge.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var A=this.z.redInvm(),e=A.redSqr(),t=this.x.redMul(e),j=this.y.redMul(e).redMul(A);return this.curve.point(t,j)};Ge.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ge.prototype.add=function(A){if(this.isInfinity())return A;if(A.isInfinity())return this;var e=A.z.redSqr(),t=this.z.redSqr(),j=this.x.redMul(e),n=A.x.redMul(t),s=this.y.redMul(e.redMul(A.z)),o=A.y.redMul(t.redMul(this.z)),a=j.redSub(n),i=s.redSub(o);if(a.cmpn(0)===0)return i.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),u=j.redMul(c),f=i.redSqr().redIAdd(l).redISub(u).redISub(u),h=i.redMul(u.redISub(f)).redISub(s.redMul(l)),d=this.z.redMul(A.z).redMul(a);return this.curve.jpoint(f,h,d)};Ge.prototype.mixedAdd=function(A){if(this.isInfinity())return A.toJ();if(A.isInfinity())return this;var e=this.z.redSqr(),t=this.x,j=A.x.redMul(e),n=this.y,s=A.y.redMul(e).redMul(this.z),o=t.redSub(j),a=n.redSub(s);if(o.cmpn(0)===0)return a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var i=o.redSqr(),c=i.redMul(o),l=t.redMul(i),u=a.redSqr().redIAdd(c).redISub(l).redISub(l),f=a.redMul(l.redISub(u)).redISub(n.redMul(c)),h=this.z.redMul(o);return this.curve.jpoint(u,f,h)};Ge.prototype.dblp=function(A){if(A===0)return this;if(this.isInfinity())return this;if(!A)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var t=this;for(e=0;e<A;e++)t=t.dbl();return t}var j=this.curve.a,n=this.curve.tinv,s=this.x,o=this.y,a=this.z,i=a.redSqr().redSqr(),c=o.redAdd(o);for(e=0;e<A;e++){var l=s.redSqr(),u=c.redSqr(),f=u.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(j.redMul(i)),d=s.redMul(u),m=h.redSqr().redISub(d.redAdd(d)),b=d.redISub(m),B=h.redMul(b);B=B.redIAdd(B).redISub(f);var _=c.redMul(a);e+1<A&&(i=i.redMul(f)),s=m,a=_,c=B}return this.curve.jpoint(s,c.redMul(n),a)};Ge.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ge.prototype._zeroDbl=function(){var A,e,t;if(this.zOne){var j=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(j).redISub(s);o=o.redIAdd(o);var a=j.redAdd(j).redIAdd(j),i=a.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),A=i,e=a.redMul(o.redISub(i)).redISub(c),t=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),u=this.y.redSqr(),f=u.redSqr(),h=this.x.redAdd(u).redSqr().redISub(l).redISub(f);h=h.redIAdd(h);var d=l.redAdd(l).redIAdd(l),m=d.redSqr(),b=f.redIAdd(f);b=b.redIAdd(b),b=b.redIAdd(b),A=m.redISub(h).redISub(h),e=d.redMul(h.redISub(A)).redISub(b),t=this.y.redMul(this.z),t=t.redIAdd(t)}return this.curve.jpoint(A,e,t)};Ge.prototype._threeDbl=function(){var A,e,t;if(this.zOne){var j=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(j).redISub(s);o=o.redIAdd(o);var a=j.redAdd(j).redIAdd(j).redIAdd(this.curve.a),i=a.redSqr().redISub(o).redISub(o);A=i;var c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),e=a.redMul(o.redISub(i)).redISub(c),t=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),u=this.y.redSqr(),f=this.x.redMul(u),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var d=f.redIAdd(f);d=d.redIAdd(d);var m=d.redAdd(d);A=h.redSqr().redISub(m),t=this.y.redAdd(this.z).redSqr().redISub(u).redISub(l);var b=u.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b),e=h.redMul(d.redISub(A)).redISub(b)}return this.curve.jpoint(A,e,t)};Ge.prototype._dbl=function(){var A=this.curve.a,e=this.x,t=this.y,j=this.z,n=j.redSqr().redSqr(),s=e.redSqr(),o=t.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(A.redMul(n)),i=e.redAdd(e);i=i.redIAdd(i);var c=i.redMul(o),l=a.redSqr().redISub(c.redAdd(c)),u=c.redISub(l),f=o.redSqr();f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var h=a.redMul(u).redISub(f),d=t.redAdd(t).redMul(j);return this.curve.jpoint(l,h,d)};Ge.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var A=this.x.redSqr(),e=this.y.redSqr(),t=this.z.redSqr(),j=e.redSqr(),n=A.redAdd(A).redIAdd(A),s=n.redSqr(),o=this.x.redAdd(e).redSqr().redISub(A).redISub(j);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var a=o.redSqr(),i=j.redIAdd(j);i=i.redIAdd(i),i=i.redIAdd(i),i=i.redIAdd(i);var c=n.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(i),l=e.redMul(c);l=l.redIAdd(l),l=l.redIAdd(l);var u=this.x.redMul(a).redISub(l);u=u.redIAdd(u),u=u.redIAdd(u);var f=this.y.redMul(c.redMul(i.redISub(c)).redISub(o.redMul(a)));f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var h=this.z.redAdd(o).redSqr().redISub(t).redISub(a);return this.curve.jpoint(u,f,h)};Ge.prototype.mul=function(A,e){return A=new lA.default(A,e),this.curve._wnafMul(this,A)};Ge.prototype.eq=function(A){if(A.type==="affine")return this.eq(A.toJ());if(this===A)return!0;var e=this.z.redSqr(),t=A.z.redSqr();if(this.x.redMul(t).redISub(A.x.redMul(e)).cmpn(0)!==0)return!1;var j=e.redMul(this.z),n=t.redMul(A.z);return this.y.redMul(n).redISub(A.y.redMul(j)).cmpn(0)===0};Ge.prototype.eqXToP=function(A){var e=this.z.redSqr(),t=A.toRed(this.curve.red).redMul(e);if(this.x.cmp(t)===0)return!0;for(var j=A.clone(),n=this.curve.redN.redMul(e);;){if(j.iadd(this.curve.n),j.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),this.x.cmp(t)===0)return!0}};Ge.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ge.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Hi=In(function(r,A){"use strict";var e=A;e.base=Nj,e.short=fx,e.mont=null,e.edwards=null}),zi=In(function(r,A){"use strict";var e=A,t=ht.assert;function j(o){o.type==="short"?this.curve=new Hi.short(o):o.type==="edwards"?this.curve=new Hi.edwards(o):this.curve=new Hi.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,t(this.g.validate(),"Invalid curve"),t(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=j;function n(o,a){Object.defineProperty(e,o,{configurable:!0,enumerable:!0,get:function(){var i=new j(a);return Object.defineProperty(e,o,{configurable:!0,enumerable:!0,value:i}),i}})}n("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:or.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),n("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:or.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),n("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:or.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),n("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:or.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),n("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:or.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),n("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:or.default.sha256,gRed:!1,g:["9"]}),n("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:or.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}n("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:or.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Aj(r){if(!(this instanceof Aj))return new Aj(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var A=Nt.toArray(r.entropy,r.entropyEnc||"hex"),e=Nt.toArray(r.nonce,r.nonceEnc||"hex"),t=Nt.toArray(r.pers,r.persEnc||"hex");pc(A.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(A,e,t)}var wd=Aj;Aj.prototype._init=function(A,e,t){var j=A.concat(e).concat(t);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(j),this._reseed=1,this.reseedInterval=281474976710656};Aj.prototype._hmac=function(){return new or.default.hmac(this.hash,this.K)};Aj.prototype._update=function(A){var e=this._hmac().update(this.V).update([0]);A&&(e=e.update(A)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),A&&(this.K=this._hmac().update(this.V).update([1]).update(A).digest(),this.V=this._hmac().update(this.V).digest())};Aj.prototype.reseed=function(A,e,t,j){typeof e!="string"&&(j=t,t=e,e=null),A=Nt.toArray(A,e),t=Nt.toArray(t,j),pc(A.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(A.concat(t||[])),this._reseed=1};Aj.prototype.generate=function(A,e,t,j){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof e!="string"&&(j=t,t=e,e=null),t&&(t=Nt.toArray(t,j||"hex"),this._update(t));for(var n=[];n.length<A;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var s=n.slice(0,A);return this._update(t),this._reseed++,Nt.encode(s,e)};var hc=ht.assert;function Le(r,A){this.ec=r,this.priv=null,this.pub=null,A.priv&&this._importPrivate(A.priv,A.privEnc),A.pub&&this._importPublic(A.pub,A.pubEnc)}var gc=Le;Le.fromPublic=function(A,e,t){return e instanceof Le?e:new Le(A,{pub:e,pubEnc:t})};Le.fromPrivate=function(A,e,t){return e instanceof Le?e:new Le(A,{priv:e,privEnc:t})};Le.prototype.validate=function(){var A=this.getPublic();return A.isInfinity()?{result:!1,reason:"Invalid public key"}:A.validate()?A.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Le.prototype.getPublic=function(A,e){return typeof A=="string"&&(e=A,A=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,A):this.pub};Le.prototype.getPrivate=function(A){return A==="hex"?this.priv.toString(16,2):this.priv};Le.prototype._importPrivate=function(A,e){this.priv=new lA.default(A,e||16),this.priv=this.priv.umod(this.ec.curve.n)};Le.prototype._importPublic=function(A,e){if(A.x||A.y){this.ec.curve.type==="mont"?hc(A.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&hc(A.x&&A.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(A.x,A.y);return}this.pub=this.ec.curve.decodePoint(A,e)};Le.prototype.derive=function(A){return A.validate()||hc(A.validate(),"public point not validated"),A.mul(this.priv).getX()};Le.prototype.sign=function(A,e,t){return this.ec.sign(A,this,e,t)};Le.prototype.verify=function(A,e){return this.ec.verify(A,e,this)};Le.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var lx=ht.assert;function Wi(r,A){if(r instanceof Wi)return r;this._importDER(r,A)||(lx(r.r&&r.s,"Signature without r or s"),this.r=new lA.default(r.r,16),this.s=new lA.default(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var Xi=Wi;function ux(){this.place=0}function uc(r,A){var e=r[A.place++];if(!(e&128))return e;var t=e&15;if(t===0||t>4)return!1;for(var j=0,n=0,s=A.place;n<t;n++,s++)j<<=8,j|=r[s],j>>>=0;return j<=127?!1:(A.place=s,j)}function vd(r){for(var A=0,e=r.length-1;!r[A]&&!(r[A+1]&128)&&A<e;)A++;return A===0?r:r.slice(A)}Wi.prototype._importDER=function(A,e){A=ht.toArray(A,e);var t=new ux;if(A[t.place++]!==48)return!1;var j=uc(A,t);if(j===!1||j+t.place!==A.length||A[t.place++]!==2)return!1;var n=uc(A,t);if(n===!1)return!1;var s=A.slice(t.place,n+t.place);if(t.place+=n,A[t.place++]!==2)return!1;var o=uc(A,t);if(o===!1||A.length!==o+t.place)return!1;var a=A.slice(t.place,o+t.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;return this.r=new lA.default(s),this.s=new lA.default(a),this.recoveryParam=null,!0};function dc(r,A){if(A<128){r.push(A);return}var e=1+(Math.log(A)/Math.LN2>>>3);for(r.push(e|128);--e;)r.push(A>>>(e<<3)&255);r.push(A)}Wi.prototype.toDER=function(A){var e=this.r.toArray(),t=this.s.toArray();for(e[0]&128&&(e=[0].concat(e)),t[0]&128&&(t=[0].concat(t)),e=vd(e),t=vd(t);!t[0]&&!(t[1]&128);)t=t.slice(1);var j=[2];dc(j,e.length),j=j.concat(e),j.push(2),dc(j,t.length);var n=j.concat(t),s=[48];return dc(s,n.length),s=s.concat(n),ht.encode(s,A)};var dx=function(){throw new Error("unsupported")},Ed=ht.assert;function wt(r){if(!(this instanceof wt))return new wt(r);typeof r=="string"&&(Ed(Object.prototype.hasOwnProperty.call(zi,r),"Unknown curve "+r),r=zi[r]),r instanceof zi.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var hx=wt;wt.prototype.keyPair=function(A){return new gc(this,A)};wt.prototype.keyFromPrivate=function(A,e){return gc.fromPrivate(this,A,e)};wt.prototype.keyFromPublic=function(A,e){return gc.fromPublic(this,A,e)};wt.prototype.genKeyPair=function(A){A||(A={});for(var e=new wd({hash:this.hash,pers:A.pers,persEnc:A.persEnc||"utf8",entropy:A.entropy||dx(this.hash.hmacStrength),entropyEnc:A.entropy&&A.entropyEnc||"utf8",nonce:this.n.toArray()}),t=this.n.byteLength(),j=this.n.sub(new lA.default(2));;){var n=new lA.default(e.generate(t));if(!(n.cmp(j)>0))return n.iaddn(1),this.keyFromPrivate(n)}};wt.prototype._truncateToN=function(A,e){var t=A.byteLength()*8-this.n.bitLength();return t>0&&(A=A.ushrn(t)),!e&&A.cmp(this.n)>=0?A.sub(this.n):A};wt.prototype.sign=function(A,e,t,j){typeof t=="object"&&(j=t,t=null),j||(j={}),e=this.keyFromPrivate(e,t),A=this._truncateToN(new lA.default(A,16));for(var n=this.n.byteLength(),s=e.getPrivate().toArray("be",n),o=A.toArray("be",n),a=new wd({hash:this.hash,entropy:s,nonce:o,pers:j.pers,persEnc:j.persEnc||"utf8"}),i=this.n.sub(new lA.default(1)),c=0;;c++){var l=j.k?j.k(c):new lA.default(a.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(i)>=0)){var u=this.g.mul(l);if(!u.isInfinity()){var f=u.getX(),h=f.umod(this.n);if(h.cmpn(0)!==0){var d=l.invm(this.n).mul(h.mul(e.getPrivate()).iadd(A));if(d=d.umod(this.n),d.cmpn(0)!==0){var m=(u.getY().isOdd()?1:0)|(f.cmp(h)!==0?2:0);return j.canonical&&d.cmp(this.nh)>0&&(d=this.n.sub(d),m^=1),new Xi({r:h,s:d,recoveryParam:m})}}}}}};wt.prototype.verify=function(A,e,t,j){A=this._truncateToN(new lA.default(A,16)),t=this.keyFromPublic(t,j),e=new Xi(e,"hex");var n=e.r,s=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),a=o.mul(A).umod(this.n),i=o.mul(n).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(a,t.getPublic(),i),c.isInfinity()?!1:c.eqXToP(n)):(c=this.g.mulAdd(a,t.getPublic(),i),c.isInfinity()?!1:c.getX().umod(this.n).cmp(n)===0)};wt.prototype.recoverPubKey=function(r,A,e,t){Ed((3&e)===e,"The recovery param is more than two bits"),A=new Xi(A,t);var j=this.n,n=new lA.default(r),s=A.r,o=A.s,a=e&1,i=e>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&i)throw new Error("Unable to find sencond key candinate");i?s=this.curve.pointFromX(s.add(this.curve.n),a):s=this.curve.pointFromX(s,a);var c=A.r.invm(j),l=j.sub(n).mul(c).umod(j),u=o.mul(c).umod(j);return this.g.mulAdd(l,s,u)};wt.prototype.getKeyRecoveryParam=function(r,A,e,t){if(A=new Xi(A,t),A.recoveryParam!==null)return A.recoveryParam;for(var j=0;j<4;j++){var n;try{n=this.recoverPubKey(r,A,j)}catch{continue}if(n.eq(e))return j}throw new Error("Unable to find valid recovery factor")};var px=In(function(r,A){"use strict";var e=A;e.version="6.5.4",e.utils=ht,e.rand=function(){throw new Error("unsupported")},e.curve=Hi,e.curves=zi,e.ec=hx,e.eddsa=null}),kd=px.ec;var qd="signing-key/5.7.0";var yc=new C(qd),bc=null;function ar(){return bc||(bc=new kd("secp256k1")),bc}var qt=class{constructor(A){L(this,"curve","secp256k1"),L(this,"privateKey",Q(A)),Te(this.privateKey)!==32&&yc.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let e=ar().keyFromPrivate(J(this.privateKey));L(this,"publicKey","0x"+e.getPublic(!1,"hex")),L(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),L(this,"_isSigningKey",!0)}_addPoint(A){let e=ar().keyFromPublic(J(this.publicKey)),t=ar().keyFromPublic(J(A));return"0x"+e.pub.add(t.pub).encodeCompressed("hex")}signDigest(A){let e=ar().keyFromPrivate(J(this.privateKey)),t=J(A);t.length!==32&&yc.throwArgumentError("bad digest length","digest",A);let j=e.sign(t,{canonical:!0});return Yt({recoveryParam:j.recoveryParam,r:mA("0x"+j.r.toString(16),32),s:mA("0x"+j.s.toString(16),32)})}computeSharedSecret(A){let e=ar().keyFromPrivate(J(this.privateKey)),t=ar().keyFromPublic(J(ks(A)));return mA("0x"+e.derive(t.getPublic()).toString(16),32)}static isSigningKey(A){return!!(A&&A._isSigningKey)}};function Qi(r,A){let e=Yt(A),t={r:J(e.r),s:J(e.s)};return"0x"+ar().recoverPubKey(J(r),t,e.recoveryParam).encode("hex",!1)}function ks(r,A){let e=J(r);if(e.length===32){let t=new qt(e);return A?"0x"+ar().keyFromPrivate(e).getPublic(!0,"hex"):t.publicKey}else{if(e.length===33)return A?Q(e):"0x"+ar().keyFromPublic(e).getPublic(!1,"hex");if(e.length===65)return A?"0x"+ar().keyFromPublic(e).getPublic(!0,"hex"):Q(e)}return yc.throwArgumentError("invalid public or private key","key","[REDACTED]")}var $d="transactions/5.7.0";var He=new C($d),Zi;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(Zi||(Zi={}));function xc(r){return r==="0x"?null:hA(r)}function Ke(r){return r==="0x"?hn:X.from(r)}var mx=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],gx={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function $t(r){let A=ks(r);return hA(IA(dA(IA(A,1)),12))}function Dj(r,A){return $t(Qi(J(r),A))}function pt(r,A){let e=ft(X.from(r).toHexString());return e.length>32&&He.throwArgumentError("invalid length for "+A,"transaction:"+A,r),e}function Bc(r,A){return{address:hA(r),storageKeys:(A||[]).map((e,t)=>(Te(e)!==32&&He.throwArgumentError("invalid access list storageKey",`accessList[${r}:${t}]`,e),e.toLowerCase()))}}function mt(r){if(Array.isArray(r))return r.map((e,t)=>Array.isArray(e)?(e.length>2&&He.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),Bc(e[0],e[1])):Bc(e.address,e.storageKeys));let A=Object.keys(r).map(e=>{let t=r[e].reduce((j,n)=>(j[n]=!0,j),{});return Bc(e,Object.keys(t).sort())});return A.sort((e,t)=>e.address.localeCompare(t.address)),A}function Id(r){return mt(r).map(A=>[A.address,A.storageKeys])}function Od(r,A){if(r.gasPrice!=null){let t=X.from(r.gasPrice),j=X.from(r.maxFeePerGas||0);t.eq(j)||He.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:j})}let e=[pt(r.chainId||0,"chainId"),pt(r.nonce||0,"nonce"),pt(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),pt(r.maxFeePerGas||0,"maxFeePerGas"),pt(r.gasLimit||0,"gasLimit"),r.to!=null?hA(r.to):"0x",pt(r.value||0,"value"),r.data||"0x",Id(r.accessList||[])];if(A){let t=Yt(A);e.push(pt(t.recoveryParam,"recoveryParam")),e.push(ft(t.r)),e.push(ft(t.s))}return Ee(["0x02",vr(e)])}function Sd(r,A){let e=[pt(r.chainId||0,"chainId"),pt(r.nonce||0,"nonce"),pt(r.gasPrice||0,"gasPrice"),pt(r.gasLimit||0,"gasLimit"),r.to!=null?hA(r.to):"0x",pt(r.value||0,"value"),r.data||"0x",Id(r.accessList||[])];if(A){let t=Yt(A);e.push(pt(t.recoveryParam,"recoveryParam")),e.push(ft(t.r)),e.push(ft(t.s))}return Ee(["0x01",vr(e)])}function bx(r,A){fn(r,gx);let e=[];mx.forEach(function(s){let o=r[s.name]||[],a={};s.numeric&&(a.hexPad="left"),o=J(Q(o,a)),s.length&&o.length!==s.length&&o.length>0&&He.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,o),s.maxLength&&(o=ft(o),o.length>s.maxLength&&He.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,o)),e.push(Q(o))});let t=0;if(r.chainId!=null?(t=r.chainId,typeof t!="number"&&He.throwArgumentError("invalid transaction.chainId","transaction",r)):A&&!yr(A)&&A.v>28&&(t=Math.floor((A.v-35)/2)),t!==0&&(e.push(Q(t)),e.push("0x"),e.push("0x")),!A)return vr(e);let j=Yt(A),n=27+j.recoveryParam;return t!==0?(e.pop(),e.pop(),e.pop(),n+=t*2+8,j.v>28&&j.v!==n&&He.throwArgumentError("transaction.chainId/signature.v mismatch","signature",A)):j.v!==n&&He.throwArgumentError("transaction.chainId/signature.v mismatch","signature",A),e.push(Q(n)),e.push(ft(J(j.r))),e.push(ft(J(j.s))),vr(e)}function qs(r,A){if(r.type==null||r.type===0)return r.accessList!=null&&He.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),bx(r,A);switch(r.type){case 1:return Sd(r,A);case 2:return Od(r,A);default:break}return He.throwError(`unsupported transaction type: ${r.type}`,C.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function Pd(r,A,e){try{let t=Ke(A[0]).toNumber();if(t!==0&&t!==1)throw new Error("bad recid");r.v=t}catch{He.throwArgumentError("invalid v for transaction type: 1","v",A[0])}r.r=mA(A[1],32),r.s=mA(A[2],32);try{let t=dA(e(r));r.from=Dj(t,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function yx(r){let A=ys(r.slice(1));A.length!==9&&A.length!==12&&He.throwArgumentError("invalid component count for transaction type: 2","payload",Q(r));let e=Ke(A[2]),t=Ke(A[3]),j={type:2,chainId:Ke(A[0]).toNumber(),nonce:Ke(A[1]).toNumber(),maxPriorityFeePerGas:e,maxFeePerGas:t,gasPrice:null,gasLimit:Ke(A[4]),to:xc(A[5]),value:Ke(A[6]),data:A[7],accessList:mt(A[8])};return A.length===9||(j.hash=dA(r),Pd(j,A.slice(9),Od)),j}function Bx(r){let A=ys(r.slice(1));A.length!==8&&A.length!==11&&He.throwArgumentError("invalid component count for transaction type: 1","payload",Q(r));let e={type:1,chainId:Ke(A[0]).toNumber(),nonce:Ke(A[1]).toNumber(),gasPrice:Ke(A[2]),gasLimit:Ke(A[3]),to:xc(A[4]),value:Ke(A[5]),data:A[6],accessList:mt(A[7])};return A.length===8||(e.hash=dA(r),Pd(e,A.slice(8),Sd)),e}function xx(r){let A=ys(r);A.length!==9&&A.length!==6&&He.throwArgumentError("invalid raw transaction","rawTransaction",r);let e={nonce:Ke(A[0]).toNumber(),gasPrice:Ke(A[1]),gasLimit:Ke(A[2]),to:xc(A[3]),value:Ke(A[4]),data:A[5],chainId:0};if(A.length===6)return e;try{e.v=X.from(A[6]).toNumber()}catch{return e}if(e.r=mA(A[7],32),e.s=mA(A[8],32),X.from(e.r).isZero()&&X.from(e.s).isZero())e.chainId=e.v,e.v=0;else{e.chainId=Math.floor((e.v-35)/2),e.chainId<0&&(e.chainId=0);let t=e.v-27,j=A.slice(0,6);e.chainId!==0&&(j.push(Q(e.chainId)),j.push("0x"),j.push("0x"),t-=e.chainId*2+8);let n=dA(vr(j));try{e.from=Dj(n,{r:Q(e.r),s:Q(e.s),recoveryParam:t})}catch{}e.hash=dA(r)}return e.type=null,e}function Yi(r){let A=J(r);if(A[0]>127)return xx(A);switch(A[0]){case 1:return Bx(A);case 2:return yx(A);default:break}return He.throwError(`unsupported transaction type: ${A[0]}`,C.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:A[0]})}var Fd="contracts/5.7.0";var tj=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},SA=new C(Fd),vx={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function Ao(r,A){return tj(this,void 0,void 0,function*(){let e=yield A;typeof e!="string"&&SA.throwArgumentError("invalid address or ENS name","name",e);try{return hA(e)}catch{}r||SA.throwError("a provider or signer is needed to resolve ENS names",C.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let t=yield r.resolveName(e);return t==null&&SA.throwArgumentError("resolver or addr is not configured for ENS name","name",e),t})}function $s(r,A,e){return tj(this,void 0,void 0,function*(){return Array.isArray(e)?yield Promise.all(e.map((t,j)=>$s(r,Array.isArray(A)?A[j]:A[t.name],t))):e.type==="address"?yield Ao(r,A):e.type==="tuple"?yield $s(r,A,e.components):e.baseType==="array"?Array.isArray(A)?yield Promise.all(A.map(t=>$s(r,t,e.arrayChildren))):Promise.reject(SA.makeError("invalid value for array",C.errors.INVALID_ARGUMENT,{argument:"value",value:A})):A})}function ro(r,A,e){return tj(this,void 0,void 0,function*(){let t={};e.length===A.inputs.length+1&&typeof e[e.length-1]=="object"&&(t=EA(e.pop())),SA.checkArgumentCount(e.length,A.inputs.length,"passed to contract"),r.signer?t.from?t.from=OA({override:Ao(r.signer,t.from),signer:r.signer.getAddress()}).then(i=>tj(this,void 0,void 0,function*(){return hA(i.signer)!==i.override&&SA.throwError("Contract with a Signer cannot override from",C.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),i.override})):t.from=r.signer.getAddress():t.from&&(t.from=Ao(r.provider,t.from));let j=yield OA({args:$s(r.signer||r.provider,e,A.inputs),address:r.resolvedAddress,overrides:OA(t)||{}}),n=r.interface.encodeFunctionData(A,j.args),s={data:n,to:j.address},o=j.overrides;if(o.nonce!=null&&(s.nonce=X.from(o.nonce).toNumber()),o.gasLimit!=null&&(s.gasLimit=X.from(o.gasLimit)),o.gasPrice!=null&&(s.gasPrice=X.from(o.gasPrice)),o.maxFeePerGas!=null&&(s.maxFeePerGas=X.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=X.from(o.maxPriorityFeePerGas)),o.from!=null&&(s.from=o.from),o.type!=null&&(s.type=o.type),o.accessList!=null&&(s.accessList=mt(o.accessList)),s.gasLimit==null&&A.gas!=null){let i=21e3,c=J(n);for(let l=0;l<c.length;l++)i+=4,c[l]&&(i+=64);s.gasLimit=X.from(A.gas).add(i)}if(o.value){let i=X.from(o.value);!i.isZero()&&!A.payable&&SA.throwError("non-payable method cannot override value",C.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),s.value=i}o.customData&&(s.customData=EA(o.customData)),o.ccipReadEnabled&&(s.ccipReadEnabled=!!o.ccipReadEnabled),delete t.nonce,delete t.gasLimit,delete t.gasPrice,delete t.from,delete t.value,delete t.type,delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.customData,delete t.ccipReadEnabled;let a=Object.keys(t).filter(i=>t[i]!=null);return a.length&&SA.throwError(`cannot override ${a.map(i=>JSON.stringify(i)).join(",")}`,C.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:a}),s})}function _x(r,A){return function(...e){return ro(r,A,e)}}function wx(r,A){let e=r.signer||r.provider;return function(...t){return tj(this,void 0,void 0,function*(){e||SA.throwError("estimate require a provider or signer",C.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let j=yield ro(r,A,t);return yield e.estimateGas(j)})}}function Md(r,A){let e=A.wait.bind(A);A.wait=t=>e(t).then(j=>(j.events=j.logs.map(n=>{let s=ge(n),o=null;try{o=r.interface.parseLog(n)}catch{}return o&&(s.args=o.args,s.decode=(a,i)=>r.interface.decodeEventLog(o.eventFragment,a,i),s.event=o.name,s.eventSignature=o.signature),s.removeListener=()=>r.provider,s.getBlock=()=>r.provider.getBlock(j.blockHash),s.getTransaction=()=>r.provider.getTransaction(j.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(j),s}),j))}function Rd(r,A,e){let t=r.signer||r.provider;return function(...j){return tj(this,void 0,void 0,function*(){let n;if(j.length===A.inputs.length+1&&typeof j[j.length-1]=="object"){let a=EA(j.pop());a.blockTag!=null&&(n=yield a.blockTag),delete a.blockTag,j.push(a)}r.deployTransaction!=null&&(yield r._deployed(n));let s=yield ro(r,A,j),o=yield t.call(s,n);try{let a=r.interface.decodeFunctionResult(A,o);return e&&A.outputs.length===1&&(a=a[0]),a}catch(a){throw a.code===C.errors.CALL_EXCEPTION&&(a.address=r.address,a.args=j,a.transaction=s),a}})}}function Ex(r,A){return function(...e){return tj(this,void 0,void 0,function*(){r.signer||SA.throwError("sending a transaction requires a signer",C.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());let t=yield ro(r,A,e),j=yield r.signer.sendTransaction(t);return Md(r,j),j})}}function Gd(r,A,e){return A.constant?Rd(r,A,e):Ex(r,A)}function Cd(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(A=>Array.isArray(A)?A.join("|"):A).join(":"):"")}var Uj=class{constructor(A,e){L(this,"tag",A),L(this,"filter",e),this._listeners=[]}addListener(A,e){this._listeners.push({listener:A,once:e})}removeListener(A){let e=!1;this._listeners=this._listeners.filter(t=>e||t.listener!==A?!0:(e=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(A=>A.listener)}listenerCount(){return this._listeners.length}run(A){let e=this.listenerCount();return this._listeners=this._listeners.filter(t=>{let j=A.slice();return setTimeout(()=>{t.listener.apply(this,j)},0),!t.once}),e}prepareEvent(A){}getEmit(A){return[A]}},vc=class extends Uj{constructor(){super("error",null)}},eo=class extends Uj{constructor(A,e,t,j){let n={address:A},s=e.getEventTopic(t);j?(s!==j[0]&&SA.throwArgumentError("topic mismatch","topics",j),n.topics=j.slice()):n.topics=[s],super(Cd(n),n),L(this,"address",A),L(this,"interface",e),L(this,"fragment",t)}prepareEvent(A){super.prepareEvent(A),A.event=this.fragment.name,A.eventSignature=this.fragment.format(),A.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{A.args=this.interface.decodeEventLog(this.fragment,A.data,A.topics)}catch(e){A.args=null,A.decodeError=e}}getEmit(A){let e=un(A.args);if(e.length)throw e[0].error;let t=(A.args||[]).slice();return t.push(A),t}},to=class extends Uj{constructor(A,e){super("*",{address:A}),L(this,"address",A),L(this,"interface",e)}prepareEvent(A){super.prepareEvent(A);try{let e=this.interface.parseLog(A);A.event=e.name,A.eventSignature=e.signature,A.decode=(t,j)=>this.interface.decodeEventLog(e.eventFragment,t,j),A.args=e.args}catch{}}},On=class{constructor(A,e,t){L(this,"interface",be(new.target,"getInterface")(e)),t==null?(L(this,"provider",null),L(this,"signer",null)):et.isSigner(t)?(L(this,"provider",t.provider||null),L(this,"signer",t)):nt.isProvider(t)?(L(this,"provider",t),L(this,"signer",null)):SA.throwArgumentError("invalid signer or provider","signerOrProvider",t),L(this,"callStatic",{}),L(this,"estimateGas",{}),L(this,"functions",{}),L(this,"populateTransaction",{}),L(this,"filters",{});{let s={};Object.keys(this.interface.events).forEach(o=>{let a=this.interface.events[o];L(this.filters,o,(...i)=>({address:this.address,topics:this.interface.encodeFilterTopics(a,i)})),s[a.name]||(s[a.name]=[]),s[a.name].push(o)}),Object.keys(s).forEach(o=>{let a=s[o];a.length===1?L(this.filters,o,this.filters[a[0]]):SA.warn(`Duplicate definition of ${o} (${a.join(", ")})`)})}if(L(this,"_runningEvents",{}),L(this,"_wrappedEmits",{}),A==null&&SA.throwArgumentError("invalid contract address or ENS name","addressOrName",A),L(this,"address",A),this.provider)L(this,"resolvedAddress",Ao(this.provider,A));else try{L(this,"resolvedAddress",Promise.resolve(hA(A)))}catch{SA.throwError("provider is required to use ENS name as contract address",C.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});let j={},n={};Object.keys(this.interface.functions).forEach(s=>{let o=this.interface.functions[s];if(n[s]){SA.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}n[s]=!0;{let a=o.name;j[`%${a}`]||(j[`%${a}`]=[]),j[`%${a}`].push(s)}this[s]==null&&L(this,s,Gd(this,o,!0)),this.functions[s]==null&&L(this.functions,s,Gd(this,o,!1)),this.callStatic[s]==null&&L(this.callStatic,s,Rd(this,o,!0)),this.populateTransaction[s]==null&&L(this.populateTransaction,s,_x(this,o)),this.estimateGas[s]==null&&L(this.estimateGas,s,wx(this,o))}),Object.keys(j).forEach(s=>{let o=j[s];if(o.length>1)return;s=s.substring(1);let a=o[0];try{this[s]==null&&L(this,s,this[a])}catch{}this.functions[s]==null&&L(this.functions,s,this.functions[a]),this.callStatic[s]==null&&L(this.callStatic,s,this.callStatic[a]),this.populateTransaction[s]==null&&L(this.populateTransaction,s,this.populateTransaction[a]),this.estimateGas[s]==null&&L(this.estimateGas,s,this.estimateGas[a])})}static getContractAddress(A){return Rj(A)}static getInterface(A){return Zr.isInterface(A)?A:new Zr(A)}deployed(){return this._deployed()}_deployed(A){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,A).then(e=>(e==="0x"&&SA.throwError("contract not deployed",C.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(A){this.signer||SA.throwError("sending a transactions require a signer",C.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let e=EA(A||{});return["from","to"].forEach(function(t){e[t]!=null&&SA.throwError("cannot override "+t,C.errors.UNSUPPORTED_OPERATION,{operation:t})}),e.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(e))}connect(A){typeof A=="string"&&(A=new wr(A,this.provider));let e=new this.constructor(this.address,this.interface,A);return this.deployTransaction&&L(e,"deployTransaction",this.deployTransaction),e}attach(A){return new this.constructor(A,this.interface,this.signer||this.provider)}static isIndexed(A){return _r.isIndexed(A)}_normalizeRunningEvent(A){return this._runningEvents[A.tag]?this._runningEvents[A.tag]:A}_getRunningEvent(A){if(typeof A=="string"){if(A==="error")return this._normalizeRunningEvent(new vc);if(A==="event")return this._normalizeRunningEvent(new Uj("event",null));if(A==="*")return this._normalizeRunningEvent(new to(this.address,this.interface));let e=this.interface.getEvent(A);return this._normalizeRunningEvent(new eo(this.address,this.interface,e))}if(A.topics&&A.topics.length>0){try{let t=A.topics[0];if(typeof t!="string")throw new Error("invalid topic");let j=this.interface.getEvent(t);return this._normalizeRunningEvent(new eo(this.address,this.interface,j,A.topics))}catch{}let e={address:this.address,topics:A.topics};return this._normalizeRunningEvent(new Uj(Cd(e),e))}return this._normalizeRunningEvent(new to(this.address,this.interface))}_checkRunningEvents(A){if(A.listenerCount()===0){delete this._runningEvents[A.tag];let e=this._wrappedEmits[A.tag];e&&A.filter&&(this.provider.off(A.filter,e),delete this._wrappedEmits[A.tag])}}_wrapEvent(A,e,t){let j=ge(e);return j.removeListener=()=>{t&&(A.removeListener(t),this._checkRunningEvents(A))},j.getBlock=()=>this.provider.getBlock(e.blockHash),j.getTransaction=()=>this.provider.getTransaction(e.transactionHash),j.getTransactionReceipt=()=>this.provider.getTransactionReceipt(e.transactionHash),A.prepareEvent(j),j}_addEventListener(A,e,t){if(this.provider||SA.throwError("events require a provider or a signer with a provider",C.errors.UNSUPPORTED_OPERATION,{operation:"once"}),A.addListener(e,t),this._runningEvents[A.tag]=A,!this._wrappedEmits[A.tag]){let j=n=>{let s=this._wrapEvent(A,n,e);if(s.decodeError==null)try{let o=A.getEmit(s);this.emit(A.filter,...o)}catch(o){s.decodeError=o.error}A.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[A.tag]=j,A.filter!=null&&this.provider.on(A.filter,j)}}queryFilter(A,e,t){let j=this._getRunningEvent(A),n=EA(j.filter);return typeof e=="string"&&sA(e,32)?(t!=null&&SA.throwArgumentError("cannot specify toBlock with blockhash","toBlock",t),n.blockHash=e):(n.fromBlock=e??0,n.toBlock=t??"latest"),this.provider.getLogs(n).then(s=>s.map(o=>this._wrapEvent(j,o,null)))}on(A,e){return this._addEventListener(this._getRunningEvent(A),e,!1),this}once(A,e){return this._addEventListener(this._getRunningEvent(A),e,!0),this}emit(A,...e){if(!this.provider)return!1;let t=this._getRunningEvent(A),j=t.run(e)>0;return this._checkRunningEvents(t),j}listenerCount(A){return this.provider?A==null?Object.keys(this._runningEvents).reduce((e,t)=>e+this._runningEvents[t].listenerCount(),0):this._getRunningEvent(A).listenerCount():0}listeners(A){if(!this.provider)return[];if(A==null){let e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach(j=>{e.push(j)});return e}return this._getRunningEvent(A).listeners()}removeAllListeners(A){if(!this.provider)return this;if(A==null){for(let t in this._runningEvents){let j=this._runningEvents[t];j.removeAllListeners(),this._checkRunningEvents(j)}return this}let e=this._getRunningEvent(A);return e.removeAllListeners(),this._checkRunningEvents(e),this}off(A,e){if(!this.provider)return this;let t=this._getRunningEvent(A);return t.removeListener(e),this._checkRunningEvents(t),this}removeListener(A,e){return this.off(A,e)}},$r=class extends On{},Lj=class{constructor(A,e,t){let j=null;typeof e=="string"?j=e:Bt(e)?j=Q(e):e&&typeof e.object=="string"?j=e.object:j="!",j.substring(0,2)!=="0x"&&(j="0x"+j),(!sA(j)||j.length%2)&&SA.throwArgumentError("invalid bytecode","bytecode",e),t&&!et.isSigner(t)&&SA.throwArgumentError("invalid signer","signer",t),L(this,"bytecode",j),L(this,"interface",be(new.target,"getInterface")(A)),L(this,"signer",t||null)}getDeployTransaction(...A){let e={};if(A.length===this.interface.deploy.inputs.length+1&&typeof A[A.length-1]=="object"){e=EA(A.pop());for(let t in e)if(!vx[t])throw new Error("unknown transaction override "+t)}return["data","from","to"].forEach(t=>{e[t]!=null&&SA.throwError("cannot override "+t,C.errors.UNSUPPORTED_OPERATION,{operation:t})}),e.value&&!X.from(e.value).isZero()&&!this.interface.deploy.payable&&SA.throwError("non-payable constructor cannot override value",C.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:e.value}),SA.checkArgumentCount(A.length,this.interface.deploy.inputs.length," in Contract constructor"),e.data=Q(uA([this.bytecode,this.interface.encodeDeploy(A)])),e}deploy(...A){return tj(this,void 0,void 0,function*(){let e={};A.length===this.interface.deploy.inputs.length+1&&(e=A.pop()),SA.checkArgumentCount(A.length,this.interface.deploy.inputs.length," in Contract constructor");let t=yield $s(this.signer,A,this.interface.deploy.inputs);t.push(e);let j=this.getDeployTransaction(...t),n=yield this.signer.sendTransaction(j),s=be(this.constructor,"getContractAddress")(n),o=be(this.constructor,"getContract")(s,this.interface,this.signer);return Md(o,n),L(o,"deployTransaction",n),o})}attach(A){return this.constructor.getContract(A,this.interface,this.signer)}connect(A){return new this.constructor(this.interface,this.bytecode,A)}static fromSolidity(A,e){A==null&&SA.throwError("missing compiler output",C.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof A=="string"&&(A=JSON.parse(A));let t=A.abi,j=null;return A.bytecode?j=A.bytecode:A.evm&&A.evm.bytecode&&(j=A.evm.bytecode),new this(t,j,e)}static getInterface(A){return $r.getInterface(A)}static getContractAddress(A){return Rj(A)}static getContract(A,e,t){return new $r(A,e,t)}};var jo=class{constructor(A){L(this,"alphabet",A),L(this,"base",A.length),L(this,"_alphabetMap",{}),L(this,"_leader",A.charAt(0));for(let e=0;e<A.length;e++)this._alphabetMap[A.charAt(e)]=e}encode(A){let e=J(A);if(e.length===0)return"";let t=[0];for(let n=0;n<e.length;++n){let s=e[n];for(let o=0;o<t.length;++o)s+=t[o]<<8,t[o]=s%this.base,s=s/this.base|0;for(;s>0;)t.push(s%this.base),s=s/this.base|0}let j="";for(let n=0;e[n]===0&&n<e.length-1;++n)j+=this._leader;for(let n=t.length-1;n>=0;--n)j+=this.alphabet[t[n]];return j}decode(A){if(typeof A!="string")throw new TypeError("Expected String");let e=[];if(A.length===0)return new Uint8Array(e);e.push(0);for(let t=0;t<A.length;t++){let j=this._alphabetMap[A[t]];if(j===void 0)throw new Error("Non-base"+this.base+" character");let n=j;for(let s=0;s<e.length;++s)n+=e[s]*this.base,e[s]=n&255,n>>=8;for(;n>0;)e.push(n&255),n>>=8}for(let t=0;A[t]===this._leader&&t<A.length-1;++t)e.push(0);return J(new Uint8Array(e.reverse()))}},j3=new jo("abcdefghijklmnopqrstuvwxyz234567"),Ir=new jo("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Sn=bt(lc());var cr;(function(r){r.sha256="sha256",r.sha512="sha512"})(cr||(cr={}));var Td="sha2/5.7.0";var kx=new C(Td);function Is(r){return"0x"+Sn.default.ripemd160().update(J(r)).digest("hex")}function it(r){return"0x"+Sn.default.sha256().update(J(r)).digest("hex")}function _c(r){return"0x"+Sn.default.sha512().update(J(r)).digest("hex")}function Or(r,A,e){return cr[r]||kx.throwError("unsupported algorithm "+r,C.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+Sn.default.hmac(Sn.default[r],J(A)).update(J(e)).digest("hex")}function Kj(r,A,e,t,j){r=J(r),A=J(A);let n,s=1,o=new Uint8Array(t),a=new Uint8Array(A.length+4);a.set(A);let i,c;for(let l=1;l<=s;l++){a[A.length]=l>>24&255,a[A.length+1]=l>>16&255,a[A.length+2]=l>>8&255,a[A.length+3]=l&255;let u=J(Or(j,r,a));n||(n=u.length,c=new Uint8Array(n),s=Math.ceil(t/n),i=t-(s-1)*n),c.set(u);for(let d=1;d<e;d++){u=J(Or(j,r,u));for(let m=0;m<n;m++)c[m]^=u[m]}let f=(l-1)*n,h=l===s?i:n;o.set(J(c).slice(0,h),f)}return Q(o)}var Nd="wordlists/5.7.0";var qx=!1,Dd=new C(Nd),It=class{constructor(A){Dd.checkAbstract(new.target,It),L(this,"locale",A)}split(A){return A.toLowerCase().split(/ +/g)}join(A){return A.join(" ")}static check(A){let e=[];for(let t=0;t<2048;t++){let j=A.getWord(t);if(t!==A.getWordIndex(j))return"0x";e.push(j)}return dt(e.join(`
`)+`
`)}static register(A,e){if(e||(e=A.locale),qx)try{let t=window;t._ethers&&t._ethers.wordlists&&(t._ethers.wordlists[e]||L(t._ethers.wordlists,e,A))}catch{}}};var $x="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",Os=null;function Ud(r){if(Os==null&&(Os=$x.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),It.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Os=null,new Error("BIP39 Wordlist for en (English) FAILED")}var wc=class extends It{constructor(){super("en")}getWord(A){return Ud(this),Os[A]}getWordIndex(A){return Ud(this),Os.indexOf(A)}},Ec=new wc;It.register(Ec);var Hj={en:Ec};var Ld="hdnode/5.7.0";var Ss=new C(Ld),Ix=X.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ox=_A("Bitcoin seed"),Fn=2147483648;function Hd(r){return(1<<r)-1<<8-r}function Sx(r){return(1<<r)-1}function no(r){return mA(Q(r),32)}function Kd(r){return Ir.encode(uA([r,IA(it(it(r)),0,4)]))}function kc(r){if(r==null)return Hj.en;if(typeof r=="string"){let A=Hj[r];return A==null&&Ss.throwArgumentError("unknown locale","wordlist",r),A}return r}var Pn={},Sr="m/44'/60'/0'/0/0",Oe=class{constructor(A,e,t,j,n,s,o,a){if(A!==Pn)throw new Error("HDNode constructor cannot be called directly");if(e){let i=new qt(e);L(this,"privateKey",i.privateKey),L(this,"publicKey",i.compressedPublicKey)}else L(this,"privateKey",null),L(this,"publicKey",Q(t));L(this,"parentFingerprint",j),L(this,"fingerprint",IA(Is(it(this.publicKey)),0,4)),L(this,"address",$t(this.publicKey)),L(this,"chainCode",n),L(this,"index",s),L(this,"depth",o),a==null?(L(this,"mnemonic",null),L(this,"path",null)):typeof a=="string"?(L(this,"mnemonic",null),L(this,"path",a)):(L(this,"mnemonic",a),L(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Kd(uA([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",Q(this.depth),this.parentFingerprint,mA(Q(this.index),4),this.chainCode,this.privateKey!=null?uA(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Oe(Pn,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(A){if(A>4294967295)throw new Error("invalid index - "+String(A));let e=this.path;e&&(e+="/"+(A&~Fn));let t=new Uint8Array(37);if(A&Fn){if(!this.privateKey)throw new Error("cannot derive child of neutered node");t.set(J(this.privateKey),1),e&&(e+="'")}else t.set(J(this.publicKey));for(let l=24;l>=0;l-=8)t[33+(l>>3)]=A>>24-l&255;let j=J(Or(cr.sha512,this.chainCode,t)),n=j.slice(0,32),s=j.slice(32),o=null,a=null;this.privateKey?o=no(X.from(n).add(this.privateKey).mod(Ix)):a=new qt(Q(n))._addPoint(this.publicKey);let i=e,c=this.mnemonic;return c&&(i=Object.freeze({phrase:c.phrase,path:e,locale:c.locale||"en"})),new Oe(Pn,o,a,this.fingerprint,no(s),A,this.depth+1,i)}derivePath(A){let e=A.split("/");if(e.length===0||e[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+A);e[0]==="m"&&e.shift();let t=this;for(let j=0;j<e.length;j++){let n=e[j];if(n.match(/^[0-9]+'$/)){let s=parseInt(n.substring(0,n.length-1));if(s>=Fn)throw new Error("invalid path index - "+n);t=t._derive(Fn+s)}else if(n.match(/^[0-9]+$/)){let s=parseInt(n);if(s>=Fn)throw new Error("invalid path index - "+n);t=t._derive(s)}else throw new Error("invalid path component - "+n)}return t}static _fromSeed(A,e){let t=J(A);if(t.length<16||t.length>64)throw new Error("invalid seed");let j=J(Or(cr.sha512,Ox,t));return new Oe(Pn,no(j.slice(0,32)),null,"0x00000000",no(j.slice(32)),0,0,e)}static fromMnemonic(A,e,t){return t=kc(t),A=zj(Gn(A,t),t),Oe._fromSeed(qc(A,e),{phrase:A,path:"m",locale:t.locale})}static fromSeed(A){return Oe._fromSeed(A,null)}static fromExtendedKey(A){let e=Ir.decode(A);(e.length!==82||Kd(e.slice(0,78))!==A)&&Ss.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let t=e[4],j=Q(e.slice(5,9)),n=parseInt(Q(e.slice(9,13)).substring(2),16),s=Q(e.slice(13,45)),o=e.slice(45,78);switch(Q(e.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Oe(Pn,null,Q(o),j,s,n,t,null);case"0x0488ade4":case"0x04358394 ":if(o[0]!==0)break;return new Oe(Pn,Q(o.slice(1)),null,j,s,n,t,null)}return Ss.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function qc(r,A){A||(A="");let e=_A("mnemonic"+A,At.NFKD);return Kj(_A(r,At.NFKD),e,2048,64,"sha512")}function Gn(r,A){A=kc(A),Ss.checkNormalize();let e=A.split(r);if(e.length%3!==0)throw new Error("invalid mnemonic");let t=J(new Uint8Array(Math.ceil(11*e.length/8))),j=0;for(let i=0;i<e.length;i++){let c=A.getWordIndex(e[i].normalize("NFKD"));if(c===-1)throw new Error("invalid mnemonic");for(let l=0;l<11;l++)c&1<<10-l&&(t[j>>3]|=1<<7-j%8),j++}let n=32*e.length/3,s=e.length/3,o=Hd(s);if((J(it(t.slice(0,n/8)))[0]&o)!==(t[t.length-1]&o))throw new Error("invalid checksum");return Q(t.slice(0,n/8))}function zj(r,A){if(A=kc(A),r=J(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");let e=[0],t=11;for(let s=0;s<r.length;s++)t>8?(e[e.length-1]<<=8,e[e.length-1]|=r[s],t-=8):(e[e.length-1]<<=t,e[e.length-1]|=r[s]>>8-t,e.push(r[s]&Sx(8-t)),t+=3);let j=r.length/4,n=J(it(r))[0]&Hd(j);return e[e.length-1]<<=j,e[e.length-1]|=n>>8-j,A.join(e.map(s=>A.getWord(s)))}function zd(r,A){try{return Gn(r,A),!0}catch{}return!1}function Vd(r){return(typeof r!="number"||r<0||r>=Fn||r%1)&&Ss.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}var Jd="random/5.7.0";var $c=new C(Jd);function Px(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}var Wd=Px(),so=Wd.crypto||Wd.msCrypto;(!so||!so.getRandomValues)&&($c.warn("WARNING: Missing strong random number source"),so={getRandomValues:function(r){return $c.throwError("no secure random source avaialble",C.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function fr(r){(r<=0||r>1024||r%1||r!=r)&&$c.throwArgumentError("invalid length","length",r);let A=new Uint8Array(r);return so.getRandomValues(A),J(A)}function Ps(r){r=r.slice();for(let A=r.length-1;A>0;A--){let e=Math.floor(Math.random()*(A+1)),t=r[A];r[A]=r[e],r[e]=t}return r}var Sc=bt(Oc());var io="json-wallets/5.7.0";function Pr(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),J(r)}function Mn(r,A){for(r=String(r);r.length<A;)r="0"+r;return r}function Fs(r){return typeof r=="string"?_A(r,At.NFKC):J(r)}function ve(r,A){let e=r,t=A.toLowerCase().split("/");for(let j=0;j<t.length;j++){let n=null;for(let s in e)if(s.toLowerCase()===t[j]){n=e[s];break}if(n===null)return null;e=n}return e}function Qd(r){let A=J(r);A[6]=A[6]&15|64,A[8]=A[8]&63|128;let e=Q(A);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")}var Fx=new C(io),Pc=class extends lt{isCrowdsaleAccount(A){return!!(A&&A._isCrowdsaleAccount)}};function Fc(r,A){let e=JSON.parse(r);A=Fs(A);let t=hA(ve(e,"ethaddr")),j=Pr(ve(e,"encseed"));(!j||j.length%16!==0)&&Fx.throwArgumentError("invalid encseed","json",r);let n=J(Kj(A,A,2e3,32,"sha256")).slice(0,16),s=j.slice(0,16),o=j.slice(16),a=new Sc.default.ModeOfOperation.cbc(n,s),i=Sc.default.padding.pkcs7.strip(J(a.decrypt(o))),c="";for(let f=0;f<i.length;f++)c+=String.fromCharCode(i[f]);let l=_A(c),u=dA(l);return new Pc({_isCrowdsaleAccount:!0,address:t,privateKey:u})}function oo(r){let A=null;try{A=JSON.parse(r)}catch{return!1}return A.encseed&&A.ethaddr}function ao(r){let A=null;try{A=JSON.parse(r)}catch{return!1}return!(!A.version||parseInt(A.version)!==A.version||parseInt(A.version)!==3)}function Gc(r){if(oo(r))try{return hA(JSON.parse(r).ethaddr)}catch{return null}if(ao(r))try{return hA(JSON.parse(r).address)}catch{return null}return null}var Fr=bt(Oc()),co=bt(Yd());var Gx=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},Rc=new C(io);function Ah(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}var Cc=class extends lt{isKeystoreAccount(A){return!!(A&&A._isKeystoreAccount)}};function Mx(r,A,e){if(ve(r,"crypto/cipher")==="aes-128-ctr"){let j=Pr(ve(r,"crypto/cipherparams/iv")),n=new Fr.default.Counter(j),s=new Fr.default.ModeOfOperation.ctr(A,n);return J(s.decrypt(e))}return null}function eh(r,A){let e=Pr(ve(r,"crypto/ciphertext"));if(Q(dA(uA([A.slice(16,32),e]))).substring(2)!==ve(r,"crypto/mac").toLowerCase())throw new Error("invalid password");let j=Mx(r,A.slice(0,16),e);j||Rc.throwError("unsupported cipher",C.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let n=A.slice(32,64),s=$t(j);if(r.address){let a=r.address.toLowerCase();if(a.substring(0,2)!=="0x"&&(a="0x"+a),hA(a)!==s)throw new Error("address mismatch")}let o={_isKeystoreAccount:!0,address:s,privateKey:Q(j)};if(ve(r,"x-ethers/version")==="0.1"){let a=Pr(ve(r,"x-ethers/mnemonicCiphertext")),i=Pr(ve(r,"x-ethers/mnemonicCounter")),c=new Fr.default.Counter(i),l=new Fr.default.ModeOfOperation.ctr(n,c),u=ve(r,"x-ethers/path")||Sr,f=ve(r,"x-ethers/locale")||"en",h=J(l.decrypt(a));try{let d=zj(h,f),m=Oe.fromMnemonic(d,null,f).derivePath(u);if(m.privateKey!=o.privateKey)throw new Error("mnemonic mismatch");o.mnemonic=m.mnemonic}catch(d){if(d.code!==C.errors.INVALID_ARGUMENT||d.argument!=="wordlist")throw d}}return new Cc(o)}function th(r,A,e,t,j){return J(Kj(r,A,e,t,j))}function Rx(r,A,e,t,j){return Promise.resolve(th(r,A,e,t,j))}function rh(r,A,e,t,j){let n=Fs(A),s=ve(r,"crypto/kdf");if(s&&typeof s=="string"){let o=function(a,i){return Rc.throwArgumentError("invalid key-derivation function parameters",a,i)};if(s.toLowerCase()==="scrypt"){let a=Pr(ve(r,"crypto/kdfparams/salt")),i=parseInt(ve(r,"crypto/kdfparams/n")),c=parseInt(ve(r,"crypto/kdfparams/r")),l=parseInt(ve(r,"crypto/kdfparams/p"));(!i||!c||!l)&&o("kdf",s),i&i-1&&o("N",i);let u=parseInt(ve(r,"crypto/kdfparams/dklen"));return u!==32&&o("dklen",u),t(n,a,i,c,l,64,j)}else if(s.toLowerCase()==="pbkdf2"){let a=Pr(ve(r,"crypto/kdfparams/salt")),i=null,c=ve(r,"crypto/kdfparams/prf");c==="hmac-sha256"?i="sha256":c==="hmac-sha512"?i="sha512":o("prf",c);let l=parseInt(ve(r,"crypto/kdfparams/c")),u=parseInt(ve(r,"crypto/kdfparams/dklen"));return u!==32&&o("dklen",u),e(n,a,l,u,i)}}return Rc.throwArgumentError("unsupported key-derivation function","kdf",s)}function jh(r,A){let e=JSON.parse(r),t=rh(e,A,th,co.default.syncScrypt);return eh(e,t)}function nh(r,A,e){return Gx(this,void 0,void 0,function*(){let t=JSON.parse(r),j=yield rh(t,A,Rx,co.default.scrypt,e);return eh(t,j)})}function Tc(r,A,e,t){try{if(hA(r.address)!==$t(r.privateKey))throw new Error("address/privateKey mismatch");if(Ah(r)){let m=r.mnemonic;if(Oe.fromMnemonic(m.phrase,null,m.locale).derivePath(m.path||Sr).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(m){return Promise.reject(m)}typeof e=="function"&&!t&&(t=e,e={}),e||(e={});let j=J(r.privateKey),n=Fs(A),s=null,o=null,a=null;if(Ah(r)){let m=r.mnemonic;s=J(Gn(m.phrase,m.locale||"en")),o=m.path||Sr,a=m.locale||"en"}let i=e.client;i||(i="ethers.js");let c=null;e.salt?c=J(e.salt):c=fr(32);let l=null;if(e.iv){if(l=J(e.iv),l.length!==16)throw new Error("invalid iv")}else l=fr(16);let u=null;if(e.uuid){if(u=J(e.uuid),u.length!==16)throw new Error("invalid uuid")}else u=fr(16);let f=1<<17,h=8,d=1;return e.scrypt&&(e.scrypt.N&&(f=e.scrypt.N),e.scrypt.r&&(h=e.scrypt.r),e.scrypt.p&&(d=e.scrypt.p)),co.default.scrypt(n,c,f,h,d,64,t).then(m=>{m=J(m);let b=m.slice(0,16),B=m.slice(16,32),_=m.slice(32,64),S=new Fr.default.Counter(l),q=new Fr.default.ModeOfOperation.ctr(b,S),y=J(q.encrypt(j)),w=dA(uA([B,y])),k={address:r.address.substring(2).toLowerCase(),id:Qd(u),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Q(l).substring(2)},ciphertext:Q(y).substring(2),kdf:"scrypt",kdfparams:{salt:Q(c).substring(2),n:f,dklen:32,p:d,r:h},mac:w.substring(2)}};if(s){let R=fr(16),H=new Fr.default.Counter(R),K=new Fr.default.ModeOfOperation.ctr(_,H),Z=J(K.encrypt(s)),F=new Date,p=F.getUTCFullYear()+"-"+Mn(F.getUTCMonth()+1,2)+"-"+Mn(F.getUTCDate(),2)+"T"+Mn(F.getUTCHours(),2)+"-"+Mn(F.getUTCMinutes(),2)+"-"+Mn(F.getUTCSeconds(),2)+".0Z";k["x-ethers"]={client:i,gethFilename:"UTC--"+p+"--"+k.address,mnemonicCounter:Q(R).substring(2),mnemonicCiphertext:Q(Z).substring(2),path:o,locale:a,version:"0.1"}}return JSON.stringify(k)})}function sh(r,A,e){if(oo(r)){e&&e(0);let t=Fc(r,A);return e&&e(1),Promise.resolve(t)}return ao(r)?nh(r,A,e):Promise.reject(new Error("invalid JSON wallet"))}function ih(r,A){if(oo(r))return Fc(r,A);if(ao(r))return jh(r,A);throw new Error("invalid JSON wallet")}var oh="wallet/5.7.0";var ah=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},Rn=new C(oh);function Cx(r){return r!=null&&sA(r.privateKey,32)&&r.address!=null}function Tx(r){let A=r.mnemonic;return A&&A.phrase}var Dt=class extends et{constructor(A,e){if(super(),Cx(A)){let t=new qt(A.privateKey);if(L(this,"_signingKey",()=>t),L(this,"address",$t(this.publicKey)),this.address!==hA(A.address)&&Rn.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Tx(A)){let j=A.mnemonic;L(this,"_mnemonic",()=>({phrase:j.phrase,path:j.path||Sr,locale:j.locale||"en"}));let n=this.mnemonic,s=Oe.fromMnemonic(n.phrase,null,n.locale).derivePath(n.path);$t(s.privateKey)!==this.address&&Rn.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else L(this,"_mnemonic",()=>null)}else{if(qt.isSigningKey(A))A.curve!=="secp256k1"&&Rn.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),L(this,"_signingKey",()=>A);else{typeof A=="string"&&A.match(/^[0-9a-f]*$/i)&&A.length===64&&(A="0x"+A);let t=new qt(A);L(this,"_signingKey",()=>t)}L(this,"_mnemonic",()=>null),L(this,"address",$t(this.publicKey))}e&&!nt.isProvider(e)&&Rn.throwArgumentError("invalid provider","provider",e),L(this,"provider",e||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(A){return new Dt(this,A)}signTransaction(A){return OA(A).then(e=>{e.from!=null&&(hA(e.from)!==this.address&&Rn.throwArgumentError("transaction from address mismatch","transaction.from",A.from),delete e.from);let t=this._signingKey().signDigest(dA(qs(e)));return qs(e,t)})}signMessage(A){return ah(this,void 0,void 0,function*(){return ls(this._signingKey().signDigest(yn(A)))})}_signTypedData(A,e,t){return ah(this,void 0,void 0,function*(){let j=yield Be.resolveNames(A,e,t,n=>(this.provider==null&&Rn.throwError("cannot resolve ENS names without a provider",C.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:n}),this.provider.resolveName(n)));return ls(this._signingKey().signDigest(Be.hash(j.domain,e,j.value)))})}encrypt(A,e,t){if(typeof e=="function"&&!t&&(t=e,e={}),t&&typeof t!="function")throw new Error("invalid callback");return e||(e={}),Tc(this,A,e,t)}static createRandom(A){let e=fr(16);A||(A={}),A.extraEntropy&&(e=J(IA(dA(uA([e,A.extraEntropy])),0,16)));let t=zj(e,A.locale);return Dt.fromMnemonic(t,A.path,A.locale)}static fromEncryptedJson(A,e,t){return sh(A,e,t).then(j=>new Dt(j))}static fromEncryptedJsonSync(A,e){return new Dt(ih(A,e))}static fromMnemonic(A,e,t){return e||(e=Sr),new Dt(Oe.fromMnemonic(A,null,t).derivePath(e))}};function ch(r,A){return Dj(yn(r),A)}function fh(r,A,e,t){return Dj(Be.hash(r,A,e),t)}var qo={};rn(qo,{AlchemyProvider:()=>Ln,AlchemyWebSocketProvider:()=>Hs,AnkrProvider:()=>zs,BaseProvider:()=>ur,CloudflareProvider:()=>Vs,EtherscanProvider:()=>Js,FallbackProvider:()=>Xs,Formatter:()=>tA,InfuraProvider:()=>Hn,InfuraWebSocketProvider:()=>Zs,IpcProvider:()=>Zc,JsonRpcBatchProvider:()=>Eo,JsonRpcProvider:()=>ot,JsonRpcSigner:()=>Dn,NodesmithProvider:()=>Ys,PocketProvider:()=>Ai,Provider:()=>nt,Resolver:()=>Nn,StaticJsonRpcProvider:()=>Ks,UrlJsonRpcProvider:()=>Se,Web3Provider:()=>ei,WebSocketProvider:()=>Rr,getDefaultProvider:()=>ko,getNetwork:()=>Gs,isCommunityResourcable:()=>Uc,isCommunityResource:()=>Cs,showThrottleMessage:()=>lr});var lh="networks/5.7.1";var uh=new C(lh);function Nx(r){return r&&typeof r.renetwork=="function"}function Gr(r){let A=function(e,t){t==null&&(t={});let j=[];if(e.InfuraProvider&&t.infura!=="-")try{j.push(new e.InfuraProvider(r,t.infura))}catch{}if(e.EtherscanProvider&&t.etherscan!=="-")try{j.push(new e.EtherscanProvider(r,t.etherscan))}catch{}if(e.AlchemyProvider&&t.alchemy!=="-")try{j.push(new e.AlchemyProvider(r,t.alchemy))}catch{}if(e.PocketProvider&&t.pocket!=="-"){let n=["goerli","ropsten","rinkeby","sepolia"];try{let s=new e.PocketProvider(r,t.pocket);s.network&&n.indexOf(s.network.name)===-1&&j.push(s)}catch{}}if(e.CloudflareProvider&&t.cloudflare!=="-")try{j.push(new e.CloudflareProvider(r))}catch{}if(e.AnkrProvider&&t.ankr!=="-")try{let n=["ropsten"],s=new e.AnkrProvider(r,t.ankr);s.network&&n.indexOf(s.network.name)===-1&&j.push(s)}catch{}if(j.length===0)return null;if(e.FallbackProvider){let n=1;return t.quorum!=null?n=t.quorum:r==="homestead"&&(n=2),new e.FallbackProvider(j,n)}return j[0]};return A.renetwork=function(e){return Gr(e)},A}function lo(r,A){let e=function(t,j){return t.JsonRpcProvider?new t.JsonRpcProvider(r,A):null};return e.renetwork=function(t){return lo(r,t)},e}var dh={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Gr("homestead")},hh={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Gr("ropsten")},ph={chainId:63,name:"classicMordor",_defaultProvider:lo("https://www.ethercluster.com/mordor","classicMordor")},fo={unspecified:{chainId:0,name:"unspecified"},homestead:dh,mainnet:dh,morden:{chainId:2,name:"morden"},ropsten:hh,testnet:hh,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Gr("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Gr("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Gr("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Gr("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:lo("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:ph,classicTestnet:ph,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:lo("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Gr("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Gr("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Gs(r){if(r==null)return null;if(typeof r=="number"){for(let t in fo){let j=fo[t];if(j.chainId===r)return{name:j.name,chainId:j.chainId,ensAddress:j.ensAddress||null,_defaultProvider:j._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){let t=fo[r];return t==null?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}let A=fo[r.name];if(!A)return typeof r.chainId!="number"&&uh.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==A.chainId&&uh.throwArgumentError("network chainId mismatch","network",r);let e=r._defaultProvider||null;return e==null&&A._defaultProvider&&(Nx(A._defaultProvider)?e=A._defaultProvider.renetwork(r):e=A._defaultProvider),{name:r.name,chainId:A.chainId,ensAddress:r.ensAddress||A.ensAddress||null,_defaultProvider:e}}var mh="web/5.7.1";var Dx=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})};function gh(r,A){return Dx(this,void 0,void 0,function*(){A==null&&(A={});let e={method:A.method||"GET",headers:A.headers||{},body:A.body||void 0};if(A.skipFetchSetup!==!0&&(e.mode="cors",e.cache="no-cache",e.credentials="same-origin",e.redirect="follow",e.referrer="client"),A.fetchOptions!=null){let s=A.fetchOptions;s.mode&&(e.mode=s.mode),s.cache&&(e.cache=s.cache),s.credentials&&(e.credentials=s.credentials),s.redirect&&(e.redirect=s.redirect),s.referrer&&(e.referrer=s.referrer)}let t=yield fetch(r,e),j=yield t.arrayBuffer(),n={};return t.headers.forEach?t.headers.forEach((s,o)=>{n[o.toLowerCase()]=s}):t.headers.keys().forEach(s=>{n[s.toLowerCase()]=t.headers.get(s)}),{headers:n,statusCode:t.status,statusMessage:t.statusText,body:J(new Uint8Array(j))}})}var Ux=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},Ut=new C(mh);function bh(r){return new Promise(A=>{setTimeout(A,r)})}function rj(r,A){if(r==null)return null;if(typeof r=="string")return r;if(yr(r)){if(A&&(A.split("/")[0]==="text"||A.split(";")[0].trim()==="application/json"))try{return jt(r)}catch{}return Q(r)}return r}function Lx(r){return _A(r.replace(/%([0-9a-f][0-9a-f])/gi,(A,e)=>String.fromCharCode(parseInt(e,16))))}function Nc(r,A,e){let t=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;Ut.assertArgument(t>0&&t%1===0,"invalid connection throttle limit","connection.throttleLimit",t);let j=typeof r=="object"?r.throttleCallback:null,n=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;Ut.assertArgument(n>0&&n%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",n);let s=typeof r=="object"?!!r.errorPassThrough:!1,o={},a=null,i={method:"GET"},c=!1,l=2*60*1e3;if(typeof r=="string")a=r;else if(typeof r=="object"){if((r==null||r.url==null)&&Ut.throwArgumentError("missing URL","connection.url",r),a=r.url,typeof r.timeout=="number"&&r.timeout>0&&(l=r.timeout),r.headers)for(let b in r.headers)o[b.toLowerCase()]={key:b,value:String(r.headers[b])},["if-none-match","if-modified-since"].indexOf(b.toLowerCase())>=0&&(c=!0);if(i.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){a.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&Ut.throwError("basic authentication requires a secure https url",C.errors.INVALID_ARGUMENT,{argument:"url",url:a,user:r.user,password:"[REDACTED]"});let b=r.user+":"+r.password;o.authorization={key:"Authorization",value:"Basic "+bn(_A(b))}}r.skipFetchSetup!=null&&(i.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(i.fetchOptions=EA(r.fetchOptions))}let u=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),f=a?a.match(u):null;if(f)try{let b={statusCode:200,statusMessage:"OK",headers:{"content-type":f[1]||"text/plain"},body:f[2]?gn(f[3]):Lx(f[3])},B=b.body;return e&&(B=e(b.body,b)),Promise.resolve(B)}catch(b){Ut.throwError("processing response error",C.errors.SERVER_ERROR,{body:rj(f[1],f[2]),error:b,requestBody:null,requestMethod:"GET",url:a})}A&&(i.method="POST",i.body=A,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(A.length)}));let h={};Object.keys(o).forEach(b=>{let B=o[b];h[B.key]=B.value}),i.headers=h;let d=function(){let b=null;return{promise:new Promise(function(S,q){l&&(b=setTimeout(()=>{b!=null&&(b=null,q(Ut.makeError("timeout",C.errors.TIMEOUT,{requestBody:rj(i.body,h["content-type"]),requestMethod:i.method,timeout:l,url:a})))},l))}),cancel:function(){b!=null&&(clearTimeout(b),b=null)}}}(),m=function(){return Ux(this,void 0,void 0,function*(){for(let b=0;b<t;b++){let B=null;try{if(B=yield gh(a,i),b<t){if(B.statusCode===301||B.statusCode===302){let S=B.headers.location||"";if(i.method==="GET"&&S.match(/^https:/)){a=B.headers.location;continue}}else if(B.statusCode===429){let S=!0;if(j&&(S=yield j(b,a)),S){let q=0,y=B.headers["retry-after"];typeof y=="string"&&y.match(/^[1-9][0-9]*$/)?q=parseInt(y)*1e3:q=n*parseInt(String(Math.random()*Math.pow(2,b))),yield bh(q);continue}}}}catch(S){B=S.response,B==null&&(d.cancel(),Ut.throwError("missing response",C.errors.SERVER_ERROR,{requestBody:rj(i.body,h["content-type"]),requestMethod:i.method,serverError:S,url:a}))}let _=B.body;if(c&&B.statusCode===304?_=null:!s&&(B.statusCode<200||B.statusCode>=300)&&(d.cancel(),Ut.throwError("bad response",C.errors.SERVER_ERROR,{status:B.statusCode,headers:B.headers,body:rj(_,B.headers?B.headers["content-type"]:null),requestBody:rj(i.body,h["content-type"]),requestMethod:i.method,url:a})),e)try{let S=yield e(_,B);return d.cancel(),S}catch(S){if(S.throttleRetry&&b<t){let q=!0;if(j&&(q=yield j(b,a)),q){let y=n*parseInt(String(Math.random()*Math.pow(2,b)));yield bh(y);continue}}d.cancel(),Ut.throwError("processing response error",C.errors.SERVER_ERROR,{body:rj(_,B.headers?B.headers["content-type"]:null),error:S,requestBody:rj(i.body,h["content-type"]),requestMethod:i.method,url:a})}return d.cancel(),_}return Ut.throwError("failed response",C.errors.SERVER_ERROR,{requestBody:rj(i.body,h["content-type"]),requestMethod:i.method,url:a})})}();return Promise.race([d.promise,m])}function Lt(r,A,e){let t=(n,s)=>{let o=null;if(n!=null)try{o=JSON.parse(jt(n))}catch(a){Ut.throwError("invalid JSON",C.errors.SERVER_ERROR,{body:n,error:a})}return e&&(o=e(o,s)),o},j=null;if(A!=null){j=_A(A);let n=typeof r=="string"?{url:r}:EA(r);n.headers?Object.keys(n.headers).filter(o=>o.toLowerCase()==="content-type").length!==0||(n.headers=EA(n.headers),n.headers["content-type"]="application/json"):n.headers={"content-type":"application/json"},r=n}return Nc(r,j,t)}function Kt(r,A){return A||(A={}),A=EA(A),A.floor==null&&(A.floor=0),A.ceiling==null&&(A.ceiling=1e4),A.interval==null&&(A.interval=250),new Promise(function(e,t){let j=null,n=!1,s=()=>n?!1:(n=!0,j&&clearTimeout(j),!0);A.timeout&&(j=setTimeout(()=>{s()&&t(new Error("timeout"))},A.timeout));let o=A.retryLimit,a=0;function i(){return r().then(function(c){if(c!==void 0)s()&&e(c);else if(A.oncePoll)A.oncePoll.once("poll",i);else if(A.onceBlock)A.onceBlock.once("block",i);else if(!n){if(a++,a>o){s()&&t(new Error("retry limit reached"));return}let l=A.interval*parseInt(String(Math.random()*Math.pow(2,a)));l<A.floor&&(l=A.floor),l>A.ceiling&&(l=A.ceiling),setTimeout(i,l)}return null},function(c){s()&&t(c)})}i()})}var zc=bt(vh());var $A="providers/5.7.2";var Rs=new C($A),tA=class{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let A={},e=this.address.bind(this),t=this.bigNumber.bind(this),j=this.blockTag.bind(this),n=this.data.bind(this),s=this.hash.bind(this),o=this.hex.bind(this),a=this.number.bind(this),i=this.type.bind(this),c=l=>this.data(l,!0);return A.transaction={hash:s,type:i,accessList:tA.allowNull(this.accessList.bind(this),null),blockHash:tA.allowNull(s,null),blockNumber:tA.allowNull(a,null),transactionIndex:tA.allowNull(a,null),confirmations:tA.allowNull(a,null),from:e,gasPrice:tA.allowNull(t),maxPriorityFeePerGas:tA.allowNull(t),maxFeePerGas:tA.allowNull(t),gasLimit:t,to:tA.allowNull(e,null),value:t,nonce:a,data:n,r:tA.allowNull(this.uint256),s:tA.allowNull(this.uint256),v:tA.allowNull(a),creates:tA.allowNull(e,null),raw:tA.allowNull(n)},A.transactionRequest={from:tA.allowNull(e),nonce:tA.allowNull(a),gasLimit:tA.allowNull(t),gasPrice:tA.allowNull(t),maxPriorityFeePerGas:tA.allowNull(t),maxFeePerGas:tA.allowNull(t),to:tA.allowNull(e),value:tA.allowNull(t),data:tA.allowNull(c),type:tA.allowNull(a),accessList:tA.allowNull(this.accessList.bind(this),null)},A.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:s,address:e,topics:tA.arrayOf(s),data:n,logIndex:a,blockHash:s},A.receipt={to:tA.allowNull(this.address,null),from:tA.allowNull(this.address,null),contractAddress:tA.allowNull(e,null),transactionIndex:a,root:tA.allowNull(o),gasUsed:t,logsBloom:tA.allowNull(n),blockHash:s,transactionHash:s,logs:tA.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:tA.allowNull(a,null),cumulativeGasUsed:t,effectiveGasPrice:tA.allowNull(t),status:tA.allowNull(a),type:i},A.block={hash:tA.allowNull(s),parentHash:s,number:a,timestamp:a,nonce:tA.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:t,gasUsed:t,miner:tA.allowNull(e),extraData:n,transactions:tA.allowNull(tA.arrayOf(s)),baseFeePerGas:tA.allowNull(t)},A.blockWithTransactions=EA(A.block),A.blockWithTransactions.transactions=tA.allowNull(tA.arrayOf(this.transactionResponse.bind(this))),A.filter={fromBlock:tA.allowNull(j,void 0),toBlock:tA.allowNull(j,void 0),blockHash:tA.allowNull(s,void 0),address:tA.allowNull(e,void 0),topics:tA.allowNull(this.topics.bind(this),void 0)},A.filterLog={blockNumber:tA.allowNull(a),blockHash:tA.allowNull(s),transactionIndex:a,removed:tA.allowNull(this.boolean.bind(this)),address:e,data:tA.allowFalsish(n,"0x"),topics:tA.arrayOf(s),transactionHash:s,logIndex:a},A}accessList(A){return mt(A||[])}number(A){return A==="0x"?0:X.from(A).toNumber()}type(A){return A==="0x"||A==null?0:X.from(A).toNumber()}bigNumber(A){return X.from(A)}boolean(A){if(typeof A=="boolean")return A;if(typeof A=="string"){if(A=A.toLowerCase(),A==="true")return!0;if(A==="false")return!1}throw new Error("invalid boolean - "+A)}hex(A,e){return typeof A=="string"&&(!e&&A.substring(0,2)!=="0x"&&(A="0x"+A),sA(A))?A.toLowerCase():Rs.throwArgumentError("invalid hash","value",A)}data(A,e){let t=this.hex(A,e);if(t.length%2!==0)throw new Error("invalid data; odd-length - "+A);return t}address(A){return hA(A)}callAddress(A){if(!sA(A,32))return null;let e=hA(IA(A,12));return e===Ii?null:e}contractAddress(A){return Rj(A)}blockTag(A){if(A==null)return"latest";if(A==="earliest")return"0x0";switch(A){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return A}if(typeof A=="number"||sA(A))return Zt(A);throw new Error("invalid blockTag")}hash(A,e){let t=this.hex(A,e);return Te(t)!==32?Rs.throwArgumentError("invalid hash","value",A):t}difficulty(A){if(A==null)return null;let e=X.from(A);try{return e.toNumber()}catch{}return null}uint256(A){if(!sA(A))throw new Error("invalid uint256");return mA(A,32)}_block(A,e){A.author!=null&&A.miner==null&&(A.miner=A.author);let t=A._difficulty!=null?A._difficulty:A.difficulty,j=tA.check(e,A);return j._difficulty=t==null?null:X.from(t),j}block(A){return this._block(A,this.formats.block)}blockWithTransactions(A){return this._block(A,this.formats.blockWithTransactions)}transactionRequest(A){return tA.check(this.formats.transactionRequest,A)}transactionResponse(A){A.gas!=null&&A.gasLimit==null&&(A.gasLimit=A.gas),A.to&&X.from(A.to).isZero()&&(A.to="0x0000000000000000000000000000000000000000"),A.input!=null&&A.data==null&&(A.data=A.input),A.to==null&&A.creates==null&&(A.creates=this.contractAddress(A)),(A.type===1||A.type===2)&&A.accessList==null&&(A.accessList=[]);let e=tA.check(this.formats.transaction,A);if(A.chainId!=null){let t=A.chainId;sA(t)&&(t=X.from(t).toNumber()),e.chainId=t}else{let t=A.networkId;t==null&&e.v==null&&(t=A.chainId),sA(t)&&(t=X.from(t).toNumber()),typeof t!="number"&&e.v!=null&&(t=(e.v-35)/2,t<0&&(t=0),t=parseInt(t)),typeof t!="number"&&(t=0),e.chainId=t}return e.blockHash&&e.blockHash.replace(/0/g,"")==="x"&&(e.blockHash=null),e}transaction(A){return Yi(A)}receiptLog(A){return tA.check(this.formats.receiptLog,A)}receipt(A){let e=tA.check(this.formats.receipt,A);if(e.root!=null)if(e.root.length<=4){let t=X.from(e.root).toNumber();t===0||t===1?(e.status!=null&&e.status!==t&&Rs.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):Rs.throwArgumentError("invalid alt-root-status","value.root",e.root)}else e.root.length!==66&&Rs.throwArgumentError("invalid root hash","value.root",e.root);return e.status!=null&&(e.byzantium=!0),e}topics(A){return Array.isArray(A)?A.map(e=>this.topics(e)):A!=null?this.hash(A,!0):null}filter(A){return tA.check(this.formats.filter,A)}filterLog(A){return tA.check(this.formats.filterLog,A)}static check(A,e){let t={};for(let j in A)try{let n=A[j](e[j]);n!==void 0&&(t[j]=n)}catch(n){throw n.checkKey=j,n.checkValue=e[j],n}return t}static allowNull(A,e){return function(t){return t==null?e:A(t)}}static allowFalsish(A,e){return function(t){return t?A(t):e}}static arrayOf(A){return function(e){if(!Array.isArray(e))throw new Error("not an array");let t=[];return e.forEach(function(j){t.push(A(j))}),t}}};function Uc(r){return r&&typeof r.isCommunityResource=="function"}function Cs(r){return Uc(r)&&r.isCommunityResource()}var _h=!1;function lr(){_h||(_h=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var oA=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},gA=new C($A),Qx=10;function wh(r){return r==null?"null":(Te(r)!==32&&gA.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function Eh(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(A=>{if(Array.isArray(A)){let e={};A.forEach(j=>{e[wh(j)]=!0});let t=Object.keys(e);return t.sort(),t.join("|")}else return wh(A)}).join("&")}function Zx(r){return r===""?[]:r.split(/&/g).map(A=>{if(A==="")return[];let e=A.split("|").map(t=>t==="null"?null:t);return e.length===1?e[0]:e})}function Tn(r){if(typeof r=="string"){if(r=r.toLowerCase(),Te(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+Eh(r);if(Ui.isForkEvent(r))throw gA.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+Eh(r.topics||[])}throw new Error("invalid event - "+r)}function Ts(){return new Date().getTime()}function kh(r){return new Promise(A=>{setTimeout(A,r)})}var Yx=["block","network","pending","poll"],Vc=class{constructor(A,e,t){L(this,"tag",A),L(this,"listener",e),L(this,"once",t),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let A=this.tag.split(":");return A[0]!=="tx"?null:A[1]}get filter(){let A=this.tag.split(":");if(A[0]!=="filter")return null;let e=A[1],t=Zx(A[2]),j={};return t.length>0&&(j.topics=t),e&&e!=="*"&&(j.address=e),j}pollable(){return this.tag.indexOf(":")>=0||Yx.indexOf(this.tag)>=0}},A1={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Lc(r){return mA(X.from(r).toHexString(),32)}function qh(r){return Ir.encode(uA([r,IA(it(it(r)),0,4)]))}var Oh=new RegExp("^(ipfs)://(.*)$","i"),$h=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Oh,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function mo(r,A){try{return jt(Ns(r,A))}catch{}return null}function Ns(r,A){if(r==="0x")return null;let e=X.from(IA(r,A,A+32)).toNumber(),t=X.from(IA(r,e,e+32)).toNumber();return IA(r,e+32,e+32+t)}function Kc(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):gA.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function Ih(r){let A=J(r);if(A.length>32)throw new Error("internal; should not happen");let e=new Uint8Array(32);return e.set(A,32-A.length),e}function e1(r){if(r.length%32===0)return r;let A=new Uint8Array(Math.ceil(r.length/32)*32);return A.set(r),A}function Sh(r){let A=[],e=0;for(let t=0;t<r.length;t++)A.push(null),e+=32;for(let t=0;t<r.length;t++){let j=J(r[t]);A[t]=Ih(e),A.push(Ih(j.length)),A.push(e1(j)),e+=32+Math.ceil(j.length/32)*32}return Ee(A)}var Nn=class{constructor(A,e,t,j){L(this,"provider",A),L(this,"name",t),L(this,"address",A.formatter.address(e)),L(this,"_resolvedAddress",j)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(A=>X.from(A).eq(1)).catch(A=>{if(A.code===C.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,A})),this._supportsEip2544}_fetch(A,e){return oA(this,void 0,void 0,function*(){let t={to:this.address,ccipReadEnabled:!0,data:Ee([A,Qr(this.name),e||"0x"])},j=!1;(yield this.supportsWildcard())&&(j=!0,t.data=Ee(["0x9061b923",Sh([_s(this.name),t.data])]));try{let n=yield this.provider.call(t);return J(n).length%32===4&&gA.throwError("resolver threw error",C.errors.CALL_EXCEPTION,{transaction:t,data:n}),j&&(n=Ns(n,0)),n}catch(n){if(n.code===C.errors.CALL_EXCEPTION)return null;throw n}})}_fetchBytes(A,e){return oA(this,void 0,void 0,function*(){let t=yield this._fetch(A,e);return t!=null?Ns(t,0):null})}_getAddress(A,e){let t=A1[String(A)];if(t==null&&gA.throwError(`unsupported coin type: ${A}`,C.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${A})`}),t.ilk==="eth")return this.provider.formatter.address(e);let j=J(e);if(t.p2pkh!=null){let n=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(n){let s=parseInt(n[1],16);if(n[2].length===s*2&&s>=1&&s<=75)return qh(uA([[t.p2pkh],"0x"+n[2]]))}}if(t.p2sh!=null){let n=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(n){let s=parseInt(n[1],16);if(n[2].length===s*2&&s>=1&&s<=75)return qh(uA([[t.p2sh],"0x"+n[2]]))}}if(t.prefix!=null){let n=j[1],s=j[0];if(s===0?n!==20&&n!==32&&(s=-1):s=-1,s>=0&&j.length===2+n&&n>=1&&n<=75){let o=zc.default.toWords(j.slice(2));return o.unshift(s),zc.default.encode(t.prefix,o)}}return null}getAddress(A){return oA(this,void 0,void 0,function*(){if(A==null&&(A=60),A===60)try{let j=yield this._fetch("0x3b3b57de");return j==="0x"||j===pn?null:this.provider.formatter.callAddress(j)}catch(j){if(j.code===C.errors.CALL_EXCEPTION)return null;throw j}let e=yield this._fetchBytes("0xf1cb7e06",Lc(A));if(e==null||e==="0x")return null;let t=this._getAddress(A,e);return t==null&&gA.throwError("invalid or unsupported coin data",C.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${A})`,coinType:A,data:e}),t})}getAvatar(){return oA(this,void 0,void 0,function*(){let A=[{type:"name",content:this.name}];try{let e=yield this.getText("avatar");if(e==null)return null;for(let t=0;t<$h.length;t++){let j=e.match($h[t]);if(j==null)continue;let n=j[1].toLowerCase();switch(n){case"https":return A.push({type:"url",content:e}),{linkage:A,url:e};case"data":return A.push({type:"data",content:e}),{linkage:A,url:e};case"ipfs":return A.push({type:"ipfs",content:e}),{linkage:A,url:Kc(e)};case"erc721":case"erc1155":{let s=n==="erc721"?"0xc87b56dd":"0x0e89341c";A.push({type:n,content:e});let o=this._resolvedAddress||(yield this.getAddress()),a=(j[2]||"").split("/");if(a.length!==2)return null;let i=yield this.provider.formatter.address(a[0]),c=mA(X.from(a[1]).toHexString(),32);if(n==="erc721"){let d=this.provider.formatter.callAddress(yield this.provider.call({to:i,data:Ee(["0x6352211e",c])}));if(o!==d)return null;A.push({type:"owner",content:d})}else if(n==="erc1155"){let d=X.from(yield this.provider.call({to:i,data:Ee(["0x00fdd58e",mA(o,32),c])}));if(d.isZero())return null;A.push({type:"balance",content:d.toString()})}let l={to:this.provider.formatter.address(a[0]),data:Ee([s,c])},u=mo(yield this.provider.call(l),0);if(u==null)return null;A.push({type:"metadata-url-base",content:u}),n==="erc1155"&&(u=u.replace("{id}",c.substring(2)),A.push({type:"metadata-url-expanded",content:u})),u.match(/^ipfs:/i)&&(u=Kc(u)),A.push({type:"metadata-url",content:u});let f=yield Lt(u);if(!f)return null;A.push({type:"metadata",content:JSON.stringify(f)});let h=f.image;if(typeof h!="string")return null;if(!h.match(/^(https:\/\/|data:)/i)){if(h.match(Oh)==null)return null;A.push({type:"url-ipfs",content:h}),h=Kc(h)}return A.push({type:"url",content:h}),{linkage:A,url:h}}}}}catch{}return null})}getContentHash(){return oA(this,void 0,void 0,function*(){let A=yield this._fetchBytes("0xbc1c58d1");if(A==null||A==="0x")return null;let e=A.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){let s=parseInt(e[3],16);if(e[4].length===s*2)return"ipfs://"+Ir.encode("0x"+e[1])}let t=A.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let s=parseInt(t[3],16);if(t[4].length===s*2)return"ipns://"+Ir.encode("0x"+t[1])}let j=A.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(j&&j[1].length===32*2)return"bzz://"+j[1];let n=A.match(/^0x90b2c605([0-9a-f]*)$/);if(n&&n[1].length===34*2){let s={"=":"","+":"-","/":"_"};return"sia://"+bn("0x"+n[1]).replace(/[=+\/]/g,a=>s[a])}return gA.throwError("invalid or unsupported content hash data",C.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:A})})}getText(A){return oA(this,void 0,void 0,function*(){let e=_A(A);e=uA([Lc(64),Lc(e.length),e]),e.length%32!==0&&(e=uA([e,mA("0x",32-A.length%32)]));let t=yield this._fetchBytes("0x59d1d43c",Q(e));return t==null||t==="0x"?null:jt(t)})}},Hc=null,t1=1,ur=class extends nt{constructor(A){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),L(this,"anyNetwork",A==="any"),this.anyNetwork&&(A=this.detectNetwork()),A instanceof Promise)this._networkPromise=A,A.catch(e=>{}),this._ready().catch(e=>{});else{let e=be(new.target,"getNetwork")(A);e?(L(this,"_network",e),this.emit("network",e,null)):gA.throwArgumentError("invalid network","network",A)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return oA(this,void 0,void 0,function*(){if(this._network==null){let A=null;if(this._networkPromise)try{A=yield this._networkPromise}catch{}A==null&&(A=yield this.detectNetwork()),A||gA.throwError("no network detected",C.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=A:L(this,"_network",A),this.emit("network",A,null))}return this._network})}get ready(){return Kt(()=>this._ready().then(A=>A,A=>{if(!(A.code===C.errors.NETWORK_ERROR&&A.event==="noNetwork"))throw A}))}static getFormatter(){return Hc==null&&(Hc=new tA),Hc}static getNetwork(A){return Gs(A??"homestead")}ccipReadFetch(A,e,t){return oA(this,void 0,void 0,function*(){if(this.disableCcipRead||t.length===0)return null;let j=A.to.toLowerCase(),n=e.toLowerCase(),s=[];for(let o=0;o<t.length;o++){let a=t[o],i=a.replace("{sender}",j).replace("{data}",n),c=a.indexOf("{data}")>=0?null:JSON.stringify({data:n,sender:j}),l=yield Lt({url:i,errorPassThrough:!0},c,(f,h)=>(f.status=h.statusCode,f));if(l.data)return l.data;let u=l.message||"unknown error";if(l.status>=400&&l.status<500)return gA.throwError(`response not found during CCIP fetch: ${u}`,C.errors.SERVER_ERROR,{url:a,errorMessage:u});s.push(u)}return gA.throwError(`error encountered during CCIP fetch: ${s.map(o=>JSON.stringify(o)).join(", ")}`,C.errors.SERVER_ERROR,{urls:t,errorMessages:s})})}_getInternalBlockNumber(A){return oA(this,void 0,void 0,function*(){if(yield this._ready(),A>0)for(;this._internalBlockNumber;){let j=this._internalBlockNumber;try{let n=yield j;if(Ts()-n.respTime<=A)return n.blockNumber;break}catch{if(this._internalBlockNumber===j)break}}let e=Ts(),t=OA({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(j=>null,j=>j)}).then(({blockNumber:j,networkError:n})=>{if(n)throw this._internalBlockNumber===t&&(this._internalBlockNumber=null),n;let s=Ts();return j=X.from(j).toNumber(),j<this._maxInternalBlockNumber&&(j=this._maxInternalBlockNumber),this._maxInternalBlockNumber=j,this._setFastBlockNumber(j),{blockNumber:j,reqTime:e,respTime:s}});return this._internalBlockNumber=t,t.catch(j=>{this._internalBlockNumber===t&&(this._internalBlockNumber=null)}),(yield t).blockNumber})}poll(){return oA(this,void 0,void 0,function*(){let A=t1++,e=[],t=null;try{t=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(j){this.emit("error",j);return}if(this._setFastBlockNumber(t),this.emit("poll",A,t),t===this._lastBlockNumber){this.emit("didPoll",A);return}if(this._emitted.block===-2&&(this._emitted.block=t-1),Math.abs(this._emitted.block-t)>1e3)gA.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${t})`),this.emit("error",gA.makeError("network block skew detected",C.errors.NETWORK_ERROR,{blockNumber:t,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",t);else for(let j=this._emitted.block+1;j<=t;j++)this.emit("block",j);this._emitted.block!==t&&(this._emitted.block=t,Object.keys(this._emitted).forEach(j=>{if(j==="block")return;let n=this._emitted[j];n!=="pending"&&t-n>12&&delete this._emitted[j]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=t-1),this._events.forEach(j=>{switch(j.type){case"tx":{let n=j.hash,s=this.getTransactionReceipt(n).then(o=>(!o||o.blockNumber==null||(this._emitted["t:"+n]=o.blockNumber,this.emit(n,o)),null)).catch(o=>{this.emit("error",o)});e.push(s);break}case"filter":{if(!j._inflight){j._inflight=!0,j._lastBlockNumber===-2&&(j._lastBlockNumber=t-1);let n=j.filter;n.fromBlock=j._lastBlockNumber+1,n.toBlock=t;let s=n.toBlock-this._maxFilterBlockRange;s>n.fromBlock&&(n.fromBlock=s),n.fromBlock<0&&(n.fromBlock=0);let o=this.getLogs(n).then(a=>{j._inflight=!1,a.length!==0&&a.forEach(i=>{i.blockNumber>j._lastBlockNumber&&(j._lastBlockNumber=i.blockNumber),this._emitted["b:"+i.blockHash]=i.blockNumber,this._emitted["t:"+i.transactionHash]=i.blockNumber,this.emit(n,i)})}).catch(a=>{this.emit("error",a),j._inflight=!1});e.push(o)}break}}}),this._lastBlockNumber=t,Promise.all(e).then(()=>{this.emit("didPoll",A)}).catch(j=>{this.emit("error",j)})})}resetEventsBlock(A){this._lastBlockNumber=A-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return oA(this,void 0,void 0,function*(){return gA.throwError("provider does not support network detection",C.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return oA(this,void 0,void 0,function*(){let A=yield this._ready(),e=yield this.detectNetwork();if(A.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,A),yield kh(0),this._network;let t=gA.makeError("underlying network changed",C.errors.NETWORK_ERROR,{event:"changed",network:A,detectedNetwork:e});throw this.emit("error",t),t}return A})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(A=>{this._setFastBlockNumber(A)},A=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(A){A&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!A&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(A){if(typeof A!="number"||A<=0||parseInt(String(A))!=A)throw new Error("invalid polling interval");this._pollingInterval=A,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let A=Ts();return A-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=A,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(A){this._fastBlockNumber!=null&&A<this._fastBlockNumber||(this._fastQueryDate=Ts(),(this._fastBlockNumber==null||A>this._fastBlockNumber)&&(this._fastBlockNumber=A,this._fastBlockNumberPromise=Promise.resolve(A)))}waitForTransaction(A,e,t){return oA(this,void 0,void 0,function*(){return this._waitForTransaction(A,e??1,t||0,null)})}_waitForTransaction(A,e,t,j){return oA(this,void 0,void 0,function*(){let n=yield this.getTransactionReceipt(A);return(n?n.confirmations:0)>=e?n:new Promise((s,o)=>{let a=[],i=!1,c=function(){return i?!0:(i=!0,a.forEach(u=>{u()}),!1)},l=u=>{u.confirmations<e||c()||s(u)};if(this.on(A,l),a.push(()=>{this.removeListener(A,l)}),j){let u=j.startBlock,f=null,h=d=>oA(this,void 0,void 0,function*(){i||(yield kh(1e3),this.getTransactionCount(j.from).then(m=>oA(this,void 0,void 0,function*(){if(!i){if(m<=j.nonce)u=d;else{{let b=yield this.getTransaction(A);if(b&&b.blockNumber!=null)return}for(f==null&&(f=u-3,f<j.startBlock&&(f=j.startBlock));f<=d;){if(i)return;let b=yield this.getBlockWithTransactions(f);for(let B=0;B<b.transactions.length;B++){let _=b.transactions[B];if(_.hash===A)return;if(_.from===j.from&&_.nonce===j.nonce){if(i)return;let S=yield this.waitForTransaction(_.hash,e);if(c())return;let q="replaced";_.data===j.data&&_.to===j.to&&_.value.eq(j.value)?q="repriced":_.data==="0x"&&_.from===_.to&&_.value.isZero()&&(q="cancelled"),o(gA.makeError("transaction was replaced",C.errors.TRANSACTION_REPLACED,{cancelled:q==="replaced"||q==="cancelled",reason:q,replacement:this._wrapTransaction(_),hash:A,receipt:S}));return}}f++}}i||this.once("block",h)}}),m=>{i||this.once("block",h)}))});if(i)return;this.once("block",h),a.push(()=>{this.removeListener("block",h)})}if(typeof t=="number"&&t>0){let u=setTimeout(()=>{c()||o(gA.makeError("timeout exceeded",C.errors.TIMEOUT,{timeout:t}))},t);u.unref&&u.unref(),a.push(()=>{clearTimeout(u)})}})})}getBlockNumber(){return oA(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return oA(this,void 0,void 0,function*(){yield this.getNetwork();let A=yield this.perform("getGasPrice",{});try{return X.from(A)}catch(e){return gA.throwError("bad result from backend",C.errors.SERVER_ERROR,{method:"getGasPrice",result:A,error:e})}})}getBalance(A,e){return oA(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield OA({address:this._getAddress(A),blockTag:this._getBlockTag(e)}),j=yield this.perform("getBalance",t);try{return X.from(j)}catch(n){return gA.throwError("bad result from backend",C.errors.SERVER_ERROR,{method:"getBalance",params:t,result:j,error:n})}})}getTransactionCount(A,e){return oA(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield OA({address:this._getAddress(A),blockTag:this._getBlockTag(e)}),j=yield this.perform("getTransactionCount",t);try{return X.from(j).toNumber()}catch(n){return gA.throwError("bad result from backend",C.errors.SERVER_ERROR,{method:"getTransactionCount",params:t,result:j,error:n})}})}getCode(A,e){return oA(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield OA({address:this._getAddress(A),blockTag:this._getBlockTag(e)}),j=yield this.perform("getCode",t);try{return Q(j)}catch(n){return gA.throwError("bad result from backend",C.errors.SERVER_ERROR,{method:"getCode",params:t,result:j,error:n})}})}getStorageAt(A,e,t){return oA(this,void 0,void 0,function*(){yield this.getNetwork();let j=yield OA({address:this._getAddress(A),blockTag:this._getBlockTag(t),position:Promise.resolve(e).then(s=>Zt(s))}),n=yield this.perform("getStorageAt",j);try{return Q(n)}catch(s){return gA.throwError("bad result from backend",C.errors.SERVER_ERROR,{method:"getStorageAt",params:j,result:n,error:s})}})}_wrapTransaction(A,e,t){if(e!=null&&Te(e)!==32)throw new Error("invalid response - sendTransaction");let j=A;return e!=null&&A.hash!==e&&gA.throwError("Transaction hash mismatch from Provider.sendTransaction.",C.errors.UNKNOWN_ERROR,{expectedHash:A.hash,returnedHash:e}),j.wait=(n,s)=>oA(this,void 0,void 0,function*(){n==null&&(n=1),s==null&&(s=0);let o;n!==0&&t!=null&&(o={data:A.data,from:A.from,nonce:A.nonce,to:A.to,value:A.value,startBlock:t});let a=yield this._waitForTransaction(A.hash,n,s,o);return a==null&&n===0?null:(this._emitted["t:"+A.hash]=a.blockNumber,a.status===0&&gA.throwError("transaction failed",C.errors.CALL_EXCEPTION,{transactionHash:A.hash,transaction:A,receipt:a}),a)}),j}sendTransaction(A){return oA(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield Promise.resolve(A).then(n=>Q(n)),t=this.formatter.transaction(A);t.confirmations==null&&(t.confirmations=0);let j=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let n=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(t,n,j)}catch(n){throw n.transaction=t,n.transactionHash=t.hash,n}})}_getTransactionRequest(A){return oA(this,void 0,void 0,function*(){let e=yield A,t={};return["from","to"].forEach(j=>{e[j]!=null&&(t[j]=Promise.resolve(e[j]).then(n=>n?this._getAddress(n):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(j=>{e[j]!=null&&(t[j]=Promise.resolve(e[j]).then(n=>n?X.from(n):null))}),["type"].forEach(j=>{e[j]!=null&&(t[j]=Promise.resolve(e[j]).then(n=>n??null))}),e.accessList&&(t.accessList=this.formatter.accessList(e.accessList)),["data"].forEach(j=>{e[j]!=null&&(t[j]=Promise.resolve(e[j]).then(n=>n?Q(n):null))}),this.formatter.transactionRequest(yield OA(t))})}_getFilter(A){return oA(this,void 0,void 0,function*(){A=yield A;let e={};return A.address!=null&&(e.address=this._getAddress(A.address)),["blockHash","topics"].forEach(t=>{A[t]!=null&&(e[t]=A[t])}),["fromBlock","toBlock"].forEach(t=>{A[t]!=null&&(e[t]=this._getBlockTag(A[t]))}),this.formatter.filter(yield OA(e))})}_call(A,e,t){return oA(this,void 0,void 0,function*(){t>=Qx&&gA.throwError("CCIP read exceeded maximum redirections",C.errors.SERVER_ERROR,{redirects:t,transaction:A});let j=A.to,n=yield this.perform("call",{transaction:A,blockTag:e});if(t>=0&&e==="latest"&&j!=null&&n.substring(0,10)==="0x556f1830"&&Te(n)%32===4)try{let s=IA(n,4),o=IA(s,0,32);X.from(o).eq(j)||gA.throwError("CCIP Read sender did not match",C.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:A,data:n});let a=[],i=X.from(IA(s,32,64)).toNumber(),c=X.from(IA(s,i,i+32)).toNumber(),l=IA(s,i+32);for(let b=0;b<c;b++){let B=mo(l,b*32);B==null&&gA.throwError("CCIP Read contained corrupt URL string",C.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:A,data:n}),a.push(B)}let u=Ns(s,64);X.from(IA(s,100,128)).isZero()||gA.throwError("CCIP Read callback selector included junk",C.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:A,data:n});let f=IA(s,96,100),h=Ns(s,128),d=yield this.ccipReadFetch(A,u,a);d==null&&gA.throwError("CCIP Read disabled or provided no URLs",C.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:A,data:n});let m={to:j,data:Ee([f,Sh([d,h])])};return this._call(m,e,t+1)}catch(s){if(s.code===C.errors.SERVER_ERROR)throw s}try{return Q(n)}catch(s){return gA.throwError("bad result from backend",C.errors.SERVER_ERROR,{method:"call",params:{transaction:A,blockTag:e},result:n,error:s})}})}call(A,e){return oA(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield OA({transaction:this._getTransactionRequest(A),blockTag:this._getBlockTag(e),ccipReadEnabled:Promise.resolve(A.ccipReadEnabled)});return this._call(t.transaction,t.blockTag,t.ccipReadEnabled?0:-1)})}estimateGas(A){return oA(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield OA({transaction:this._getTransactionRequest(A)}),t=yield this.perform("estimateGas",e);try{return X.from(t)}catch(j){return gA.throwError("bad result from backend",C.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:t,error:j})}})}_getAddress(A){return oA(this,void 0,void 0,function*(){A=yield A,typeof A!="string"&&gA.throwArgumentError("invalid address or ENS name","name",A);let e=yield this.resolveName(A);return e==null&&gA.throwError("ENS name not configured",C.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(A)})`}),e})}_getBlock(A,e){return oA(this,void 0,void 0,function*(){yield this.getNetwork(),A=yield A;let t=-128,j={includeTransactions:!!e};if(sA(A,32))j.blockHash=A;else try{j.blockTag=yield this._getBlockTag(A),sA(j.blockTag)&&(t=parseInt(j.blockTag.substring(2),16))}catch{gA.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",A)}return Kt(()=>oA(this,void 0,void 0,function*(){let n=yield this.perform("getBlock",j);if(n==null)return j.blockHash!=null&&this._emitted["b:"+j.blockHash]==null||j.blockTag!=null&&t>this._emitted.block?null:void 0;if(e){let s=null;for(let a=0;a<n.transactions.length;a++){let i=n.transactions[a];if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let c=s-i.blockNumber+1;c<=0&&(c=1),i.confirmations=c}}let o=this.formatter.blockWithTransactions(n);return o.transactions=o.transactions.map(a=>this._wrapTransaction(a)),o}return this.formatter.block(n)}),{oncePoll:this})})}getBlock(A){return this._getBlock(A,!1)}getBlockWithTransactions(A){return this._getBlock(A,!0)}getTransaction(A){return oA(this,void 0,void 0,function*(){yield this.getNetwork(),A=yield A;let e={transactionHash:this.formatter.hash(A,!0)};return Kt(()=>oA(this,void 0,void 0,function*(){let t=yield this.perform("getTransaction",e);if(t==null)return this._emitted["t:"+A]==null?null:void 0;let j=this.formatter.transactionResponse(t);if(j.blockNumber==null)j.confirmations=0;else if(j.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-j.blockNumber+1;s<=0&&(s=1),j.confirmations=s}return this._wrapTransaction(j)}),{oncePoll:this})})}getTransactionReceipt(A){return oA(this,void 0,void 0,function*(){yield this.getNetwork(),A=yield A;let e={transactionHash:this.formatter.hash(A,!0)};return Kt(()=>oA(this,void 0,void 0,function*(){let t=yield this.perform("getTransactionReceipt",e);if(t==null)return this._emitted["t:"+A]==null?null:void 0;if(t.blockHash==null)return;let j=this.formatter.receipt(t);if(j.blockNumber==null)j.confirmations=0;else if(j.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-j.blockNumber+1;s<=0&&(s=1),j.confirmations=s}return j}),{oncePoll:this})})}getLogs(A){return oA(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield OA({filter:this._getFilter(A)}),t=yield this.perform("getLogs",e);return t.forEach(j=>{j.removed==null&&(j.removed=!1)}),tA.arrayOf(this.formatter.filterLog.bind(this.formatter))(t)})}getEtherPrice(){return oA(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(A){return oA(this,void 0,void 0,function*(){if(A=yield A,typeof A=="number"&&A<0){A%1&&gA.throwArgumentError("invalid BlockTag","blockTag",A);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=A,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(A)})}getResolver(A){return oA(this,void 0,void 0,function*(){let e=A;for(;;){if(e===""||e==="."||A!=="eth"&&e==="eth")return null;let t=yield this._getResolver(e,"getResolver");if(t!=null){let j=new Nn(this,t,A);return e!==A&&!(yield j.supportsWildcard())?null:j}e=e.split(".").slice(1).join(".")}})}_getResolver(A,e){return oA(this,void 0,void 0,function*(){e==null&&(e="ENS");let t=yield this.getNetwork();t.ensAddress||gA.throwError("network does not support ENS",C.errors.UNSUPPORTED_OPERATION,{operation:e,network:t.name});try{let j=yield this.call({to:t.ensAddress,data:"0x0178b8bf"+Qr(A).substring(2)});return this.formatter.callAddress(j)}catch{}return null})}resolveName(A){return oA(this,void 0,void 0,function*(){A=yield A;try{return Promise.resolve(this.formatter.address(A))}catch(t){if(sA(A))throw t}typeof A!="string"&&gA.throwArgumentError("invalid ENS name","name",A);let e=yield this.getResolver(A);return e?yield e.getAddress():null})}lookupAddress(A){return oA(this,void 0,void 0,function*(){A=yield A,A=this.formatter.address(A);let e=A.substring(2).toLowerCase()+".addr.reverse",t=yield this._getResolver(e,"lookupAddress");if(t==null)return null;let j=mo(yield this.call({to:t,data:"0x691f3431"+Qr(e).substring(2)}),0);return(yield this.resolveName(j))!=A?null:j})}getAvatar(A){return oA(this,void 0,void 0,function*(){let e=null;if(sA(A)){let n=this.formatter.address(A).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(n,"getAvatar");if(!s)return null;e=new Nn(this,s,n);try{let o=yield e.getAvatar();if(o)return o.url}catch(o){if(o.code!==C.errors.CALL_EXCEPTION)throw o}try{let o=mo(yield this.call({to:s,data:"0x691f3431"+Qr(n).substring(2)}),0);e=yield this.getResolver(o)}catch(o){if(o.code!==C.errors.CALL_EXCEPTION)throw o;return null}}else if(e=yield this.getResolver(A),!e)return null;let t=yield e.getAvatar();return t==null?null:t.url})}perform(A,e){return gA.throwError(A+" not implemented",C.errors.NOT_IMPLEMENTED,{operation:A})}_startEvent(A){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(A){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(A,e,t){let j=new Vc(Tn(A),e,t);return this._events.push(j),this._startEvent(j),this}on(A,e){return this._addEventListener(A,e,!1)}once(A,e){return this._addEventListener(A,e,!0)}emit(A,...e){let t=!1,j=[],n=Tn(A);return this._events=this._events.filter(s=>s.tag!==n?!0:(setTimeout(()=>{s.listener.apply(this,e)},0),t=!0,s.once?(j.push(s),!1):!0)),j.forEach(s=>{this._stopEvent(s)}),t}listenerCount(A){if(!A)return this._events.length;let e=Tn(A);return this._events.filter(t=>t.tag===e).length}listeners(A){if(A==null)return this._events.map(t=>t.listener);let e=Tn(A);return this._events.filter(t=>t.tag===e).map(t=>t.listener)}off(A,e){if(e==null)return this.removeAllListeners(A);let t=[],j=!1,n=Tn(A);return this._events=this._events.filter(s=>s.tag!==n||s.listener!=e||j?!0:(j=!0,t.push(s),!1)),t.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(A){let e=[];if(A==null)e=this._events,this._events=[];else{let t=Tn(A);this._events=this._events.filter(j=>j.tag!==t?!0:(e.push(j),!1))}return e.forEach(t=>{this._stopEvent(t)}),this}};var Mr=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},qe=new C($A),r1=["call","estimateGas"];function Us(r,A){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){let e=sA(r.data)?r.data:null;if(!A||e)return{message:r.message,data:e}}if(typeof r=="object"){for(let e in r){let t=Us(r[e],A);if(t)return t}return null}if(typeof r=="string")try{return Us(JSON.parse(r),A)}catch{}return null}function Fh(r,A,e){let t=e.transaction||e.signedTransaction;if(r==="call"){let n=Us(A,!0);if(n)return n.data;qe.throwError("missing revert data in call exception; Transaction reverted without a reason string",C.errors.CALL_EXCEPTION,{data:"0x",transaction:t,error:A})}if(r==="estimateGas"){let n=Us(A.body,!1);n==null&&(n=Us(A,!1)),n&&qe.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",C.errors.UNPREDICTABLE_GAS_LIMIT,{reason:n.message,method:r,transaction:t,error:A})}let j=A.message;throw A.code===C.errors.SERVER_ERROR&&A.error&&typeof A.error.message=="string"?j=A.error.message:typeof A.body=="string"?j=A.body:typeof A.responseText=="string"&&(j=A.responseText),j=(j||"").toLowerCase(),j.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&qe.throwError("insufficient funds for intrinsic transaction cost",C.errors.INSUFFICIENT_FUNDS,{error:A,method:r,transaction:t}),j.match(/nonce (is )?too low/i)&&qe.throwError("nonce has already been used",C.errors.NONCE_EXPIRED,{error:A,method:r,transaction:t}),j.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&qe.throwError("replacement fee too low",C.errors.REPLACEMENT_UNDERPRICED,{error:A,method:r,transaction:t}),j.match(/only replay-protected/i)&&qe.throwError("legacy pre-eip-155 transactions not supported",C.errors.UNSUPPORTED_OPERATION,{error:A,method:r,transaction:t}),r1.indexOf(r)>=0&&j.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&qe.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",C.errors.UNPREDICTABLE_GAS_LIMIT,{error:A,method:r,transaction:t}),A}function Ph(r){return new Promise(function(A){setTimeout(A,r)})}function j1(r){if(r.error){let A=new Error(r.error.message);throw A.code=r.error.code,A.data=r.error.data,A}return r.result}function Ds(r){return r&&r.toLowerCase()}var Jc={},Dn=class extends et{constructor(A,e,t){if(super(),A!==Jc)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");L(this,"provider",e),t==null&&(t=0),typeof t=="string"?(L(this,"_address",this.provider.formatter.address(t)),L(this,"_index",null)):typeof t=="number"?(L(this,"_index",t),L(this,"_address",null)):qe.throwArgumentError("invalid address or index","addressOrIndex",t)}connect(A){return qe.throwError("cannot alter JSON-RPC Signer connection",C.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Wc(Jc,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(A=>(A.length<=this._index&&qe.throwError("unknown account #"+this._index,C.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(A[this._index])))}sendUncheckedTransaction(A){A=EA(A);let e=this.getAddress().then(t=>(t&&(t=t.toLowerCase()),t));if(A.gasLimit==null){let t=EA(A);t.from=e,A.gasLimit=this.provider.estimateGas(t)}return A.to!=null&&(A.to=Promise.resolve(A.to).then(t=>Mr(this,void 0,void 0,function*(){if(t==null)return null;let j=yield this.provider.resolveName(t);return j==null&&qe.throwArgumentError("provided ENS name resolves to null","tx.to",t),j}))),OA({tx:OA(A),sender:e}).then(({tx:t,sender:j})=>{t.from!=null?t.from.toLowerCase()!==j&&qe.throwArgumentError("from address mismatch","transaction",A):t.from=j;let n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&qe.throwError("user rejected transaction",C.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),Fh("sendTransaction",s,n)))})}signTransaction(A){return qe.throwError("signing transactions is unsupported",C.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(A){return Mr(this,void 0,void 0,function*(){let e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),t=yield this.sendUncheckedTransaction(A);try{return yield Kt(()=>Mr(this,void 0,void 0,function*(){let j=yield this.provider.getTransaction(t);if(j!==null)return this.provider._wrapTransaction(j,t,e)}),{oncePoll:this.provider})}catch(j){throw j.transactionHash=t,j}})}signMessage(A){return Mr(this,void 0,void 0,function*(){let e=typeof A=="string"?_A(A):A,t=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Q(e),t.toLowerCase()])}catch(j){throw typeof j.message=="string"&&j.message.match(/user denied/i)&&qe.throwError("user rejected signing",C.errors.ACTION_REJECTED,{action:"signMessage",from:t,messageData:A}),j}})}_legacySignMessage(A){return Mr(this,void 0,void 0,function*(){let e=typeof A=="string"?_A(A):A,t=yield this.getAddress();try{return yield this.provider.send("eth_sign",[t.toLowerCase(),Q(e)])}catch(j){throw typeof j.message=="string"&&j.message.match(/user denied/i)&&qe.throwError("user rejected signing",C.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:t,messageData:A}),j}})}_signTypedData(A,e,t){return Mr(this,void 0,void 0,function*(){let j=yield Be.resolveNames(A,e,t,s=>this.provider.resolveName(s)),n=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[n.toLowerCase(),JSON.stringify(Be.getPayload(j.domain,e,j.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&qe.throwError("user rejected signing",C.errors.ACTION_REJECTED,{action:"_signTypedData",from:n,messageData:{domain:j.domain,types:e,value:j.value}}),s}})}unlock(A){return Mr(this,void 0,void 0,function*(){let e=this.provider,t=yield this.getAddress();return e.send("personal_unlockAccount",[t.toLowerCase(),A,null])})}},Wc=class extends Dn{sendTransaction(A){return this.sendUncheckedTransaction(A).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}},n1={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0},ot=class extends ur{constructor(A,e){let t=e;t==null&&(t=new Promise((j,n)=>{setTimeout(()=>{this.detectNetwork().then(s=>{j(s)},s=>{n(s)})},0)})),super(t),A||(A=be(this.constructor,"defaultUrl")()),typeof A=="string"?L(this,"connection",Object.freeze({url:A})):L(this,"connection",Object.freeze(EA(A))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Mr(this,void 0,void 0,function*(){yield Ph(0);let A=null;try{A=yield this.send("eth_chainId",[])}catch{try{A=yield this.send("net_version",[])}catch{}}if(A!=null){let e=be(this.constructor,"getNetwork");try{return e(X.from(A).toNumber())}catch(t){return qe.throwError("could not detect network",C.errors.NETWORK_ERROR,{chainId:A,event:"invalidNetwork",serverError:t})}}return qe.throwError("could not detect network",C.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(A){return new Dn(Jc,this,A)}getUncheckedSigner(A){return this.getSigner(A).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(A=>A.map(e=>this.formatter.address(e)))}send(A,e){let t={method:A,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:ge(t),provider:this});let j=["eth_chainId","eth_blockNumber"].indexOf(A)>=0;if(j&&this._cache[A])return this._cache[A];let n=Lt(this.connection,JSON.stringify(t),j1).then(s=>(this.emit("debug",{action:"response",request:t,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:t,provider:this}),s});return j&&(this._cache[A]=n,setTimeout(()=>{this._cache[A]=null},0)),n}prepareRequest(A,e){switch(A){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Ds(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Ds(e.address),e.blockTag]];case"getCode":return["eth_getCode",[Ds(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Ds(e.address),mA(e.position,32),e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[be(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[be(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&e.filter.address!=null&&(e.filter.address=Ds(e.filter.address)),["eth_getLogs",[e.filter]];default:break}return null}perform(A,e){return Mr(this,void 0,void 0,function*(){if(A==="call"||A==="estimateGas"){let j=e.transaction;if(j&&j.type!=null&&X.from(j.type).isZero()&&j.maxFeePerGas==null&&j.maxPriorityFeePerGas==null){let n=yield this.getFeeData();n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null&&(e=EA(e),e.transaction=EA(j),delete e.transaction.type)}}let t=this.prepareRequest(A,e);t==null&&qe.throwError(A+" not implemented",C.errors.NOT_IMPLEMENTED,{operation:A});try{return yield this.send(t[0],t[1])}catch(j){return Fh(A,j,e)}})}_startEvent(A){A.tag==="pending"&&this._startPending(),super._startEvent(A)}_startPending(){if(this._pendingFilter!=null)return;let A=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then(function(t){function j(){A.send("eth_getFilterChanges",[t]).then(function(n){if(A._pendingFilter!=e)return null;let s=Promise.resolve();return n.forEach(function(o){A._emitted["t:"+o.toLowerCase()]="pending",s=s.then(function(){return A.getTransaction(o).then(function(a){return A.emit("pending",a),null})})}),s.then(function(){return Ph(1e3)})}).then(function(){if(A._pendingFilter!=e){A.send("eth_uninstallFilter",[t]);return}return setTimeout(function(){j()},0),null}).catch(n=>{})}return j(),t}).catch(t=>{})}_stopEvent(A){A.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(A)}static hexlifyTransaction(A,e){let t=EA(n1);if(e)for(let n in e)e[n]&&(t[n]=!0);fn(A,t);let j={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(n){if(A[n]==null)return;let s=Zt(X.from(A[n]));n==="gasLimit"&&(n="gas"),j[n]=s}),["from","to","data"].forEach(function(n){A[n]!=null&&(j[n]=Q(A[n]))}),A.accessList&&(j.accessList=mt(A.accessList)),j}};var Un=null;try{if(Un=WebSocket,Un==null)throw new Error("inject please")}catch{let A=new C($A);Un=function(){A.throwError("WebSockets not supported in this environment",C.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Xc=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},go=new C($A),s1=1,Rr=class extends ot{constructor(A,e){e==="any"&&go.throwError("WebSocketProvider does not support 'any' network yet",C.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof A=="string"?super(A,e):super("_websocket",e),this._pollingInterval=-1,this._wsReady=!1,typeof A=="string"?L(this,"_websocket",new Un(this.connection.url)):L(this,"_websocket",A),L(this,"_requests",{}),L(this,"_subs",{}),L(this,"_subIds",{}),L(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(j=>{this.websocket.send(this._requests[j].payload)})},this.websocket.onmessage=j=>{let n=j.data,s=JSON.parse(n);if(s.id!=null){let o=String(s.id),a=this._requests[o];if(delete this._requests[o],s.result!==void 0)a.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(a.payload),response:s.result,provider:this});else{let i=null;s.error?(i=new Error(s.error.message||"unknown error"),L(i,"code",s.error.code||null),L(i,"response",n)):i=new Error("unknown error"),a.callback(i,void 0),this.emit("debug",{action:"response",error:i,request:JSON.parse(a.payload),provider:this})}}else if(s.method==="eth_subscription"){let o=this._subs[s.params.subscription];o&&o.processFunc(s.params.result)}else console.warn("this should not happen")};let t=setInterval(()=>{this.emit("poll")},1e3);t.unref&&t.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(A){go.throwError("cannot reset events block on WebSocketProvider",C.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(A){go.throwError("cannot set polling interval on WebSocketProvider",C.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Xc(this,void 0,void 0,function*(){return null})}set polling(A){A&&go.throwError("cannot set polling on WebSocketProvider",C.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(A,e){let t=s1++;return new Promise((j,n)=>{function s(a,i){return a?n(a):j(i)}let o=JSON.stringify({method:A,params:e,id:t,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(t)]={callback:s,payload:o},this._wsReady&&this.websocket.send(o)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(A,e,t){return Xc(this,void 0,void 0,function*(){let j=this._subIds[A];j==null&&(j=Promise.all(e).then(s=>this.send("eth_subscribe",s)),this._subIds[A]=j);let n=yield j;this._subs[n]={tag:A,processFunc:t}})}_startEvent(A){switch(A.type){case"block":this._subscribe("block",["newHeads"],e=>{let t=X.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],e=>{this.emit("pending",e)});break;case"filter":this._subscribe(A.tag,["logs",this._getFilter(A.filter)],e=>{e.removed==null&&(e.removed=!1),this.emit(A.filter,this.formatter.filterLog(e))});break;case"tx":{let e=t=>{let j=t.hash;this.getTransactionReceipt(j).then(n=>{n&&this.emit(j,n)})};e(A),this._subscribe("tx",["newHeads"],t=>{this._events.filter(j=>j.type==="tx").forEach(e)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",A);break}}_stopEvent(A){let e=A.tag;if(A.type==="tx"){if(this._events.filter(j=>j.type==="tx").length)return;e="tx"}else if(this.listenerCount(A.event))return;let t=this._subIds[e];t&&(delete this._subIds[e],t.then(j=>{this._subs[j]&&(delete this._subs[j],this.send("eth_unsubscribe",[j]))}))}destroy(){return Xc(this,void 0,void 0,function*(){this.websocket.readyState===Un.CONNECTING&&(yield new Promise(A=>{this.websocket.onopen=function(){A(!0)},this.websocket.onerror=function(){A(!1)}})),this.websocket.close(1e3)})}};var i1=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},Ls=new C($A),Ks=class extends ot{detectNetwork(){let A=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return i1(this,void 0,void 0,function*(){let e=this.network;return e==null&&(e=yield A.detectNetwork.call(this),e||Ls.throwError("no network detected",C.errors.UNKNOWN_ERROR,{}),this._network==null&&(L(this,"_network",e),this.emit("network",e,null))),e})}},Se=class extends Ks{constructor(A,e){Ls.checkAbstract(new.target,Se),A=be(new.target,"getNetwork")(A),e=be(new.target,"getApiKey")(e);let t=be(new.target,"getUrl")(A,e);super(t,A),typeof e=="string"?L(this,"apiKey",e):e!=null&&Object.keys(e).forEach(j=>{L(this,j,e[j])})}_startPending(){Ls.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(A){return Ls.throwError("API provider does not support signing",C.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(A){return A}static getUrl(A,e){return Ls.throwError("not implemented; sub-classes must override getUrl",C.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}};var Gh=new C($A),bo="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC",Hs=class extends Rr{constructor(A,e){let t=new Ln(A,e),j=t.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(j,t.network),L(this,"apiKey",t.apiKey)}isCommunityResource(){return this.apiKey===bo}},Ln=class extends Se{static getWebSocketProvider(A,e){return new Hs(A,e)}static getApiKey(A){return A==null?bo:(A&&typeof A!="string"&&Gh.throwArgumentError("invalid apiKey","apiKey",A),A)}static getUrl(A,e){let t=null;switch(A.name){case"homestead":t="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":t="eth-goerli.g.alchemy.com/v2/";break;case"matic":t="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":t="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":t="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":t="arb-goerli.g.alchemy.com/v2/";break;case"optimism":t="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":t="opt-goerli.g.alchemy.com/v2/";break;default:Gh.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+t+e,throttleCallback:(j,n)=>(e===bo&&lr(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===bo}};var o1=new C($A),yo="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function a1(r){switch(r){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return o1.throwArgumentError("unsupported network","name",r)}var zs=class extends Se{isCommunityResource(){return this.apiKey===yo}static getApiKey(A){return A??yo}static getUrl(A,e){e==null&&(e=yo);let t={allowGzip:!0,url:"https://"+a1(A.name)+e,throttleCallback:(j,n)=>(e.apiKey===yo&&lr(),Promise.resolve(!0))};return e.projectSecret!=null&&(t.user="",t.password=e.projectSecret),t}};var c1=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},Mh=new C($A),Vs=class extends Se{static getApiKey(A){return A!=null&&Mh.throwArgumentError("apiKey not supported for cloudflare","apiKey",A),null}static getUrl(A,e){let t=null;switch(A.name){case"homestead":t="https://cloudflare-eth.com/";break;default:Mh.throwArgumentError("unsupported network","network",arguments[0])}return t}perform(A,e){let t=Object.create(null,{perform:{get:()=>super.perform}});return c1(this,void 0,void 0,function*(){return A==="getBlockNumber"?(yield t.perform.call(this,"getBlock",{blockTag:"latest"})).number:t.perform.call(this,A,e)})}};var Bo=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},jj=new C($A);function Rh(r){let A={};for(let e in r){if(r[e]==null)continue;let t=r[e];e==="type"&&t===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[e]?t=Zt(Q(t)):e==="accessList"?t="["+mt(t).map(j=>`{address:"${j.address}",storageKeys:["${j.storageKeys.join('","')}"]}`).join(",")+"]":t=Q(t),A[e]=t)}return A}function f1(r){if(r.status==0&&(r.message==="No records found"||r.message==="No transactions found"))return r.result;if(r.status!=1||typeof r.message!="string"||!r.message.match(/^OK/)){let A=new Error("invalid response");throw A.result=JSON.stringify(r),(r.result||"").toLowerCase().indexOf("rate limit")>=0&&(A.throttleRetry=!0),A}return r.result}function Ch(r){if(r&&r.status==0&&r.message=="NOTOK"&&(r.result||"").toLowerCase().indexOf("rate limit")>=0){let A=new Error("throttled response");throw A.result=JSON.stringify(r),A.throttleRetry=!0,A}if(r.jsonrpc!="2.0"){let A=new Error("invalid response");throw A.result=JSON.stringify(r),A}if(r.error){let A=new Error(r.error.message||"unknown error");throw r.error.code&&(A.code=r.error.code),r.error.data&&(A.data=r.error.data),A}return r.result}function Th(r){if(r==="pending")throw new Error("pending not supported");return r==="latest"?r:parseInt(r.substring(2),16)}function Qc(r,A,e){if(r==="call"&&A.code===C.errors.SERVER_ERROR){let j=A.error;if(j&&(j.message.match(/reverted/i)||j.message.match(/VM execution error/i))){let n=j.data;if(n&&(n="0x"+n.replace(/^.*0x/i,"")),sA(n))return n;jj.throwError("missing revert data in call exception",C.errors.CALL_EXCEPTION,{error:A,data:"0x"})}}let t=A.message;throw A.code===C.errors.SERVER_ERROR&&(A.error&&typeof A.error.message=="string"?t=A.error.message:typeof A.body=="string"?t=A.body:typeof A.responseText=="string"&&(t=A.responseText)),t=(t||"").toLowerCase(),t.match(/insufficient funds/)&&jj.throwError("insufficient funds for intrinsic transaction cost",C.errors.INSUFFICIENT_FUNDS,{error:A,method:r,transaction:e}),t.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&jj.throwError("nonce has already been used",C.errors.NONCE_EXPIRED,{error:A,method:r,transaction:e}),t.match(/another transaction with same nonce/)&&jj.throwError("replacement fee too low",C.errors.REPLACEMENT_UNDERPRICED,{error:A,method:r,transaction:e}),t.match(/execution failed due to an exception|execution reverted/)&&jj.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",C.errors.UNPREDICTABLE_GAS_LIMIT,{error:A,method:r,transaction:e}),A}var Js=class extends ur{constructor(A,e){super(A),L(this,"baseUrl",this.getBaseUrl()),L(this,"apiKey",e||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}return jj.throwArgumentError("unsupported network","network",this.network.name)}getUrl(A,e){let t=Object.keys(e).reduce((n,s)=>{let o=e[s];return o!=null&&(n+=`&${s}=${o}`),n},""),j=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${A}${t}${j}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(A,e){return e.module=A,e.apikey=this.apiKey,e}fetch(A,e,t){return Bo(this,void 0,void 0,function*(){let j=t?this.getPostUrl():this.getUrl(A,e),n=t?this.getPostData(A,e):null,s=A==="proxy"?Ch:f1;this.emit("debug",{action:"request",request:j,provider:this});let o={url:j,throttleSlotInterval:1e3,throttleCallback:(c,l)=>(this.isCommunityResource()&&lr(),Promise.resolve(!0))},a=null;n&&(o.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},a=Object.keys(n).map(c=>`${c}=${n[c]}`).join("&"));let i=yield Lt(o,a,s||Ch);return this.emit("debug",{action:"response",request:j,response:ge(i),provider:this}),i})}detectNetwork(){return Bo(this,void 0,void 0,function*(){return this.network})}perform(A,e){let t=Object.create(null,{perform:{get:()=>super.perform}});return Bo(this,void 0,void 0,function*(){switch(A){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(j=>Qc("sendTransaction",j,e.signedTransaction));case"getBlock":if(e.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.transactionHash});case"call":{if(e.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let j=Rh(e.transaction);j.module="proxy",j.action="eth_call";try{return yield this.fetch("proxy",j,!0)}catch(n){return Qc("call",n,e.transaction)}}case"estimateGas":{let j=Rh(e.transaction);j.module="proxy",j.action="eth_estimateGas";try{return yield this.fetch("proxy",j,!0)}catch(n){return Qc("estimateGas",n,e.transaction)}}case"getLogs":{let j={action:"getLogs"};if(e.filter.fromBlock&&(j.fromBlock=Th(e.filter.fromBlock)),e.filter.toBlock&&(j.toBlock=Th(e.filter.toBlock)),e.filter.address&&(j.address=e.filter.address),e.filter.topics&&e.filter.topics.length>0&&(e.filter.topics.length>1&&jj.throwError("unsupported topic count",C.errors.UNSUPPORTED_OPERATION,{topics:e.filter.topics}),e.filter.topics.length===1)){let o=e.filter.topics[0];(typeof o!="string"||o.length!==66)&&jj.throwError("unsupported topic format",C.errors.UNSUPPORTED_OPERATION,{topic0:o}),j.topic0=o}let n=yield this.fetch("logs",j),s={};for(let o=0;o<n.length;o++){let a=n[o];if(a.blockHash==null){if(s[a.blockNumber]==null){let i=yield this.getBlock(a.blockNumber);i&&(s[a.blockNumber]=i.hash)}a.blockHash=s[a.blockNumber]}}return n}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd);default:break}return t.perform.call(this,A,e)})}getHistory(A,e,t){return Bo(this,void 0,void 0,function*(){let j={action:"txlist",address:yield this.resolveName(A),startblock:e??0,endblock:t??99999999,sort:"asc"};return(yield this.fetch("account",j)).map(s=>{["contractAddress","to"].forEach(function(a){s[a]==""&&delete s[a]}),s.creates==null&&s.contractAddress!=null&&(s.creates=s.contractAddress);let o=this.formatter.transactionResponse(s);return s.timeStamp&&(o.timestamp=parseInt(s.timeStamp)),o})})}isCommunityResource(){return this.apiKey==null}};var _o=function(r,A,e,t){function j(n){return n instanceof e?n:new e(function(s){s(n)})}return new(e||(e=Promise))(function(n,s){function o(c){try{i(t.next(c))}catch(l){s(l)}}function a(c){try{i(t.throw(c))}catch(l){s(l)}}function i(c){c.done?n(c.value):j(c.value).then(o,a)}i((t=t.apply(r,A||[])).next())})},Vj=new C($A);function xo(){return new Date().getTime()}function Nh(r){let A=null;for(let e=0;e<r.length;e++){let t=r[e];if(t==null)return null;A?A.name===t.name&&A.chainId===t.chainId&&(A.ensAddress===t.ensAddress||A.ensAddress==null&&t.ensAddress==null)||Vj.throwArgumentError("provider mismatch","networks",r):A=t}return A}function Dh(r,A){r=r.slice().sort();let e=Math.floor(r.length/2);if(r.length%2)return r[e];let t=r[e-1],j=r[e];return A!=null&&Math.abs(t-j)>A?null:(t+j)/2}function Kn(r){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return JSON.stringify(r);if(typeof r=="string")return r;if(X.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(A=>Kn(A)));if(typeof r=="object"){let A=Object.keys(r);return A.sort(),"{"+A.map(e=>{let t=r[e];return typeof t=="function"?t="[function]":t=Kn(t),JSON.stringify(e)+":"+t}).join(",")+"}"}throw new Error("unknown value type: "+typeof r)}var l1=1;function Uh(r){let A=null,e=null,t=new Promise(s=>{A=function(){e&&(clearTimeout(e),e=null),s()},e=setTimeout(A,r)}),j=s=>(t=t.then(s),t);function n(){return t}return{cancel:A,getPromise:n,wait:j}}var u1=[C.errors.CALL_EXCEPTION,C.errors.INSUFFICIENT_FUNDS,C.errors.NONCE_EXPIRED,C.errors.REPLACEMENT_UNDERPRICED,C.errors.UNPREDICTABLE_GAS_LIMIT],d1=["address","args","errorArgs","errorSignature","method","transaction"];function vo(r,A){let e={weight:r.weight};return Object.defineProperty(e,"provider",{get:()=>r.provider}),r.start&&(e.start=r.start),A&&(e.duration=A-r.start),r.done&&(r.error?e.error=r.error:e.result=r.result||null),e}function h1(r,A){return function(e){let t={};e.forEach(n=>{let s=r(n.result);t[s]||(t[s]={count:0,result:n.result}),t[s].count++});let j=Object.keys(t);for(let n=0;n<j.length;n++){let s=t[j[n]];if(s.count>=A)return s.result}}}function p1(r,A,e){let t=Kn;switch(A){case"getBlockNumber":return function(j){let n=j.map(o=>o.result),s=Dh(j.map(o=>o.result),2);if(s!=null)return s=Math.ceil(s),n.indexOf(s+1)>=0&&s++,s>=r._highestBlockNumber&&(r._highestBlockNumber=s),r._highestBlockNumber};case"getGasPrice":return function(j){let n=j.map(s=>s.result);return n.sort(),n[Math.floor(n.length/2)]};case"getEtherPrice":return function(j){return Dh(j.map(n=>n.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":t=function(j){return j==null?null:(j=EA(j),j.confirmations=-1,Kn(j))};break;case"getBlock":e.includeTransactions?t=function(j){return j==null?null:(j=EA(j),j.transactions=j.transactions.map(n=>(n=EA(n),n.confirmations=-1,n)),Kn(j))}:t=function(j){return j==null?null:Kn(j)};break;default:throw new Error("unknown method: "+A)}return h1(t,r.quorum)}function Ws(r,A){return _o(this,void 0,void 0,function*(){let e=r.provider;return e.blockNumber!=null&&e.blockNumber>=A||A===-1?e:Kt(()=>new Promise((t,j)=>{setTimeout(function(){return e.blockNumber>=A?t(e):r.cancelled?t(null):t(void 0)},0)}),{oncePoll:e})})}function m1(r,A,e,t){return _o(this,void 0,void 0,function*(){let j=r.provider;switch(e){case"getBlockNumber":case"getGasPrice":return j[e]();case"getEtherPrice":if(j.getEtherPrice)return j.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return t.blockTag&&sA(t.blockTag)&&(j=yield Ws(r,A)),j[e](t.address,t.blockTag||"latest");case"getStorageAt":return t.blockTag&&sA(t.blockTag)&&(j=yield Ws(r,A)),j.getStorageAt(t.address,t.position,t.blockTag||"latest");case"getBlock":return t.blockTag&&sA(t.blockTag)&&(j=yield Ws(r,A)),j[t.includeTransactions?"getBlockWithTransactions":"getBlock"](t.blockTag||t.blockHash);case"call":case"estimateGas":return t.blockTag&&sA(t.blockTag)&&(j=yield Ws(r,A)),e==="call"&&t.blockTag?j[e](t.transaction,t.blockTag):j[e](t.transaction);case"getTransaction":case"getTransactionReceipt":return j[e](t.transactionHash);case"getLogs":{let n=t.filter;return(n.fromBlock&&sA(n.fromBlock)||n.toBlock&&sA(n.toBlock))&&(j=yield Ws(r,A)),j.getLogs(n)}}return Vj.throwError("unknown method error",C.errors.UNKNOWN_ERROR,{method:e,params:t})})}var Xs=class extends ur{constructor(A,e){A.length===0&&Vj.throwArgumentError("missing providers","providers",A);let t=A.map((s,o)=>{if(nt.isProvider(s)){let c=Cs(s)?2e3:750;return Object.freeze({provider:s,weight:1,stallTimeout:c,priority:1})}let a=EA(s);a.priority==null&&(a.priority=1),a.stallTimeout==null&&(a.stallTimeout=Cs(s)?2e3:750),a.weight==null&&(a.weight=1);let i=a.weight;return(i%1||i>512||i<1)&&Vj.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${o}].weight`,i),Object.freeze(a)}),j=t.reduce((s,o)=>s+o.weight,0);e==null?e=j/2:e>j&&Vj.throwArgumentError("quorum will always fail; larger than total weight","quorum",e);let n=Nh(t.map(s=>s.provider.network));n==null&&(n=new Promise((s,o)=>{setTimeout(()=>{this.detectNetwork().then(s,o)},0)})),super(n),L(this,"providerConfigs",Object.freeze(t)),L(this,"quorum",e),this._highestBlockNumber=-1}detectNetwork(){return _o(this,void 0,void 0,function*(){let A=yield Promise.all(this.providerConfigs.map(e=>e.provider.getNetwork()));return Nh(A)})}perform(A,e){return _o(this,void 0,void 0,function*(){if(A==="sendTransaction"){let a=yield Promise.all(this.providerConfigs.map(i=>i.provider.sendTransaction(e.signedTransaction).then(c=>c.hash,c=>c)));for(let i=0;i<a.length;i++){let c=a[i];if(typeof c=="string")return c}throw a[0]}this._highestBlockNumber===-1&&A!=="getBlockNumber"&&(yield this.getBlockNumber());let t=p1(this,A,e),j=Ps(this.providerConfigs.map(EA));j.sort((a,i)=>a.priority-i.priority);let n=this._highestBlockNumber,s=0,o=!0;for(;;){let a=xo(),i=j.filter(f=>f.runner&&a-f.start<f.stallTimeout).reduce((f,h)=>f+h.weight,0);for(;i<this.quorum&&s<j.length;){let f=j[s++],h=l1++;f.start=xo(),f.staller=Uh(f.stallTimeout),f.staller.wait(()=>{f.staller=null}),f.runner=m1(f,n,A,e).then(d=>{f.done=!0,f.result=d,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:h,backend:vo(f,xo()),request:{method:A,params:ge(e)},provider:this})},d=>{f.done=!0,f.error=d,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:h,backend:vo(f,xo()),request:{method:A,params:ge(e)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:h,backend:vo(f,null),request:{method:A,params:ge(e)},provider:this}),i+=f.weight}let c=[];j.forEach(f=>{f.done||!f.runner||(c.push(f.runner),f.staller&&c.push(f.staller.getPromise()))}),c.length&&(yield Promise.race(c));let l=j.filter(f=>f.done&&f.error==null);if(l.length>=this.quorum){let f=t(l);if(f!==void 0)return j.forEach(h=>{h.staller&&h.staller.cancel(),h.cancelled=!0}),f;o||(yield Uh(100).getPromise()),o=!1}let u=j.reduce((f,h)=>{if(!h.done||h.error==null)return f;let d=h.error.code;return u1.indexOf(d)>=0&&(f[d]||(f[d]={error:h.error,weight:0}),f[d].weight+=h.weight),f},{});if(Object.keys(u).forEach(f=>{let h=u[f];if(h.weight<this.quorum)return;j.forEach(b=>{b.staller&&b.staller.cancel(),b.cancelled=!0});let d=h.error,m={};d1.forEach(b=>{d[b]!=null&&(m[b]=d[b])}),Vj.throwError(d.reason||d.message,f,m)}),j.filter(f=>!f.done).length===0)break}return j.forEach(a=>{a.staller&&a.staller.cancel(),a.cancelled=!0}),Vj.throwError("failed to meet quorum",C.errors.SERVER_ERROR,{method:A,params:e,results:j.map(a=>vo(a)),provider:this})})}};var Zc=null;var wo=new C($A),Qs="84842078b09946638c03157f83405213",Zs=class extends Rr{constructor(A,e){let t=new Hn(A,e),j=t.connection;j.password&&wo.throwError("INFURA WebSocket project secrets unsupported",C.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});let n=j.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(n,A),L(this,"apiKey",t.projectId),L(this,"projectId",t.projectId),L(this,"projectSecret",t.projectSecret)}isCommunityResource(){return this.projectId===Qs}},Hn=class extends Se{static getWebSocketProvider(A,e){return new Zs(A,e)}static getApiKey(A){let e={apiKey:Qs,projectId:Qs,projectSecret:null};return A==null||(typeof A=="string"?e.projectId=A:A.projectSecret!=null?(wo.assertArgument(typeof A.projectId=="string","projectSecret requires a projectId","projectId",A.projectId),wo.assertArgument(typeof A.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),e.projectId=A.projectId,e.projectSecret=A.projectSecret):A.projectId&&(e.projectId=A.projectId),e.apiKey=e.projectId),e}static getUrl(A,e){let t=null;switch(A?A.name:"unknown"){case"homestead":t="mainnet.infura.io";break;case"goerli":t="goerli.infura.io";break;case"sepolia":t="sepolia.infura.io";break;case"matic":t="polygon-mainnet.infura.io";break;case"maticmum":t="polygon-mumbai.infura.io";break;case"optimism":t="optimism-mainnet.infura.io";break;case"optimism-goerli":t="optimism-goerli.infura.io";break;case"arbitrum":t="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":t="arbitrum-goerli.infura.io";break;default:wo.throwError("unsupported network",C.errors.INVALID_ARGUMENT,{argument:"network",value:A})}let j={allowGzip:!0,url:"https://"+t+"/v3/"+e.projectId,throttleCallback:(n,s)=>(e.projectId===Qs&&lr(),Promise.resolve(!0))};return e.projectSecret!=null&&(j.user="",j.password=e.projectSecret),j}isCommunityResource(){return this.projectId===Qs}};var Eo=class extends ot{send(A,e){let t={method:A,params:e,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);let j={request:t,resolve:null,reject:null},n=new Promise((s,o)=>{j.resolve=s,j.reject=o});return this._pendingBatch.push(j),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{let s=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;let o=s.map(a=>a.request);return this.emit("debug",{action:"requestBatch",request:ge(o),provider:this}),Lt(this.connection,JSON.stringify(o)).then(a=>{this.emit("debug",{action:"response",request:o,response:a,provider:this}),s.forEach((i,c)=>{let l=a[c];if(l.error){let u=new Error(l.error.message);u.code=l.error.code,u.data=l.error.data,i.reject(u)}else i.resolve(l.result)})},a=>{this.emit("debug",{action:"response",error:a,request:o,provider:this}),s.forEach(i=>{i.reject(a)})})},10)),n}};var Yc=new C($A),g1="ETHERS_JS_SHARED",Ys=class extends Se{static getApiKey(A){return A&&typeof A!="string"&&Yc.throwArgumentError("invalid apiKey","apiKey",A),A||g1}static getUrl(A,e){Yc.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let t=null;switch(A.name){case"homestead":t="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":t="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":t="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":t="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":t="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Yc.throwArgumentError("unsupported network","network",arguments[0])}return t+"?apiKey="+e}};var Lh=new C($A),Kh="62e1ad51b37b8e00394bda3b",Ai=class extends Se{static getApiKey(A){let e={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return A==null?e.applicationId=Kh:typeof A=="string"?e.applicationId=A:A.applicationSecretKey!=null?(e.applicationId=A.applicationId,e.applicationSecretKey=A.applicationSecretKey):A.applicationId?e.applicationId=A.applicationId:Lh.throwArgumentError("unsupported PocketProvider apiKey","apiKey",A),e}static getUrl(A,e){let t=null;switch(A?A.name:"unknown"){case"goerli":t="eth-goerli.gateway.pokt.network";break;case"homestead":t="eth-mainnet.gateway.pokt.network";break;case"kovan":t="poa-kovan.gateway.pokt.network";break;case"matic":t="poly-mainnet.gateway.pokt.network";break;case"maticmum":t="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":t="eth-rinkeby.gateway.pokt.network";break;case"ropsten":t="eth-ropsten.gateway.pokt.network";break;default:Lh.throwError("unsupported network",C.errors.INVALID_ARGUMENT,{argument:"network",value:A})}let j=`https://${t}/v1/lb/${e.applicationId}`,n={headers:{},url:j};return e.applicationSecretKey!=null&&(n.user="",n.password=e.applicationSecretKey),n}isCommunityResource(){return this.applicationId===Kh}};var Hh=new C($A),b1=1;function zh(r,A){let e="Web3LegacyFetcher";return function(t,j){let n={method:t,params:j,id:b1++,jsonrpc:"2.0"};return new Promise((s,o)=>{this.emit("debug",{action:"request",fetcher:e,request:ge(n),provider:this}),A(n,(a,i)=>{if(a)return this.emit("debug",{action:"response",fetcher:e,error:a,request:n,provider:this}),o(a);if(this.emit("debug",{action:"response",fetcher:e,request:n,response:i,provider:this}),i.error){let c=new Error(i.error.message);return c.code=i.error.code,c.data=i.error.data,o(c)}s(i.result)})})}}function y1(r){return function(A,e){e==null&&(e=[]);let t={method:A,params:e};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:ge(t),provider:this}),r.request(t).then(j=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:t,response:j,provider:this}),j),j=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:t,error:j,provider:this}),j})}}var ei=class extends ot{constructor(A,e){A==null&&Hh.throwArgumentError("missing provider","provider",A);let t=null,j=null,n=null;typeof A=="function"?(t="unknown:",j=A):(t=A.host||A.path||"",!t&&A.isMetaMask&&(t="metamask"),n=A,A.request?(t===""&&(t="eip-1193:"),j=y1(A)):A.sendAsync?j=zh(A,A.sendAsync.bind(A)):A.send?j=zh(A,A.send.bind(A)):Hh.throwArgumentError("unsupported provider","provider",A),t||(t="unknown:")),super(t,e),L(this,"jsonRpcFetchFunc",j),L(this,"provider",n)}send(A,e){return this.jsonRpcFetchFunc(A,e)}};var Vh=new C($A);function ko(r,A){if(r==null&&(r="homestead"),typeof r=="string"){let t=r.match(/^(ws|http)s?:/i);if(t)switch(t[1].toLowerCase()){case"http":case"https":return new ot(r);case"ws":case"wss":return new Rr(r);default:Vh.throwArgumentError("unsupported URL scheme","network",r)}}let e=Gs(r);return(!e||!e._defaultProvider)&&Vh.throwError("unsupported getDefaultProvider network",C.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:r}),e._defaultProvider({FallbackProvider:Xs,AlchemyProvider:Ln,AnkrProvider:zs,CloudflareProvider:Vs,EtherscanProvider:Js,InfuraProvider:Hn,JsonRpcProvider:ot,NodesmithProvider:Ys,PocketProvider:Ai,Web3Provider:ei,IpcProvider:null},A)}var Ot={};rn(Ot,{AbiCoder:()=>mn,ConstructorFragment:()=>Ne,ErrorFragment:()=>ut,EventFragment:()=>Ze,FormatTypes:()=>BA,Fragment:()=>Ye,FunctionFragment:()=>De,HDNode:()=>Oe,Indexed:()=>_r,Interface:()=>Zr,LogDescription:()=>Bn,Logger:()=>C,ParamType:()=>de,RLP:()=>xi,SigningKey:()=>qt,SupportedAlgorithm:()=>cr,TransactionDescription:()=>xn,TransactionTypes:()=>Zi,UnicodeNormalizationForm:()=>At,Utf8ErrorFuncs:()=>Mi,Utf8ErrorReason:()=>Ue,_TypedDataEncoder:()=>Be,_fetchData:()=>Nc,_toEscapedUtf8String:()=>Ha,accessListify:()=>mt,arrayify:()=>J,base58:()=>Ir,base64:()=>Qa,checkProperties:()=>fn,checkResultErrors:()=>un,commify:()=>ep,computeAddress:()=>$t,computeHmac:()=>Or,computePublicKey:()=>ks,concat:()=>uA,deepCopy:()=>ge,defaultAbiCoder:()=>xs,defaultPath:()=>Sr,defineReadOnly:()=>L,dnsEncode:()=>_s,entropyToMnemonic:()=>zj,fetchJson:()=>Lt,formatBytes32String:()=>za,formatEther:()=>tp,formatUnits:()=>A6,getAccountPath:()=>Vd,getAddress:()=>hA,getContractAddress:()=>Rj,getCreate2Address:()=>i7,getIcapAddress:()=>s7,getJsonWalletAddress:()=>Gc,getStatic:()=>be,hashMessage:()=>yn,hexConcat:()=>Ee,hexDataLength:()=>Te,hexDataSlice:()=>IA,hexStripZeros:()=>Fa,hexValue:()=>Zt,hexZeroPad:()=>mA,hexlify:()=>Q,id:()=>dt,isAddress:()=>n7,isBytes:()=>Bt,isBytesLike:()=>yr,isHexString:()=>sA,isValidMnemonic:()=>zd,isValidName:()=>Ya,joinSignature:()=>ls,keccak256:()=>dA,mnemonicToEntropy:()=>Gn,mnemonicToSeed:()=>qc,namehash:()=>Qr,nameprep:()=>Xa,parseBytes32String:()=>Va,parseEther:()=>rp,parseTransaction:()=>Yi,parseUnits:()=>e6,poll:()=>Kt,randomBytes:()=>fr,recoverAddress:()=>Dj,recoverPublicKey:()=>Qi,resolveProperties:()=>OA,ripemd160:()=>Is,serializeTransaction:()=>qs,sha256:()=>it,sha512:()=>_c,shallowCopy:()=>EA,shuffled:()=>Ps,solidityKeccak256:()=>Xh,solidityPack:()=>$o,soliditySha256:()=>Qh,splitSignature:()=>Yt,stripZeros:()=>ft,toUtf8Bytes:()=>_A,toUtf8CodePoints:()=>Xr,toUtf8String:()=>jt,verifyMessage:()=>ch,verifyTypedData:()=>fh,zeroPad:()=>Pj});var Jh="solidity/5.7.0";var B1=new RegExp("^bytes([0-9]+)$"),x1=new RegExp("^(u?int)([0-9]*)$"),v1=new RegExp("^(.*)\\[([0-9]*)\\]$"),_1="0000000000000000000000000000000000000000000000000000000000000000",zn=new C(Jh);function Wh(r,A,e){switch(r){case"address":return e?Pj(A,32):J(A);case"string":return _A(A);case"bytes":return J(A);case"bool":return A=A?"0x01":"0x00",e?Pj(A,32):J(A)}let t=r.match(x1);if(t){let j=parseInt(t[2]||"256");return(t[2]&&String(j)!==t[2]||j%8!==0||j===0||j>256)&&zn.throwArgumentError("invalid number type","type",r),e&&(j=256),A=X.from(A).toTwos(j),Pj(A,j/8)}if(t=r.match(B1),t){let j=parseInt(t[1]);return(String(j)!==t[1]||j===0||j>32)&&zn.throwArgumentError("invalid bytes type","type",r),J(A).byteLength!==j&&zn.throwArgumentError(`invalid value for ${r}`,"value",A),e?J((A+_1).substring(0,66)):A}if(t=r.match(v1),t&&Array.isArray(A)){let j=t[1];parseInt(t[2]||String(A.length))!=A.length&&zn.throwArgumentError(`invalid array length for ${r}`,"value",A);let s=[];return A.forEach(function(o){s.push(Wh(j,o,!0))}),uA(s)}return zn.throwArgumentError("invalid type","type",r)}function $o(r,A){r.length!=A.length&&zn.throwArgumentError("wrong number of values; expected ${ types.length }","values",A);let e=[];return r.forEach(function(t,j){e.push(Wh(t,A[j]))}),Q(uA(e))}function Xh(r,A){return dA($o(r,A))}function Qh(r,A){return it($o(r,A))}var Zh="units/5.7.0";var Yh=new C(Zh),Ap=["wei","kwei","mwei","gwei","szabo","finney","ether"];function ep(r){let A=String(r).split(".");(A.length>2||!A[0].match(/^-?[0-9]*$/)||A[1]&&!A[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&Yh.throwArgumentError("invalid value","value",r);let e=A[0],t="";for(e.substring(0,1)==="-"&&(t="-",e=e.substring(1));e.substring(0,1)==="0";)e=e.substring(1);e===""&&(e="0");let j="";for(A.length===2&&(j="."+(A[1]||"0"));j.length>2&&j[j.length-1]==="0";)j=j.substring(0,j.length-1);let n=[];for(;e.length;)if(e.length<=3){n.unshift(e);break}else{let s=e.length-3;n.unshift(e.substring(s)),e=e.substring(0,s)}return t+n.join(",")+j}function A6(r,A){if(typeof A=="string"){let e=Ap.indexOf(A);e!==-1&&(A=3*e)}return cn(r,A??18)}function e6(r,A){if(typeof r!="string"&&Yh.throwArgumentError("value must be a string","value",r),typeof A=="string"){let e=Ap.indexOf(A);e!==-1&&(A=3*e)}return vt(r,A??18)}function tp(r){return A6(r,18)}function rp(r){return e6(r,18)}var Io="ethers/5.7.2";var jp=new C(Io);try{let r=window;r._ethers==null&&(r._ethers=t6)}catch{}var Oo=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldFeeRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newFeeRate",type:"uint256"}],name:"FeeRateUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes16",name:"policyId",type:"bytes16"},{indexed:!0,internalType:"address",name:"sponsor",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint16",name:"size",type:"uint16"},{indexed:!1,internalType:"uint32",name:"startTimestamp",type:"uint32"},{indexed:!1,internalType:"uint32",name:"endTimestamp",type:"uint32"},{indexed:!1,internalType:"uint256",name:"cost",type:"uint256"}],name:"PolicyCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SET_RATE_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"WITHDRAW_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes16",name:"_policyId",type:"bytes16"},{internalType:"address",name:"_policyOwner",type:"address"},{internalType:"uint16",name:"_size",type:"uint16"},{internalType:"uint32",name:"_startTimestamp",type:"uint32"},{internalType:"uint32",name:"_endTimestamp",type:"uint32"}],name:"createPolicy",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"feeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes16",name:"_policyID",type:"bytes16"}],name:"getPolicy",outputs:[{components:[{internalType:"address payable",name:"sponsor",type:"address"},{internalType:"uint32",name:"startTimestamp",type:"uint32"},{internalType:"uint32",name:"endTimestamp",type:"uint32"},{internalType:"uint16",name:"size",type:"uint16"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct SubscriptionManager.Policy",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_size",type:"uint16"},{internalType:"uint32",name:"_startTimestamp",type:"uint32"},{internalType:"uint32",name:"_endTimestamp",type:"uint32"}],name:"getPolicyCost",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_feeRate",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes16",name:"_policyID",type:"bytes16"}],name:"isPolicyActive",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_ratePerSecond",type:"uint256"}],name:"setFeeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address payable",name:"recipient",type:"address"}],name:"sweep",outputs:[],stateMutability:"nonpayable",type:"function"}],np="0x608060405234801561001057600080fd5b506111bc806100206000396000f3fe6080604052600436106100fe5760003560e01c806358db2a7211610095578063978bbdb911610064578063978bbdb9146103e0578063a217fddf146103f6578063d547741f1461040b578063e02023a11461042b578063fe4b84df1461045f57600080fd5b806358db2a721461032557806358f70858146103455780637ef3c6d51461037957806391d14854146103c057600080fd5b80632f2ff15d116100d15780632f2ff15d146102b257806336568abe146102d257806345596e2e146102f25780634f0040411461031257600080fd5b806301681a621461010357806301ffc9a714610125578063248a9ca31461015a5780632c81516114610198575b600080fd5b34801561010f57600080fd5b5061012361011e366004610e65565b61047f565b005b34801561013157600080fd5b50610145610140366004610e82565b61054a565b60405190151581526020015b60405180910390f35b34801561016657600080fd5b5061018a610175366004610eac565b60009081526065602052604090206001015490565b604051908152602001610151565b3480156101a457600080fd5b506102576101b3366004610ee2565b6040805160a081018252600080825260208201819052918101829052606081018290526080810191909152506001600160801b031916600090815260986020908152604091829020825160a08101845281546001600160a01b038082168352600160a01b820463ffffffff90811695840195909552600160c01b820490941694820194909452600160e01b90930461ffff1660608401526001015416608082015290565b604051610151919081516001600160a01b03908116825260208084015163ffffffff908116918401919091526040808501519091169083015260608084015161ffff1690830152608092830151169181019190915260a00190565b3480156102be57600080fd5b506101236102cd366004610efd565b610581565b3480156102de57600080fd5b506101236102ed366004610efd565b6105ac565b3480156102fe57600080fd5b5061012361030d366004610eac565b61062a565b610123610320366004610f53565b61065e565b34801561033157600080fd5b5061018a610340366004610fba565b610723565b34801561035157600080fd5b5061018a7f637ca263f44c0a7e4a3b057e26c82c5667c084aa950864a2916355c481f6a09781565b34801561038557600080fd5b50610145610394366004610ee2565b6001600160801b03191660009081526098602052604090205442600160c01b90910463ffffffff161190565b3480156103cc57600080fd5b506101456103db366004610efd565b6107f3565b3480156103ec57600080fd5b5061018a60975481565b34801561040257600080fd5b5061018a600081565b34801561041757600080fd5b50610123610426366004610efd565b61081e565b34801561043757600080fd5b5061018a7fc1f0c13d12a4ca09aada5725e24c49160e8f198a4ca0d2bd4dafc9c5c12e6a3581565b34801561046b57600080fd5b5061012361047a366004610eac565b610844565b7fc1f0c13d12a4ca09aada5725e24c49160e8f198a4ca0d2bd4dafc9c5c12e6a356104aa8133610965565b60405147906000906001600160a01b0385169083908381818185875af1925050503d80600081146104f7576040519150601f19603f3d011682016040523d82523d6000602084013e6104fc565b606091505b50509050806105445760405162461bcd60e51b815260206004820152600f60248201526e2330b4b632b2103a3930b739b332b960891b60448201526064015b60405180910390fd5b50505050565b60006001600160e01b03198216637965db0b60e01b148061057b57506301ffc9a760e01b6001600160e01b03198316145b92915050565b60008281526065602052604090206001015461059d8133610965565b6105a783836109c9565b505050565b6001600160a01b038116331461061c5760405162461bcd60e51b815260206004820152602f60248201527f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636560448201526e103937b632b9903337b91039b2b63360891b606482015260840161053b565b6106268282610a4f565b5050565b7f637ca263f44c0a7e4a3b057e26c82c5667c084aa950864a2916355c481f6a0976106558133610965565b61062682610ab6565b8063ffffffff168263ffffffff1610801561067e57508063ffffffff1642105b6106bf5760405162461bcd60e51b8152602060048201526012602482015271496e76616c69642074696d657374616d707360701b604482015260640161053b565b6106ca838383610723565b341461070e5760405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a59081c1bdb1a58de4818dbdcdd606a1b604482015260640161053b565b61071b8585858585610afb565b505050505050565b6000806107308484611013565b905060008163ffffffff161161077d5760405162461bcd60e51b8152602060048201526012602482015271496e76616c69642074696d657374616d707360701b604482015260640161053b565b60008561ffff16116107c75760405162461bcd60e51b8152602060048201526013602482015272496e76616c696420706f6c6963792073697a6560681b604482015260640161053b565b8063ffffffff168561ffff166097546107e09190611038565b6107ea9190611038565b95945050505050565b60009182526065602090815260408084206001600160a01b0393909316845291905290205460ff1690565b60008281526065602052604090206001015461083a8133610965565b6105a78383610a4f565b600054610100900460ff1661085f5760005460ff1615610863565b303b155b6108c65760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201526d191e481a5b9a5d1a585b1a5e995960921b606482015260840161053b565b600054610100900460ff161580156108e8576000805461ffff19166101011790555b6108f182610ab6565b61091b7f637ca263f44c0a7e4a3b057e26c82c5667c084aa950864a2916355c481f6a09733610ca0565b6109457fc1f0c13d12a4ca09aada5725e24c49160e8f198a4ca0d2bd4dafc9c5c12e6a3533610ca0565b610950600033610ca0565b8015610626576000805461ff00191690555050565b61096f82826107f3565b61062657610987816001600160a01b03166014610caa565b610992836020610caa565b6040516020016109a3929190611083565b60408051601f198184030181529082905262461bcd60e51b825261053b916004016110f8565b6109d382826107f3565b6106265760008281526065602090815260408083206001600160a01b03851684529091529020805460ff19166001179055610a0b3390565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b610a5982826107f3565b156106265760008281526065602090815260408083206001600160a01b0385168085529252808320805460ff1916905551339285917ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b9190a45050565b609780549082905560408051828152602081018490527f14914da2bf76024616fbe1859783fcd4dbddcb179b1f3a854949fbf920dcb957910160405180910390a15050565b6001600160801b031985166000908152609860205260409020805442600160c01b90910463ffffffff1610610b725760405162461bcd60e51b815260206004820152601a60248201527f506f6c6963792069732063757272656e746c7920616374697665000000000000604482015260640161053b565b805461ffff8516600160e01b0261ffff60e01b1963ffffffff858116600160c01b029190911665ffffffffffff60c01b19918716600160a01b0263ffffffff60a01b19339081166001600160c01b0319909616959095171791909116171782556001600160a01b03861614801590610bf257506001600160a01b03851615155b15610c15576001810180546001600160a01b0319166001600160a01b0387161790555b6001600160a01b03851615610c2a5784610c2c565b335b6040805161ffff8716815263ffffffff868116602083015285168183015234606082015290516001600160a01b03929092169133916001600160801b03198a16917f3e7e513ddaf550a2b9b8c400d5a2428f924d4aae6d8de14c1e2c42e8431fca159181900360800190a495945050505050565b61062682826109c9565b60606000610cb9836002611038565b610cc490600261112b565b67ffffffffffffffff811115610cdc57610cdc611143565b6040519080825280601f01601f191660200182016040528015610d06576020820181803683370190505b509050600360fc1b81600081518110610d2157610d21611159565b60200101906001600160f81b031916908160001a905350600f60fb1b81600181518110610d5057610d50611159565b60200101906001600160f81b031916908160001a9053506000610d74846002611038565b610d7f90600161112b565b90505b6001811115610df7576f181899199a1a9b1b9c1cb0b131b232b360811b85600f1660108110610db357610db3611159565b1a60f81b828281518110610dc957610dc9611159565b60200101906001600160f81b031916908160001a90535060049490941c93610df08161116f565b9050610d82565b508315610e465760405162461bcd60e51b815260206004820181905260248201527f537472696e67733a20686578206c656e67746820696e73756666696369656e74604482015260640161053b565b9392505050565b6001600160a01b0381168114610e6257600080fd5b50565b600060208284031215610e7757600080fd5b8135610e4681610e4d565b600060208284031215610e9457600080fd5b81356001600160e01b031981168114610e4657600080fd5b600060208284031215610ebe57600080fd5b5035919050565b80356001600160801b031981168114610edd57600080fd5b919050565b600060208284031215610ef457600080fd5b610e4682610ec5565b60008060408385031215610f1057600080fd5b823591506020830135610f2281610e4d565b809150509250929050565b803561ffff81168114610edd57600080fd5b803563ffffffff81168114610edd57600080fd5b600080600080600060a08688031215610f6b57600080fd5b610f7486610ec5565b94506020860135610f8481610e4d565b9350610f9260408701610f2d565b9250610fa060608701610f3f565b9150610fae60808701610f3f565b90509295509295909350565b600080600060608486031215610fcf57600080fd5b610fd884610f2d565b9250610fe660208501610f3f565b9150610ff460408501610f3f565b90509250925092565b634e487b7160e01b600052601160045260246000fd5b600063ffffffff8381169083168181101561103057611030610ffd565b039392505050565b600081600019048311821515161561105257611052610ffd565b500290565b60005b8381101561107257818101518382015260200161105a565b838111156105445750506000910152565b7f416363657373436f6e74726f6c3a206163636f756e74200000000000000000008152600083516110bb816017850160208801611057565b7001034b99036b4b9b9b4b733903937b6329607d1b60179184019182015283516110ec816028840160208801611057565b01602801949350505050565b6020815260008251806020840152611117816040850160208701611057565b601f01601f19169190910160400192915050565b6000821982111561113e5761113e610ffd565b500190565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b60008161117e5761117e610ffd565b50600019019056fea26469706673582212207579dc0a825776e3c879b178544a69dd8110090a91fe12ab18231504b8be3ae964736f6c634300080c0033",w1=r=>r.length>1,nj=class extends Lj{constructor(...A){w1(A)?super(...A):super(Oo,np,A[0]),this.contractName="SubscriptionManager"}deploy(A){return super.deploy(A||{})}getDeployTransaction(A){return super.getDeployTransaction(A||{})}attach(A){return super.attach(A)}connect(A){return super.connect(A)}contractName;static createInterface(){return new Ot.Interface(Oo)}static connect(A,e){return new $r(A,Oo,e)}};$e(nj,"contractName"),$e(nj,"bytecode",np),$e(nj,"abi",Oo);var ti=(e=>(e[e.POLYGON=137]="POLYGON",e[e.MUMBAI=80001]="MUMBAI",e))(ti||{});var E1={SUBSCRIPTION_MANAGER:"0xB0194073421192F6Cf38d72c791Be8729721A0b3"},k1={SUBSCRIPTION_MANAGER:"0xb9015d7b35ce7c81dde38ef7136baa3b1044f313"},q1={[137]:E1,[80001]:k1},sp=r=>{if(!Object.values(ti).includes(r))throw new Error(`No contracts found for chainId: ${r}`);return q1[r]},ip=1;var ri=class{static async createPolicy(A,e,t,j,n,s,o){let a=await this.connect(A.provider,A.signer),i={value:e.toString()},c=await a.estimateGas.createPolicy(Ot.hexlify(t),o,j,n,s,i),l=await a.createPolicy(Ot.hexlify(t),o,j,n,s,{...i,gasLimit:c});return await l.wait(ip),l}static async getPolicyCost(A,e,t,j){return await(await this.connect(A)).getPolicyCost(e,t,j)}static async connect(A,e){let t=await A.getNetwork(),j=sp(t.chainId).SUBSCRIPTION_MANAGER;return nj.connect(j,e??A)}};var sj=class{constructor(A){this.web3Provider=A}static fromEthersWeb3Provider(A){return new sj(A)}getAddress(){return this.web3Provider.getSigner().getAddress()}get provider(){return this.web3Provider}get signer(){return this.web3Provider.getSigner()}},op=r=>{let A="0x",e=r.startsWith(A)?r.substring(A.length):r;return ui(e)};var So=class{constructor(A,e,t,j,n,s,o,a){this.id=A;this.label=e;this.policyKey=t;this.encryptedTreasureMap=j;this.aliceVerifyingKey=n;this.size=s;this.startTimestamp=o;this.endTimestamp=a}async enact(A){let e=await this.publish(A);return{...this,txHash:e}}async publish(A){let e=qa(this.startTimestamp),t=qa(this.endTimestamp),j=await A.web3Provider.getAddress(),n=await ri.getPolicyCost(A.web3Provider.provider,this.size,e,t);return(await ri.createPolicy(A.web3Provider,n,this.id.toBytes(),this.size,e,t,j)).hash}},Po=class{constructor(A,e,t,j,n,s,o,a,i){this.publisher=A;this.label=e;this.bob=t;this.verifiedKFrags=j;this.delegatingKey=n;this.threshold=s;this.shares=o;this.startDate=a;this.endDate=i;this.hrac=new We(this.publisher.verifyingKey,this.bob.verifyingKey,sn(this.label))}hrac;async enact(A){return await(await this.generatePreEnactedPolicy(A)).enact(this.publisher)}async generatePreEnactedPolicy(A){let e=this.makeTreasureMap(A,this.verifiedKFrags),t=this.encryptTreasureMap(e);return new So(this.hrac,this.label,this.delegatingKey,t,this.publisher.verifyingKey.toBytes(),this.shares,this.startDate,this.endDate)}makeTreasureMap(A,e){let t=[];return on(A,e).forEach(([j,n])=>{let s=new ct(op(j.checksumAddress));t.push([s,[j.encryptingKey,n]])}),new Xt(this.publisher.signer,this.hrac,this.delegatingKey,t,this.threshold)}encryptTreasureMap(A){return A.encrypt(this.publisher.signer,this.bob.decryptingKey)}};var z6=bt(pm()),xg=bt(Bg());var zt=class{porterUrl;constructor(A){this.porterUrl=new URL(A)}async getUrsulas(A,e,t){let j={quantity:A,exclude_ursulas:e,include_ursulas:t};return(await z6.default.get(new URL("/get_ursulas",this.porterUrl).toString(),{params:j,paramsSerializer:s=>xg.default.stringify(s,{arrayFormat:"comma"})})).data.result.ursulas.map(s=>({checksumAddress:s.checksum_address,uri:s.uri,encryptingKey:cA.fromBytes(ui(s.encrypting_key))}))}async retrieveCFrags(A,e,t,j,n,s){let o=s?await s.toJson():void 0,a={treasure_map:hi(A.toBytes()),retrieval_kits:e.map(c=>hi(c.toBytes())),alice_verifying_key:di(t.toBytes()),bob_encrypting_key:di(j.toBytes()),bob_verifying_key:di(n.toBytes()),context:o};return(await z6.default.post(new URL("/retrieve_cfrags",this.porterUrl).toString(),a)).data.result.retrieval_results.map(({cfrags:c,errors:l})=>{let u=Object.keys(c).map(h=>[h,zr.fromBytes(ka(c[h]))]);return{cFrags:Object.fromEntries(u),errors:l}})}};var Zj=class{constructor(A,e,t){this.web3Provider=t;this.porter=new zt(A.porterUri),this.keyring=new Gt(e)}porter;keyring;get verifyingKey(){return this.keyring.publicKey}get signer(){return this.keyring.signer}static fromSecretKey(A,e,t){let j=sj.fromEthersWeb3Provider(t);return new Zj(A,e,j)}getPolicyEncryptingKeyFromLabel(A){return this.keyring.getPublicKeyFromLabel(A)}async grant(A,e,t){let j=await this.porter.getUrsulas(A.shares,t,e);return await(await this.createPolicy(A)).enact(j)}async generatePreEnactedPolicy(A,e,t){let j=await this.porter.getUrsulas(A.shares,t,e);return await(await this.createPolicy(A)).generatePreEnactedPolicy(j)}generateKFrags(A,e,t,j){return this.keyring.generateKFrags(A.decryptingKey,this.signer,e,t,j)}async createPolicy(A){let{bob:e,label:t,threshold:j,shares:n,startDate:s,endDate:o}=await this.validatePolicyParameters(A),{delegatingKey:a,verifiedKFrags:i}=this.generateKFrags(e,t,j,n);return new Po(this,t,e,i,a,j,n,s,o)}async validatePolicyParameters(A){let e=A.startDate??new Date,{endDate:t,threshold:j,shares:n}=A;if(j>n)throw new Error(`Threshold may not be greater than number of shares: ${j} > ${n}`);if(t<new Date(Date.now()))throw new Error(`End date must be in the future: ${t}).`);if(e>t)throw new Error(`Start date must accur before end date: ${e} > ${t}).`);let s=await this.web3Provider.provider.getBlockNumber(),o=await this.web3Provider.provider.getBlock(s),a=new Date(o.timestamp*1e3);if(t<a)throw new Error(`End date must be in the future, ${t} is earlier than block time ${a}).`);return{...A,startDate:e}}};var ci=class{constructor(A,e){this.decryptingKey=A;this.verifyingKey=e}static fromKeys(A,e){let t=A instanceof cA?A:cA.fromBytes(A),j=e instanceof cA?e:cA.fromBytes(e);return new ci(t,j)}},Yj=class{porter;keyring;constructor(A,e){this.porter=new zt(A.porterUri),this.keyring=new Gt(e)}get decryptingKey(){return this.keyring.publicKey}get verifyingKey(){return this.keyring.publicKey}get signer(){return this.keyring.signer}static fromSecretKey(A,e){return new Yj(A,e)}decrypt(A){return this.keyring.decrypt(A)}async retrieveAndDecrypt(A,e,t,j){let n=await this.retrieve(A,e,t,j);return n.forEach(s=>{if(!s.isDecryptableByReceiver()){let o=`Not enough cFrags retrieved to open capsule ${s.capsule}.`;if(Object.values(s.errors).length>0){let a=Object.entries(s.errors).map(([i,c])=>`${i} - ${c}`);throw Error(`${o} Some Ursulas have failed with errors:
${a.join(`
`)}`)}else throw Error(o)}}),n.map(s=>this.keyring.decrypt(s))}async retrieve(A,e,t,j){let n=j.decrypt(this.keyring.secretKey,e),s=t.map(i=>yt.fromMessageKit(i,A,n.threshold)),o=s.map(i=>i.asRetrievalKit()),a=await this.porter.retrieveCFrags(n,o,e,this.decryptingKey,this.verifyingKey);return on(s,a).map(i=>{let[c,{cFrags:l,errors:u}]=i,f=Object.keys(l).map(d=>{let m=l[d].verify(c.capsule,e,A,this.decryptingKey);return[d,m]}),h=new Ft(Object.fromEntries(f),u);return c.withResult(h)})}};var js=class{policyEncryptingKey;keyring;conditions;constructor(A,e,t){this.policyEncryptingKey=A,this.keyring=new Gt(e??he.random()),this.conditions=t}get verifyingKey(){return this.keyring.publicKey}encryptMessage(A,e){return e||(e=this.conditions),new Wt(this.policyEncryptingKey,A instanceof Uint8Array?A:sn(A),e?e.toWASMConditions():null)}};var Tr=class{constructor(A,e,t,j,n){this.policyEncryptingKey=e;this.encryptedTreasureMap=t;this.publisherVerifyingKey=j;this.porter=new zt(A),this.keyring=new Gt(n)}porter;keyring;get decryptingKey(){return this.keyring.publicKey}get signer(){return this.keyring.signer}decrypt(A){return this.keyring.decrypt(A)}async retrieveAndDecrypt(A,e){let t=await this.retrieve(A,e);return t.forEach(j=>{if(!j.isDecryptableByReceiver()){let n=`Not enough cFrags retrieved to open capsule ${j.capsule}.`;if(Object.values(j.errors).length>0){let s=Object.entries(j.errors).map(([o,a])=>`${o} - ${a}`);throw Error(`${n} Some Ursulas have failed with errors:
${s.join(`
`)}`)}else throw Error(n)}}),t.map(j=>this.keyring.decrypt(j))}async retrieve(A,e){let t=this.encryptedTreasureMap.decrypt(this.keyring.secretKey,this.publisherVerifyingKey),j=A.map(o=>yt.fromMessageKit(o,this.policyEncryptingKey,t.threshold)),n=j.map(o=>o.asRetrievalKit()),s=await this.porter.retrieveCFrags(t,n,this.publisherVerifyingKey,this.decryptingKey,this.keyring.publicKey,e);return on(j,s).map(o=>{let[a,{cFrags:i,errors:c}]=o,l=Object.keys(i).map(f=>{let h=i[f].verify(a.capsule,this.publisherVerifyingKey,this.policyEncryptingKey,this.decryptingKey);return[f,h]}),u=new Ft(Object.fromEntries(l),c);return a.withResult(u)})}toObj(){return{porterUri:this.porter.porterUrl.toString(),policyEncryptingKeyBytes:this.policyEncryptingKey.toBytes(),encryptedTreasureMapBytes:this.encryptedTreasureMap.toBytes(),publisherVerifyingKeyBytes:this.publisherVerifyingKey.toBytes(),bobSecretKeyBytes:this.keyring.secretKey.toSecretBytes()}}toJSON(){return JSON.stringify(this.toObj(),fs)}static fromObj({porterUri:A,policyEncryptingKeyBytes:e,encryptedTreasureMapBytes:t,publisherVerifyingKeyBytes:j,bobSecretKeyBytes:n}){return new Tr(A,cA.fromBytes(e),Pt.fromBytes(t),cA.fromBytes(j),he.fromBytes(n))}static fromJSON(A){let e=JSON.parse(A,cs);return Tr.fromObj(e)}};var ew={[137]:{porterUri:"https://porter.nucypher.community"},[80001]:{porterUri:"https://porter-tapir.nucypher.community"}},tw=r=>{if(!Object.values(ti).includes(r))throw new Error(`No default configuration found for chainId: ${r}`);return ew[r]};var V6=class{revocationOrder;constructor(A,e){this.revocationOrder=A.makeRevocationOrders(e)}};var Ce=bt(vg());var ns=class{constructor(A){this.operator=A;if(!ns.LOGICAL_OPERATORS.includes(A))throw`"${A}" is not a valid operator`;this.operator=A}toObj(){return{operator:this.operator}}static fromObj(A){return new ns(A.operator)}static AND(){return new ns("and")}static OR(){return new ns("or")}},An=ns;$e(An,"LOGICAL_OPERATORS",["and","or"]);var ss=class{constructor(A){this.conditions=A}validate(){if(this.conditions.length%2===0)throw new Error("conditions must be odd length, ever other element being an operator");return this.conditions.forEach((A,e)=>{if(e%2&&A.constructor.name!=="Operator")throw new Error(`${e} element must be an Operator; Got ${A.constructor.name}.`);if(!(e%2)&&A.constructor.name==="Operator")throw new Error(`${e} element must be a Condition; Got ${A.constructor.name}.`)}),!0}toList(){return this.conditions.map(A=>A.toObj())}static fromList(A){return new ss(A.map(e=>"operator"in e?An.fromObj(e):gt.fromObj(e)))}toJson(){return JSON.stringify(this.toList())}static fromJSON(A){return ss.fromList(JSON.parse(A))}toWASMConditions(){return new Jt(this.toJson())}buildContext(A){let e=sj.fromEthersWeb3Provider(A);return new ta(this,e)}},ra=class{constructor(A={}){this.value=A}schema=Ce.default.object();defaults={};validationError;get error(){return this.validationError?.message}makeReturnValueTest(){return Ce.default.object({comparator:Ce.default.string().valid(...ra.COMPARATOR_OPERATORS).required(),value:Ce.default.string().required()})}toObj(){let{error:A,value:e}=this.validate();if(A)throw Error(A.message);return e}static fromObj(A){return new ra(A)}validate(A={}){let e=Object.assign(this.defaults,this.value,A);return this.schema.validate(e)}getContextParameters(){let A=this.toObj(),e=[],t=A.method;t&&(e=[...fj.CONTEXT_PARAMETERS_PER_METHOD[t]??[]]);let j=A.returnValueTest;return j&&e.push(j.value),e=[...e,...A.parameters??[]],[...new Set(e.filter(s=>e.includes(s)))]}},gt=ra;$e(gt,"COMPARATOR_OPERATORS",["==",">","<",">=","<=","!="]),$e(gt,"SUPPORTED_CHAINS",[1,5,137,80001]);var rw=(r,A,e)=>(Object.entries(A).forEach(([t,j])=>{r=r.when(e,{is:t,then:j})}),r),ea=class extends gt{defaults={method:"timelock"};schema=Ce.default.object({returnValueTest:this.makeReturnValueTest(),method:"timelock"})};$e(ea,"CONDITION_TYPE","timelock");var ja=class extends gt{schema=Ce.default.object({chain:Ce.default.number().valid(...gt.SUPPORTED_CHAINS).required(),method:Ce.default.string().valid(...ja.RPC_METHODS).required(),parameters:Ce.default.array().required(),returnValueTest:this.makeReturnValueTest()});getContextParameters=()=>{let A=this.toObj(),e=A.method,t=A.parameters??[],j=ja.CONTEXT_PARAMETERS_PER_METHOD[e],n=A.returnValueTest,s=[...j??[],n.value];return t.filter(o=>s.includes(o))}},fj=ja;$e(fj,"CONDITION_TYPE","rpc"),$e(fj,"RPC_METHODS",["eth_getBalance","balanceOf"]),$e(fj,"PARAMETERS_PER_METHOD",{eth_getBalance:["address"],balanceOf:["address"]}),$e(fj,"CONTEXT_PARAMETERS_PER_METHOD",{eth_getBalance:[":userAddress"],balanceOf:[":userAddress"]});var na=class extends gt{makeMethod=()=>rw(Ce.default.string(),na.METHODS_PER_CONTRACT_TYPE,"standardContractType");schema=Ce.default.object({contractAddress:Ce.default.string().pattern(new RegExp("^0x[a-fA-F0-9]{40}$")).required(),chain:Ce.default.string().valid(...gt.SUPPORTED_CHAINS).required(),standardContractType:Ce.default.string().valid(...na.STANDARD_CONTRACT_TYPES).optional(),functionAbi:Ce.default.object().optional(),method:this.makeMethod().required(),parameters:Ce.default.array().required(),returnValueTest:this.makeReturnValueTest()}).xor("standardContractType","functionAbi")},pr=na;$e(pr,"CONDITION_TYPE","evm"),$e(pr,"STANDARD_CONTRACT_TYPES",["ERC20","ERC721"]),$e(pr,"METHODS_PER_CONTRACT_TYPE",{ERC20:["balanceOf"],ERC721:["balanceOf","ownerOf"],ERC1155:["balanceOf"]}),$e(pr,"PARAMETERS_PER_METHOD",{balanceOf:["address"],ownerOf:["tokenId"]}),$e(pr,"CONTEXT_PARAMETERS_PER_METHOD",{balanceOf:[":userAddress"],ownerOf:[":userAddress"]});var W6=class extends pr{defaults={method:"ownerOf",parameters:[],standardContractType:"ERC721",returnValueTest:{comparator:"==",value:":userAddress"}}},X6=class extends pr{defaults={method:"balanceOf",parameters:[":userAddress"],standardContractType:"ERC721",returnValueTest:{comparator:">",value:"0"}}},ta=class{constructor(A,e){this.conditionSet=A;this.web3Provider=e}walletSignature;get contextParameters(){return this.conditionSet.conditions.map(e=>e instanceof gt?e.getContextParameters():null).filter(e=>!!e).flat()}async getOrCreateWalletSignature(){let A=await this.web3Provider.signer.getAddress(),e=`wallet-signature-${A}`,t=typeof localStorage<"u";if(t){let s=localStorage.getItem(e);if(s)return JSON.parse(s)}let j=this.walletSignature?.[A];if(j)return t&&localStorage.setItem(e,j),JSON.parse(j);let n=await this.createWalletSignature();return t&&localStorage.setItem(e,JSON.stringify(n)),this.walletSignature||(this.walletSignature={}),this.walletSignature[A]=JSON.stringify(n),n}async createWalletSignature(){let{blockNumber:A,blockHash:e,chainId:t}=await this.getChainData(),j=await this.web3Provider.signer.getAddress(),n=`I'm the owner of address ${j} as of block number ${A}`,s=Ot.hexlify(Ot.randomBytes(32)),o={types:{Wallet:[{name:"address",type:"address"},{name:"signatureText",type:"string"},{name:"blockNumber",type:"uint256"},{name:"blockHash",type:"bytes32"}]},domain:{name:"tDec",version:"1",chainId:t,salt:s},message:{address:j,signatureText:n,blockNumber:A,blockHash:e}},a=await this.web3Provider.signer._signTypedData(o.domain,o.types,o.message),i={...o,primaryType:"Wallet",types:{...o.types,EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"salt",type:"bytes32"}]}};return{signature:a,typedData:i,address:j}}async getChainData(){let A=await this.web3Provider.provider.getBlockNumber(),e=(await this.web3Provider.provider.getBlock(A)).hash,t=(await this.web3Provider.provider.getNetwork()).chainId;return{blockNumber:A,blockHash:e,chainId:t}}toJson=async()=>{if(!this.contextParameters.find(j=>j===":userAddress"))return JSON.stringify({});let t={":userAddress":await this.getOrCreateWalletSignature()};return JSON.stringify(t)}},jw=new An("or"),nw=new An("and"),sw={ERC721Ownership:W6,ERC721Balance:X6,EvmCondition:pr,TimelockCondition:ea,RpcCondition:fj,Condition:gt,OR:jw,AND:nw};var mr=class{constructor(A,e){this.ursulaAddresses=A;this.configuration=e}static async create(A,e=[],t=[]){let s=(await new zt(A.porterUri).getUrsulas(A.shares,t,e.splice(0,A.shares))).map(o=>o.checksumAddress);return new mr(s,A)}get shares(){return this.ursulaAddresses.length}toJSON(){return JSON.stringify(this.toObj())}static fromJSON(A){let e=JSON.parse(A);return mr.fromObj(e)}static fromObj({ursulaAddresses:A,threshold:e,shares:t,porterUri:j}){let n={threshold:e,shares:t,porterUri:j};return new mr(A,n)}toObj(){return{ursulaAddresses:this.ursulaAddresses,threshold:this.configuration.threshold,shares:this.configuration.shares,porterUri:this.configuration.porterUri}}};var en=class{constructor(A,e,t,j,n,s){this.cohort=A;this.aliceSecretKey=e;this.bobSecretKey=t;this.startDate=j;this.endDate=n;this.conditionSet=s}static create(A,e,t,j,n,s){return t||(t=he.random()),j||(j=he.random()),n||(n=new Date(Date.now())),s||(s=new Date(Date.now()+1e3*60*60*24*30)),new en(A,t,j,n,s,e)}async deploy(A,e){let j={porterUri:this.cohort.configuration.porterUri},n=Zj.fromSecretKey(j,this.aliceSecretKey,e),o={bob:new Yj(j,this.bobSecretKey),label:A,threshold:this.cohort.configuration.threshold,shares:this.cohort.configuration.shares,startDate:this.startDate,endDate:this.endDate},a=await n.grant(o,this.cohort.ursulaAddresses),i=new js(a.policyKey,void 0,this.conditionSet),c=new Tr(this.cohort.configuration.porterUri,a.policyKey,a.encryptedTreasureMap,n.verifyingKey,this.bobSecretKey);return new tn(A,this.cohort,a,i,c,this.bobSecretKey,this.conditionSet)}static fromJSON(A){let e=JSON.parse(A,cs);return en.fromObj(e)}toJSON(){return JSON.stringify(this.toObj(),fs)}static fromObj({cohort:A,aliceSecretKeyBytes:e,bobSecretKeyBytes:t,conditionSet:j,startDate:n,endDate:s}){return new en(mr.fromObj(A),he.fromBytes(e),he.fromBytes(t),n,s,j)}toObj(){return{cohort:this.cohort.toObj(),aliceSecretKeyBytes:this.aliceSecretKey.toSecretBytes(),bobSecretKeyBytes:this.bobSecretKey.toSecretBytes(),conditionSet:this.conditionSet,startDate:this.startDate,endDate:this.endDate}}},tn=class{constructor(A,e,t,j,n,s,o){this.label=A;this.cohort=e;this.policy=t;this.encrypter=j;this.decrypter=n;this.bobSecretKey=s;this.conditionSet=o}static fromJSON(A){let e=JSON.parse(A,cs);return tn.fromObj(e)}toJSON(){return JSON.stringify(this.toObj(),fs)}static fromObj({policy:A,cohortConfig:e,bobSecretKeyBytes:t,conditionSet:j}){let n=We.fromBytes(A.id),s=cA.fromBytes(A.policyKey),o=Pt.fromBytes(A.encryptedTreasureMap),a=cA.fromBytes(A.aliceVerifyingKey),i={id:n,label:A.label,policyKey:s,encryptedTreasureMap:o,aliceVerifyingKey:a.toBytes(),size:A.size,startTimestamp:A.startTimestamp,endTimestamp:A.endTimestamp,txHash:A.txHash},c=he.fromBytes(t),l=i.label,u=mr.fromObj(e),f=new js(i.policyKey,void 0,j),h=new Tr(u.configuration.porterUri,s,o,a,c);return new tn(l,u,i,f,h,c,j)}toObj(){return{policy:{...this.policy,id:this.policy.id.toBytes(),policyKey:this.policy.policyKey.toBytes(),encryptedTreasureMap:this.policy.encryptedTreasureMap.toBytes()},cohortConfig:this.cohort.toObj(),bobSecretKeyBytes:this.bobSecretKey.toSecretBytes(),conditionSet:this.conditionSet}}},Q6=class{constructor(A,e,t,j){this.label=A;this.policy=e;this.encrypter=t;this.decrypter=j}};export{Zj as Alice,Yj as Bob,mr as Cohort,gt as Condition,ta as ConditionContext,ss as ConditionSet,sw as Conditions,tn as DeployedStrategy,Pt as EncryptedTreasureMap,js as Enrico,We as HRAC,Gt as Keyring,Wt as MessageKit,An as Operator,yt as PolicyMessageKit,zt as Porter,So as PreEnactedPolicy,cA as PublicKey,ci as RemoteBob,V6 as RevocationKit,Q6 as RevokedStrategy,he as SecretKey,Xe as Signer,en as Strategy,Xt as TreasureMap,tw as defaultConfiguration,Tr as tDecDecrypter};
/*! Bundled license information:

js-sha3/src/sha3.js:
  (**
   * [js-sha3]{@link https://github.com/emn178/js-sha3}
   *
   * @version 0.8.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2015-2018
   * @license MIT
   *)
*/
